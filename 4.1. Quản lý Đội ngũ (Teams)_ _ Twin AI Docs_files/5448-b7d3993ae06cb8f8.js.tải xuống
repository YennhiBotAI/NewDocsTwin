!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="36d3e257-ca1c-4628-bd36-70374450a612",e._sentryDebugIdIdentifier="sentry-dbid-36d3e257-ca1c-4628-bd36-70374450a612")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5448],{25448:(e,t,o)=>{o.d(t,{A:()=>tF});var r=o(41014),n=o(95615),i=o(37526),a=o(38233),s=o(44614),l=o(88494),d=o(73478),u=o(12778),c=o(35806),m=o(80908),p=o(78246),h=o(14188);let g=e=>{let{src:t,slide:o,captionsUrl:n,demoOrientation:a,showCCButton:s}=e,l=(0,i.useRef)(null),d=(0,i.useRef)(null),u=(0,i.useRef)(0),g=(0,i.useRef)(0),[x,f]=(0,i.useState)(""),[v,b]=(0,i.useState)([]),[w,y]=(0,i.useState)(!1),{isProgressBarVisible:k}=(0,m.A)(),{setAssetLoaded:j,setStepPlayState:S,currentStepPlayState:N,muteState:E,unmuteAudio:M,captionEnabled:C}=(0,p.Y)((0,c.k)(e=>({setAssetLoaded:e.setAssetLoaded,setStepPlayState:e.setStepPlayState,currentStepPlayState:e.stepPlayStates[o],muteState:e.muteState,unmuteAudio:e.unmuteAudio,captionEnabled:e.captionEnabled}))),T=C&&s&&x&&n,I=(0,i.useCallback)(async()=>{if(n&&C)try{let e=await fetch(n),t=(await e.text()).split("\n").slice(1),o=[],r=null;t.forEach(e=>{if(!(!e.trim()||e.includes("REGION")))if(e.includes("--\x3e")){let[t,n]=e.split("region:"),[i,a]=t.split("--\x3e").map(e=>e.trim()).map(z);r={start:i,end:a,text:""},o.push(r)}else r&&(r.text+=(r.text?" ":"")+e.trim())}),b(o),f(o[0].text)}catch(e){console.error("Error parsing subtitles:",e)}},[n,C]),z=e=>{let[t,o]=e.split("."),[r,n,i]=t.split(":").map(Number);return 3600*r+60*n+i+Number(o)/1e3},A=(0,i.useCallback)(e=>{var t;if(!C)return;let o=void 0!==e?e:(null==(t=l.current)?void 0:t.currentTime)||0,r=v.find(e=>o>=e.start&&o<=e.end);f(r?r.text:"")},[v,C]),F=(0,i.useCallback)(()=>{null===d.current&&(g.current=Date.now(),d.current=window.setInterval(()=>{let e=Date.now(),t=(e-g.current)/1e3;if(g.current=e,l.current){if(u.current+=t,l.current.duration&&u.current>=l.current.duration)return void P();A(u.current)}},50))},[A]),P=(0,i.useCallback)(()=>{null!==d.current&&(window.clearInterval(d.current),d.current=null)},[]),L=(0,i.useCallback)(()=>{setTimeout(()=>{j(o,"audio")},100)},[j,o]),R=(0,i.useCallback)(e=>{var t,o;if(null==(t=l.current)?void 0:t.src){if(u.current=e,"hard-mute"===E||null===E){y(!1),null==(o=l.current)||o.pause();return}if("soft-mute"===E)try{e<l.current.duration&&(l.current.currentTime=e,l.current.muted=!1,l.current.play().then(()=>{y(!0),M()}).catch(e=>{console.warn("Error playing audio",e),y(!1)}))}catch(e){console.warn("Error playing audio",e),y(!1)}else e<l.current.duration&&(l.current.currentTime=e,l.current.muted=!1,l.current.play().catch(e=>{console.warn("Error playing audio",e)}),y(!0))}},[E,M]);return(0,i.useEffect)(()=>{if(!N)return;let e="playing"===N.state&&"hard-mute"===E,t="playing"!==N.state&&null!==d.current;e&&l.current?(u.current=N.progress*N.duration,F()):t&&P()},[N,E,F,P]),(0,i.useEffect)(()=>{if(!N)return;let e=()=>{var e;w&&(y(!1),null==(e=l.current)||e.pause())};switch(N.state){case"playing":"hard-mute"===E?(()=>{if(w){var e;y(!1),null==(e=l.current)||e.pause()}})():t||N.hasVO?w||R(N.progress*N.duration):e();break;case"seeking":R(N.progress*N.duration),S(o,{playState:"playing"});break;default:e()}},[N,o,w,E,S,R]),(0,i.useEffect)(()=>{l.current&&(l.current.readyState>=2&&L(),I())},[o,L,I]),(0,i.useEffect)(()=>()=>{null!==d.current&&window.clearInterval(d.current)},[]),(0,r.jsxs)("div",{className:(0,h.x)("z-[51] pointer-events-none absolute","transition-bottom ease-in-out duration-500","vertical"===a?"px-4":"sm:px-8 px-4",k?"bottom-12":"bottom-3 sm:bottom-5 lg:bottom-7"),children:[(0,r.jsx)("audio",{ref:l,onLoadedMetadata:L,onLoadedData:L,onTimeUpdate:()=>A(),onError:e=>{console.warn("Error playing audio",e)},src:t||void 0}),T&&(0,r.jsx)("div",{className:(0,h.x)("vertical"===a?"text-sm px-2 py-1":"text-sm sm:text-base lg:text-lg px-3 py-1","subtitle-display text-center mx-auto bg-black/50 backdrop-blur-sm text-white rounded-md"),children:x})]})},x=()=>{let e=(0,i.useRef)(null),t=(0,i.useCallback)(()=>{e.current&&(clearInterval(e.current),e.current=null)},[]),o=(0,i.useCallback)(function(o){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{duration:n=1e3,steps:i=20,onComplete:s}=r;if(!o)return;if(t(),a.un){o.pause(),null==s||s();return}let l=o.volume,d=l/i,u=0;return e.current=setInterval(()=>{o.volume=Math.max(0,l-d*++u),u>=i&&(t(),o.pause(),o.volume=l,null==s||s())},n/i),()=>t()},[t]);return{fadeOut:o,fadeIn:(0,i.useCallback)(function(o){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{duration:n=1e3,steps:i=20,onComplete:s}=r;if(!o)return;if(t(),a.un){o.play(),null==s||s();return}let l=o.volume;o.volume=0,o.play();let d=l/i,u=0;return e.current=setInterval(()=>{o.volume=Math.min(l,d*++u),u>=i&&(t(),null==s||s())},n/i),()=>t()},[t]),volumeFade:(0,i.useCallback)((o,r)=>{let{duration:n=500,steps:i=10,targetVolume:s,previousVolume:l,onComplete:d}=r;if(!o)return;let u=s-l;if(0===u)return;if(t(),a.un){u>0?o.play():o.pause(),null==d||d();return}let c=o.volume,m=s-c,p=0;return e.current=setInterval(()=>{o.volume=Math.max(0,Math.min(1,c+m*(++p/i))),p>=i&&(t(),o.volume=s,null==d||d())},n/i),()=>t()},[t]),clearFade:t}},f=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{isPlaying:o=!1,onFadeOut:r,onFadeIn:n}=t,{fadeIn:a,fadeOut:s,clearFade:l}=x(),d=(0,i.useCallback)(()=>{let t=e.current;t&&o&&(document.hidden?(s(t),null==r||r()):(a(t),null==n||n()))},[s,a,o,e,r,n]);(0,i.useEffect)(()=>(document.addEventListener("visibilitychange",d),()=>{document.removeEventListener("visibilitychange",d),l()}),[d,l])};var v=o(74454);function b(e){return e>0?Math.round(1e3*e):0}function w(e){let{demoId:t,url:o,volume:n,mute:a,currentStep:s,hasUserInteracted:l,setHasUserInteracted:d,shouldRestartBackgroundMusic:u,setShouldRestartBackgroundMusic:c,shouldStopBackgroundMusic:m,setShouldStopBackgroundMusic:p,unmuteAudio:h}=e,g=(0,i.useRef)(null),[w,y]=(0,i.useState)(!1),k=(0,i.useRef)(n);(0,i.useEffect)(()=>{let e=g.current;e&&(e.volume=n)},[]),f(g,{isPlaying:w});let{fadeIn:j,fadeOut:S,volumeFade:N}=x();return(0,i.useEffect)(()=>{if(!l)return;let e=g.current;e&&(h(),e.muted=!1,j(e,{duration:3e3}),y(!0))},[l]),(0,i.useEffect)(()=>{let e=g.current;e&&(e.muted=a)},[a]),(0,i.useEffect)(()=>{d(!1);let e=g.current;e&&(e.pause(),e.currentTime=0,y(!1))},[t]),(0,i.useEffect)(()=>{let e=g.current;e&&n!==k.current&&(N(e,{targetVolume:n,previousVolume:k.current}),k.current=n)},[n]),(0,i.useEffect)(()=>{if(!u)return;let e=g.current;e&&(e.currentTime=0,j(e,{duration:3e3}),y(!0),c(!1))},[u]),(0,i.useEffect)(()=>{if(!m)return;let e=g.current;if(!e)return;let t=s.audio&&s.audioDuration?b(Number(s.audioDuration)):0,o=s.video&&s.videoDuration?b(Number(s.videoDuration)):0;S(e,{duration:Math.max(t,o)?Math.max(t,o)+3e3:3e3}),y(!1),p(!1)},[m,s]),(0,r.jsx)("audio",{src:(0,v.W)(o),ref:g,muted:!0,loop:!0,hidden:!0})}var y=o(41848),k=o(34533),j=o(95151),S=o(88387),N=o.n(S);function E(e){let{resetDemo:t,workspace:o=null}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"absolute z-[99] w-full flex justify-center h-full",children:(0,r.jsx)("div",{className:"absolute z-30 flex items-center justify-center h-full px-8 sm:px-0 md:max-w-2xl",children:(0,r.jsxs)("div",{className:"backdrop-blur-md bg-white/70 border rounded-xl px-3 py-3 sm:px-12 sm:py-6 text-sm text-center",children:[(0,r.jsx)(N(),{className:"hidden sm:inline-flex",href:"https://supademo.com/?utm_source=".concat((null==o?void 0:o.name)||"unknown","&utm_medium=powered-by_web&utm_campaign=powered-by_web"),target:"_blank",children:(0,r.jsx)("div",{children:(0,r.jsx)(j.default,{src:(0,y.F)("/supademo-banner-icon.svg"),alt:"supademo logo",className:"w-6 sm:w-14 mx-auto mb-3 sm:mb-2",width:56,height:56})})}),(0,r.jsx)("p",{className:"sm:mb-3 font-semibold mb-2 text-md sm:text-2xl",children:"Get Supademo for free"}),(0,r.jsx)("p",{className:"mb-2 sm:mb-5 text-sm sm:text-base opacity-80",children:"Create engaging interactive product demos. No credit card required."}),(0,r.jsx)(N(),{href:"https://supademo.com/?utm_source=".concat((null==o?void 0:o.name)||"unknown","&utm_medium=powered-by_web&utm_campaign=powered-by_web"),target:"_blank",children:(0,r.jsx)("div",{className:"px-2 sm:px-4 bg-indigo-600 hover:bg-indigo-700 text-white cursor-pointer py-1.5 sm:py-2.5 inline-flex rounded-md text-xs sm:text-base font-medium mb-1",children:"Try Supademo"})}),(0,r.jsx)("div",{onClick:()=>t(),className:"hover:underline hover:cursor-pointer mt-1.5 sm:mt-3",children:(0,r.jsxs)("p",{className:"text-gray-800 text-xs sm:text-sm",children:[(0,r.jsx)(k.A,{className:"h-3 w-3 sm:h-4 sm:w-4 inline-block mr-1"}),"Replay"]})})]})})}),(0,r.jsx)("div",{className:"z-[98] absolute flex top-0 left-0 items-center justify-center w-full bg-black h-full opacity-70"})]})}var M=o(60678),C=o(44343),T=o(52908),I=o(73480),z=o(51942);let A=(0,I.vt)(e=>({isFullScreen:!1,setIsFullScreen:t=>e({isFullScreen:t})})),F=e=>{let{type:t}=e,{isFullScreen:o,setIsFullScreen:r}=A();return(0,i.useEffect)(()=>{let e=()=>{document.fullscreenElement||r(!1)};return document.addEventListener("fullscreenchange",e,!1),document.addEventListener("webkitfullscreenchange",e,!1),document.addEventListener("mozfullscreenchange",e,!1),document.addEventListener("MSFullscreenChange",e,!1),()=>{document.removeEventListener("fullscreenchange",e,!1),document.removeEventListener("webkitfullscreenchange",e,!1),document.removeEventListener("mozfullscreenchange",e,!1),document.removeEventListener("MSFullscreenChange",e,!1)}},[r]),{fullScreenEnabled:o,handleFullScreen:(0,i.useCallback)(()=>{let e=t===z.Ty.ShowcaseEmbed?"showcase-canvas":"demo-canvas",o=document.getElementById(e);if(!o)return void console.error("".concat(e," element not found"));let n=e=>{console.error("Failed to toggle fullscreen:",e),r(!1)};if(a.un){let e=document;e.webkitFullscreenElement?(r(!1),e.webkitExitFullscreen().catch(n)):(r(!0),o.webkitRequestFullscreen().catch(n))}else document.fullscreenElement?(r(!1),document.exitFullscreen().catch(n)):(r(!0),o.requestFullscreen().catch(n))},[t,r])}};var P=o(82690),L=o(87227),R=o(9932),B=o(85096),D=o(845),V=o(91072),H=o(88516),O=o(67962),_=o(17940),U=o(20420);function W(e){var t;let{demo:o,darkMode:n,topBar:a=!1,detectedLanguage:s,selectedLanguageCode:l,onLanguageChange:d}=e,u=(0,_.useSearchParams)().get("lang"),{data:c}=(0,V.D)(o.id),m=[{...s,id:s.code,label:"".concat(s.nativeLabel),onClick:()=>g({id:s.code})},...null!=(t=null==c?void 0:c.data.map(e=>({...e,id:e.code,label:"".concat(e.nativeLabel),onClick:()=>g({id:e.code})})).filter(e=>e.hasContent))?t:[]],p=m.find(e=>e.id===l),g=e=>{null==d||d(e.id===s.code?null:e.id)},x=(0,i.useRef)(!1),f=(0,i.useRef)(o.id);return(0,i.useEffect)(()=>{f.current!==o.id&&(f.current=o.id,x.current=!1)},[o]),(0,i.useEffect)(()=>{if(o.detectBrowserLanguage&&(null==c?void 0:c.data)&&!x.current){if(u){let e=c.data.find(e=>e.code===u);if(e&&e.hasContent){x.current=!0;return}}(0,H.RG)(s,c.data,d),x.current=!0}},[c,s,u,d,o.detectBrowserLanguage]),(0,i.useEffect)(()=>{if(!o.detectBrowserLanguage||!(null==c?void 0:c.data)||s.value===u)return;let e=()=>{(0,H.RG)(s,c.data,d)};return window.addEventListener("languagechange",e),()=>{window.removeEventListener("languagechange",e)}},[c,s,o.detectBrowserLanguage,u,d]),(0,H.Rn)(null==c?void 0:c.data)&&(0,r.jsx)(U.A,{MenuButton:(0,r.jsx)(D.$,{variant:"custom",className:(0,h.cn)({"flex items-center justify-center w-6 h-6 text-white transition-all rounded-md cursor-pointer bg-gray-900/30 backdrop-blur-sm group-hover/stage:bg-gray-900/50":!a}),tooltipContent:"Language",tooltipId:a?"top-bar-tooltip":"without-top-bar-tooltip",tooltipPlace:"bottom",icon:(0,r.jsx)(O.A,{className:(0,h.cn)("cursor-pointer",a?"w-5 h-5 p-0.5 rounded-md mr-2.5":"w-4 h-4",a&&"oversized-cursor-pointer",a&&n&&"text-gray-300 hover:bg-gray-600",a&&!n&&"text-gray-600 hover:bg-gray-200")})}),selectedItem:p,items:m,scrollY:!0,darkMode:n,className:(0,h.cn)(a?"flex oversized-cursor-pointer":"cursor-pointer","flex")})}function Y(e){let{dr:t,type:o,showOpenLink:n,demo:i,audioEnabled:s,slide:l,steps:d,hasUserInteracted:u,restartDemo:c,handleOpenLink:m,isFullWidthHTMLDemo:g,detectedLanguage:x,selectedLanguageCode:f,onLanguageChange:v,showMuteTooltip:b,setShowMuteTooltip:w,isTranslated:y}=e,{handleFullScreen:k}=F({type:o}),{muteState:j,muteAudio:S,unmuteAudio:N,captionEnabled:E,setCaptionEnabled:M,slideIndex:I,ticker:A}=(0,p.Y)(),D="hard-mute"===j||"soft-mute"===j,{shouldShowCaptionIcon:V}=(0,R.$)({showCCButton:i.showCCButton,currentStep:d[null!=I?I:0],captionEnabled:E});return(0,r.jsxs)("div",{className:(0,h.x)(t.shouldShowFrame?(0,h.x)("top-2 right-2",t.shouldRenderInMobileMode?"":"hidden"):(0,h.x)(t.shouldRenderInMobileMode?"top-2 right-2":"top-3 right-3"),"absolute flex sm:gap-2 gap-1.5 z-30",t.shouldRenderInMobileMode?"gap-1.5":"gap-2"),children:[y&&(0,r.jsx)(W,{demo:i,darkMode:i.darkmode,detectedLanguage:x,selectedLanguageCode:f,onLanguageChange:v}),V&&(0,r.jsx)("div",{className:"flex items-center justify-center w-6 h-6 text-white transition-all rounded-md cursor-pointer bg-gray-900/30 backdrop-blur-sm group-hover/stage:bg-gray-900/50",children:(0,r.jsx)(P.A,{className:"w-4 h-4 cursor-pointer",enabled:E,onClick:()=>M(!E),"data-tooltip-content":"Toggle captions","data-tooltip-id":"main-tooltip","data-tooltip-place":"bottom"})}),s&&(0,r.jsx)("div",{className:"flex items-center justify-center w-6 h-6 text-white transition-all rounded-md cursor-pointer bg-gray-900/30 backdrop-blur-sm group-hover/stage:bg-gray-900/50","data-tooltip-content":D?"Unmute Supademo":"Mute Supademo","data-tooltip-id":"without-top-bar-mute-tooltip","data-tooltip-place":"bottom",onClick:()=>{(!A.isRunning||u)&&(D?N():S())},children:D?(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4 cursor-pointer",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 9.75 19.5 12m0 0 2.25 2.25M19.5 12l2.25-2.25M19.5 12l-2.25 2.25m-10.5-6 4.72-4.72a.75.75 0 0 1 1.28.53v15.88a.75.75 0 0 1-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.009 9.009 0 0 1 2.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75Z"})}):(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4 cursor-pointer",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.114 5.636a9 9 0 0 1 0 12.728M16.463 8.288a5.25 5.25 0 0 1 0 7.424M6.75 8.25l4.72-4.72a.75.75 0 0 1 1.28.53v15.88a.75.75 0 0 1-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.009 9.009 0 0 1 2.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75Z"})})}),d.length-1===l&&(0,r.jsx)("div",{className:"flex items-center justify-center w-6 h-6 text-white transition-all rounded-md cursor-pointer bg-gray-900/30 backdrop-blur-sm group-hover/stage:bg-gray-900/50",children:(0,r.jsx)(T.S,{className:"w-4 h-4 cursor-pointer",onClick:c,"data-tooltip-content":"Replay","data-tooltip-id":"main-tooltip"})}),(o===z.Ty.DemoEmbed||n)&&i.showSupademoLink&&(0,r.jsx)("div",{onClick:m,"data-tooltip-content":"Open in new tab","data-tooltip-id":"main-tooltip",className:"flex items-center justify-center p-1 w-6 h-6 text-white transition-all rounded-md cursor-pointer bg-gray-900/30 backdrop-blur-sm group-hover/stage:bg-gray-900/50",children:(0,r.jsx)(L.A,{mode:"white",className:"w-4 h-4"})}),a.un&&!a.v1||g?null:(0,r.jsx)("div",{className:"flex items-center justify-center w-6 h-6 text-white transition-all rounded-md cursor-pointer bg-gray-900/30 backdrop-blur-sm group-hover/stage:bg-gray-900/50",children:(0,r.jsx)(C.A,{className:"w-4 h-4 cursor-pointer",onClick:k,"data-tooltip-content":"Open in full screen","data-tooltip-id":"main-tooltip","data-tooltip-place":"bottom"})}),(0,r.jsx)(B.m_,{id:"without-top-bar-mute-tooltip",style:{fontSize:"12px",zIndex:"9999",borderRadius:"8px"},place:"bottom",opacity:1,isOpen:b,setIsOpen:w})]})}var X=o(91168),G=o(93614),$=o(19121);let Z=e=>{let{slide:t,isMobileView:o,wrapperClass:n,isAutoplayEnabled:i}=e,{stepPlayStates:a,setStepPlayState:s}=(0,p.Y)(),l=a[t],d=(null==l?void 0:l.state)==="playing",u=(null==l?void 0:l.progress)||0;return l&&(l.hasVO||i)&&"loading"!==l.state&&l.duration!==Number.POSITIVE_INFINITY?(0,r.jsx)("div",{className:n,children:(0,r.jsx)("div",{className:"flex items-center justify-center shadow-md rounded-full",children:(0,r.jsxs)("div",{className:(0,h.x)("bg-white hover:bg-gray-50 rounded-full flex items-center justify-center cursor-pointer relative",o?"w-8 h-8":"w-12 h-12"),onClick:()=>{s(t,{playState:d?"paused":"playing"})},children:[d?(0,r.jsx)(X.A,{id:"pause-current-audio",className:(0,h.x)("text-gray-800",o?"h-3 w-3":"h-5 w-5")}):(0,r.jsx)(G.A,{id:"play-current-audio",className:(0,h.x)("text-gray-800",o?"h-3 w-3":"h-5 w-5")}),(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center p-0.5",children:(0,r.jsx)($.jl,{className:"w-full h-full",percent:100*u,strokeWidth:6,trailWidth:6,strokeLinecap:"round",strokeColor:"#22c55e",trailColor:"#e5e7eb",gapDegree:0,gapPosition:"bottom"})})]})})}):null};var q=o(31613),J=o(75498),Q=o(57860),K=o(56384),ee=o(81483);function et(e){var t;let{demo:o,restartDemo:i,replayVisible:a,isIOS:s,darkMode:l,audioEnabled:d,setReplayVisible:u,handleOpenLink:c,type:m,showOpenLink:g,handleNext:x,handleBack:f,isAllowedToEdit:v=!1,previewMode:b=!1,hasUserInteracted:w,detectedLanguage:y,selectedLanguageCode:k,onLanguageChange:j,showMuteTooltip:S,setShowMuteTooltip:N,isTranslated:E}=e,{variables:M}=(0,q.A)(),{handleFullScreen:T}=F({type:m}),{muteState:I,muteAudio:A,unmuteAudio:V,captionEnabled:H,setCaptionEnabled:O,slideIndex:_,ticker:U}=(0,p.Y)(),Y="hard-mute"===I||"soft-mute"===I,{shouldShowCaptionIcon:X}=(0,R.$)({showCCButton:o.showCCButton,currentStep:o.steps[_||0],captionEnabled:H});return(0,r.jsxs)("div",{className:(0,h.x)(l?"bg-gray-800":"bg-gray-100 border-b","hidden top-0 sm:h-10 rounded-t-md sm:flex items-center px-3 relative flex-shrink-0"),children:[(0,r.jsxs)("div",{className:"flex items-center w-1/4 gap-4",children:[(0,r.jsxs)("div",{className:"hidden sm:flex gap-1.5",children:[(0,r.jsx)("div",{className:"w-2 h-2 sm:w-2.5 sm:h-2.5 rounded-full bg-red-400"}),(0,r.jsx)("div",{className:"w-2 h-2 sm:w-2.5 sm:h-2.5 rounded-full bg-yellow-400"}),(0,r.jsx)("div",{className:"w-2 h-2 sm:w-2.5 sm:h-2.5 rounded-full bg-green-400"})]}),(0,r.jsxs)("div",{className:(0,h.x)(l?"text-gray-300":"text-gray-600","flex gap-2"),children:[(0,r.jsx)(K.n,{id:"prev-step-top-bar",className:(0,h.x)(l?"text-gray-300 hover:bg-gray-600":"text-gray-600 hover:bg-gray-200","w-3 h-3 sm:w-5 sm:h-5 p-0.5 oversized-cursor-pointer rounded-md"),onClick:f,"data-tooltip-content":"Previous step","data-tooltip-id":"main-tooltip","data-tooltip-place":"bottom","data-test-id":"prev-step-top-bar"}),(0,r.jsx)(ee.Q,{id:"next-step-top-bar",className:(0,h.x)(l?"text-gray-300 hover:bg-gray-600":"text-gray-600 hover:bg-gray-200","w-3 h-3 sm:w-5 sm:h-5 p-0.5 oversized-cursor-pointer rounded-md"),onClick:()=>x(),"data-tooltip-content":"Next step","data-tooltip-id":"main-tooltip","data-tooltip-place":"bottom","data-test-id":"next-step-top-bar"})]})]}),(0,r.jsx)("div",{className:(0,h.x)(l?"bg-gray-700":"bg-gray-200","py-0.5 sm:py-1 px-3 rounded-full flex justify-center items-center w-1/2"),children:(0,r.jsxs)("div",{className:(0,h.x)(l?"text-gray-300":"text-gray-600","flex items-center w-full justify-center relative rounded-lg"),children:[(0,r.jsx)("div",{className:"flex items-center w-full max-w-[80%] justify-center px-4",children:(0,r.jsx)("span",{className:"relative overflow-hidden text-xs truncate focus:outline-none","data-test-id":"demo-browser-bar-title",children:(0,J.Ge)(o.title,M,(0,Q.B_)((null==o||null==(t=o.workspace)?void 0:t.plan)||n.Plan.Free,n.Plan.Scale),v,b)})}),(0,r.jsxs)("div",{"data-test-id":"top-bar-replay-button",onClick:i,id:"replay-tooltip2",onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),className:(0,h.x)(l?"text-gray-300 hover:bg-gray-600":"text-gray-600 hover:bg-gray-300","flex items-center justify-center absolute right-0 oversized-cursor-pointer w-[20px] h-[20px] rounded-md transition-all group bg-transparent"),children:[(0,r.jsx)("svg",{id:"replay-tooltip2",stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",className:"h-[1rem] w-[1rem]",height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet",focusable:"false",children:(0,r.jsx)("path",{d:"M256 388c-72.597 0-132-59.405-132-132 0-72.601 59.403-132 132-132 36.3 0 69.299 15.4 92.406 39.601L278 234h154V80l-51.698 51.702C348.406 99.798 304.406 80 256 80c-96.797 0-176 79.203-176 176s78.094 176 176 176c81.045 0 148.287-54.134 169.401-128H378.85c-18.745 49.561-67.138 84-122.85 84z"})}),(0,r.jsx)(B.m_,{anchorSelect:"#replay-tooltip2",clickable:!0,place:"bottom",style:{fontSize:"12px",zIndex:"9999",borderRadius:"8px"},isOpen:a,opacity:1,children:(0,r.jsx)(D.$,{text:"Replay",variant:"custom",onClick:i})})]})]})}),(0,r.jsx)("div",{className:"flex justify-end items-center w-1/4",children:!s&&(0,r.jsxs)(r.Fragment,{children:[E&&(0,r.jsx)(W,{demo:o,darkMode:l,topBar:!0,detectedLanguage:y,selectedLanguageCode:k,onLanguageChange:j}),X&&(0,r.jsx)(P.A,{className:(0,h.x)(l?"text-gray-300 hover:bg-gray-600":"text-gray-600 hover:bg-gray-200","w-5 h-5 p-0.5 oversized-cursor-pointer rounded-md mr-2.5"),enabled:H,onClick:()=>O(!H),"data-tooltip-content":"Toggle captions","data-tooltip-id":"main-tooltip","data-tooltip-place":"bottom"}),d&&(0,r.jsx)("div",{"data-tooltip-content":Y?"Unmute Supademo":"Mute Supademo","data-tooltip-id":"top-bar-mute-tooltip","data-tooltip-place":"bottom",onClick:()=>{(!U.isRunning||w)&&(Y?V():A())},children:Y?(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:(0,h.x)(l?"text-gray-300 hover:bg-gray-600":"text-gray-600 hover:bg-gray-200","w-5 h-5 p-0.5 oversized-cursor-pointer rounded-md mr-2.5"),children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 9.75 19.5 12m0 0 2.25 2.25M19.5 12l2.25-2.25M19.5 12l-2.25 2.25m-10.5-6 4.72-4.72a.75.75 0 0 1 1.28.53v15.88a.75.75 0 0 1-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.009 9.009 0 0 1 2.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75Z"})}):(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:(0,h.x)(l?"text-gray-300 hover:bg-gray-600":"text-gray-600 hover:bg-gray-200","w-5 h-5 p-0.5 oversized-cursor-pointer rounded-md mr-2.5"),children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.114 5.636a9 9 0 0 1 0 12.728M16.463 8.288a5.25 5.25 0 0 1 0 7.424M6.75 8.25l4.72-4.72a.75.75 0 0 1 1.28.53v15.88a.75.75 0 0 1-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.009 9.009 0 0 1 2.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75Z"})})}),(m===z.Ty.DemoEmbed||g)&&o.showSupademoLink&&(0,r.jsx)("div",{className:(0,h.x)(l?"text-gray-300 hover:bg-gray-600":"text-gray-600 hover:bg-gray-200","w-5 h-5 sm:p-px rounded-md oversized-cursor-pointer mr-2.5"),onClick:c,"data-tooltip-content":"Open in new tab","data-tooltip-id":"main-tooltip","data-tooltip-place":"bottom",children:(0,r.jsx)(L.A,{mode:l?"dark":"light"})}),(0,r.jsx)(C.A,{className:(0,h.x)(l?"text-gray-300 hover:bg-gray-600":"text-gray-600 hover:bg-gray-200","w-5 h-5 p-0.5 oversized-cursor-pointer rounded-md"),onClick:T,"data-tooltip-content":"Open in full screen","data-tooltip-id":"main-tooltip","data-tooltip-place":"bottom"})]})}),(0,r.jsx)(B.m_,{id:"top-bar-mute-tooltip",style:{fontSize:"12px",zIndex:"9999",borderRadius:"8px"},opacity:1,isOpen:S,setIsOpen:N})]})}var eo=o(37057),er=o(74213),en=o(98780);let ei="Supademo Logo",ea=e=>{let{className:t,isExport:o,logoUrl:n,isMobileView:i}=e;return o?(0,r.jsx)(er.E9,{src:n,className:t,alt:ei}):(0,r.jsx)(j.default,{src:n,className:t,alt:ei,width:i?20:16,height:i?20:16,priority:!0})};function es(e){var t;let{isMobileView:o,demo:a,isExport:s=!1,shouldAnimate:l=!0}=e,{isProgressBarVisible:d,setProgressBarVisibility:u}=(0,m.A)(),c=(null==(t=a.workspace)?void 0:t.plan)!==n.Plan.Free,p=a.workspace,g=(0,y.F)("/supademo_logo_icon.svg"),{logoUrl:x,link:f,text:v}=(0,i.useMemo)(()=>{if(!c)return{logoUrl:g,link:"https://supademo.com/?utm_source=".concat(null==p?void 0:p.name,"&utm_medium=powered-by_web&utm_campaign=powered-by_web"),text:"Made with Supademo"};let e=null==p?void 0:p.watermarkLink;return{logoUrl:(null==p?void 0:p.watermarkLogoUrl)==="https://cdn.supademo.com/supademo_logo_icon.svg"?g:(null==p?void 0:p.watermarkLogoUrl)||"",link:"https://supademo.com"===e?"https://supademo.com/?utm_source=".concat(null==p?void 0:p.name,"&utm_medium=powered-by_web&utm_campaign=powered-by_web"):e||"",text:(null==p?void 0:p.watermarkText)||""}},[c,p]);if(o&&!x)return null;let b=()=>{f&&(0,en.g)({url:f,windowFeatures:"noopener,noreferrer"})};return o?(0,r.jsx)("div",{className:(0,h.x)("absolute z-20 flex items-center justify-center w-7 h-7 overflow-hidden rounded-sm p-0.5 border shadow-sm bottom-2 right-3 bg-white",f?"cursor-pointer":""),onClick:b,children:(0,r.jsx)(ea,{className:"w-5",isExport:s,logoUrl:x,isMobileView:o})}):(0,r.jsx)("div",{className:(0,h.x)("z-20 absolute sm:right-4 text-sm shadow-sm border px-2 py-1 sm:px-2.5 sm:py-1.5 rounded-md bg-white transition-bottom ease-in-out duration-500",d?"sm:bottom-10":"sm:bottom-4",f?"cursor-pointer":""),onMouseEnter:()=>{a.progressbar&&l&&u(!0)},onMouseLeave:()=>{u(!1)},onClick:b,children:(0,r.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[x&&(0,r.jsx)(ea,{className:"w-3 sm:w-4",isExport:s,logoUrl:x,isMobileView:o}),v&&(0,r.jsxs)("p",{className:"text-xs font-medium text-gray-700 hover:text-gray-900 sm:text-xs","data-test-id":"made-in-supademo-badge-text",children:[v," ",f&&(0,r.jsx)(eo.A,{className:"inline-flex h-3"})]})]})})}var el=o(4813);let ed=()=>{let{setStepPlayState:e}=(0,p.Y)(),t=t=>{e(t,{playState:"paused"})};return{playVideo:t=>{e(t,{playState:"playing"})},pauseVideo:t,seekVideo:(o,r)=>{e(o,{playState:"seeking",progress:r}),t(o)}}},eu=e=>{let{slideIndex:t,state:o,progress:n,duration:i}=e,{playVideo:a,pauseVideo:s}=ed(),l=i*n;return"playing"===o||"seeking"===o?(0,r.jsxs)("div",{className:"video-progress-control flex items-center gap-2","data-test-id":"video-progress-control",children:[(0,r.jsx)("button",{id:"pause-current-video","data-test-id":"pause-icon",onClick:()=>s(t),children:(0,r.jsx)(X.A,{className:"h-5 w-5 text-white oversized-cursor-pointer"})}),(0,r.jsxs)("span",{className:"text-xs text-white time-display","data-test-id":"time-display",children:[(0,el.fU)(l),"/",(0,el.fU)(i)]})]}):"paused"===o?(0,r.jsxs)("div",{className:"video-progress-control flex items-center gap-2","data-test-id":"video-progress-control",children:[(0,r.jsx)("button",{"data-test-id":"play-icon",id:"play-current-video",onClick:()=>a(t),children:(0,r.jsx)(G.A,{className:"h-5 w-5 text-white oversized-cursor-pointer"})}),(0,r.jsxs)("span",{className:"text-xs text-white time-display","data-test-id":"time-display",children:[(0,el.fU)(l),"/",(0,el.fU)(i)]})]}):null},ec=()=>{let[e,t]=(0,i.useState)(null),[o,r]=(0,i.useState)(!1),[n,a]=(0,i.useState)(!1),{playVideo:s,pauseVideo:l,seekVideo:d}=ed();return{seekIndicator:e,handleMouseMove:(e,r)=>{let n=e.currentTarget.getBoundingClientRect(),i=(e.clientX-n.left)/n.width*100;t(i),o&&d(r,i/100)},handleMouseLeave:e=>{o||t(null),o&&(r(!1),n&&s(e))},handleMouseDown:(t,o)=>{r(!0),a(o),l(t),d(t,(e||0)/100)},handleMouseUp:e=>{r(!1),n&&s(e)}}},em=e=>{let{slide:t,progress:o,stepColor:n,isPlaying:i,growFactor:a}=e,{seekIndicator:s,handleMouseMove:l,handleMouseLeave:d,handleMouseDown:u,handleMouseUp:c}=ec();return(0,r.jsx)("div",{id:"video-progress-state","data-test-id":"video-progress",className:"h-10 group-scoped flex items-center oversized-cursor-pointer transition-all duration-300 ease-in-out ".concat(a),onMouseMove:e=>l(e,t),onMouseLeave:()=>d(t),onMouseDown:()=>u(t,i),onMouseUp:()=>c(t),children:(0,r.jsxs)("div",{className:"h-1 w-full rounded-full transition-all duration-200 ease-in-out hover:h-3 opacity-100 bg-gray-300 relative",children:[(0,r.jsx)("div",{id:"video-progress-value","data-test-id":"video-progress-value",className:"absolute rounded-full top-0 left-0 bottom-0 transition-all",style:{width:"".concat(o,"%"),background:n}}),null!==s?(0,r.jsx)("div",{id:"video-progress-seek","data-test-id":"video-progress-seek",className:"absolute top-0 w-[1px] h-full bg-black",style:{left:"calc(".concat(s,"% - 1px)")}}):null]})})};var ep=o(53694),eh=o(20612),eg=o(42226),ex=o(41213);let ef=e=>{let{direction:t,onClick:o,stepsCount:n}=e,[a,s]=(0,i.useState)(!1),l=(0,i.useRef)(null),{refs:d,floatingStyles:u}=(0,ep.we)({placement:"prev"===t?"top-start":"top-end",middleware:[(0,eh.cY)(8),(0,eh.BN)()],elements:{reference:l.current}}),c="prev"===t?"Previous ".concat(n," steps"):"Next ".concat(n," steps");return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(D.$,{ref:l,onClick:o,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),className:"pagination-control",variant:"custom","aria-label":c,"data-test-id":"pagination-".concat(t),icon:"prev"===t?(0,r.jsx)(eg.A,{className:"w-5 h-5 text-white","data-test-id":"chevron-left"}):(0,r.jsx)(ex.A,{className:"w-5 h-5 text-white","data-test-id":"chevron-right"})}),a&&(0,r.jsx)(ep.XF,{children:(0,r.jsx)("div",{ref:d.setFloating,style:{...u,background:"rgba(0, 0, 0, 0.75)",color:"#fff",padding:"6px 10px",borderRadius:"4px",fontSize:"14px",zIndex:1e3},children:c})})]})};var ev=o(97431);let eb=e=>{let{step:t,slideIndex:o,index:n,stepColor:a,imageContainerRef:s,progressBlocked:l,emailGatedStep:d,steps:u,sendStepViewData:c,setSlide:m}=e,[h,g]=(0,i.useState)(!1),{stepPlayStates:x}=(0,p.Y)(),{refs:f,floatingStyles:v,context:b}=(0,ep.we)({open:h,onOpenChange:g,placement:"top",middleware:[(0,eh.BN)({boundary:(null==s?void 0:s.current)||void 0})]}),w=(0,ep.Mk)(b),{getReferenceProps:y,getFloatingProps:k}=(0,ep.bv)([w]),j=e=>{var t,r,n;(e!==o||null==(t=x[o])||!t.state||(null==(r=x[o])?void 0:r.state)==="playing"||(null==(n=x[o])?void 0:n.state)==="seeking")&&(l&&e>u.findIndex(e=>e.id===(null==d?void 0:d.id))||(0===e&&c(u[e].id),m(e)))};return(0,r.jsxs)("div",{ref:f.setReference,className:"h-10 group-scoped flex items-center w-full oversized-cursor-pointer flex-1 transition-all duration-200 ease-in-out grow-1",onClick:()=>j(n),...y(),children:[(0,r.jsx)("div",{className:"h-1 w-full rounded-full transition-all duration-200 ease-in-out hover:h-3 opacity-100",style:{background:a}}),(0,r.jsx)(ep.XF,{children:h&&o!==n&&(0,r.jsx)("div",{ref:f.setFloating,className:"z-[999] pointer-events-none",style:v,...k(),children:(0,r.jsx)("div",{className:"mx-5",children:(0,r.jsx)(ev.d,{step:t,height:140,width:240,wrapperClasses:"rounded-xl shadow-lg overflow-hidden bg-white"})})})})]},t.id)},ew=e=>(0,i.useMemo)(()=>{var t,o,r;let n=(null==(r=e.find(e=>e.hotspots.some(e=>"#4f46e5"!==e.bgcolor)))||null==(o=r.hotspots)||null==(t=o[0])?void 0:t.bgcolor)||"#4f46e5";return{getStepColor:(e,t)=>{let o=e.hotspots.length>0;if(t){if(o){let t=e.hotspots[0].bgcolor;return t&&"#4f46e5"!==t&&(n=t),t||"#e5e7eb"}return n}return"#e5e7eb"}}},[e]),ey=function(e,t,o,r){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:10,[a,s]=(0,i.useState)(0);return(0,i.useEffect)(()=>{let e=Math.floor(t/n);e!==a&&s(e)},[t,a,n]),{currentPage:a,handlePageChange:i=>{let a=Math.max(0,Math.min(i,Math.ceil(e.length/n)-1));if(s(a),Math.floor(t/n)!==a){let t=Math.min(a*n,e.length-1);o(t),r(e[t].id)}},stepsPerPage:n,totalPages:Math.ceil(e.length/n)}};function ek(e){var t,o;let{demo:n,steps:a,slide:s,setSlide:l,emailGatedStep:d,progressBlocked:u,imageContainerRef:h,sendStepViewData:g}=e,{stepPlayStates:x}=(0,p.Y)((0,c.k)(e=>({stepPlayStates:e.stepPlayStates}))),[f,v]=(0,i.useState)(!1),{setProgressBarVisibility:b}=(0,m.A)(),{getStepColor:w}=ew(a),{currentPage:y,handlePageChange:k,stepsPerPage:j,totalPages:S}=ey(a,s,l,g);(0,i.useEffect)(()=>{var e,t;if((null==(e=a[s])?void 0:e.video)?v(!0):v(!1),(null==(t=a[s])?void 0:t.video)&&x[s]){let e=document.getElementById("video-progress-value");if(e){let t=Math.round(100*x[s].progress);e.style.width="".concat(t,"%")}}},[s,a,x]),(0,i.useEffect)(()=>{var e;(null==(e=x[s])?void 0:e.state)==="paused"?b(!0):b(!1)},[s,null==(t=x[s])?void 0:t.state]),(0,i.useEffect)(()=>()=>{b(!1)},[b]);let N=e=>{let t=a[e],o=w(t,e<=s),i=s===e&&t.video&&x[s];if(!i)return(0,r.jsx)(eb,{step:t,slideIndex:s,index:e,stepColor:o,autoplay:n.autoplay,imageContainerRef:h,emailGatedStep:d,progressBlocked:u,sendStepViewData:g,setSlide:l,steps:a},t.id);{let e=x[s],n=Math.round(100*e.progress),a="playing"===e.state;return(0,r.jsx)(em,{slide:s,progress:n,stepColor:o,isPlaying:a,growFactor:i&&f?"grow-[8]":"grow-1"},t.id)}};return(0,r.jsxs)("div",{id:"progress-bar",onMouseEnter:()=>{b(!0)},onMouseLeave:()=>{var e;(null==(e=x[s])?void 0:e.state)!=="paused"&&b(!1)},className:"hidden z-50 sm:flex sm:items-center absolute bottom-0 transition-opacity ease-in-out duration-500 delay-75 h-10 w-full px-4 pb-5 bg-gradient-to-b from-transparent opacity-0 hover:opacity-100 hover:delay-75 hover:duration-200 ".concat((null==(o=x[s])?void 0:o.state)==="paused"?"opacity-100":"opacity-0"),children:[(0,r.jsx)("div",{className:"bg-gradient-to-b from-transparent via-gray-900/20 to-gray-900/50 w-full absolute left-0 bottom-0 opacity-100 pointer-events-none h-[200px]"}),(0,r.jsxs)("div",{className:"w-full h-2 flex items-center gap-1 sm:gap-2 z-10",children:[x[s]&&x[s].hasVideo&&("playing"===x[s].state||"seeking"===x[s].state||"paused"===x[s].state)?(0,r.jsx)(eu,{slideIndex:s,state:x[s].state,progress:x[s].progress,duration:x[s].duration||0}):null,(0,r.jsx)("div",{className:"flex-1 flex items-center gap-1 sm:gap-2",children:(()=>{let e=a.length,t=[];if(e>15){if(y>0){let o=1===y?Math.min(j,e):j;t.push((0,r.jsx)(ef,{direction:"prev",onClick:()=>k(y-1),stepsCount:o},"prev-pagination"))}let o=y*j,n=Math.min(o+j-1,e-1);for(let e=o;e<=n;e++)t.push(N(e));y<S-1&&t.push((0,r.jsx)(ef,{direction:"next",onClick:()=>k(y+1),stepsCount:y===S-2?e-(S-1)*j:j},"next-pagination"))}else for(let e=0;e<a.length;e++)t.push(N(e));return t})()})]})]})}var ej=o(71960),eS=o(16229),eN=o(25553),eE=o(70436),eM=o(15953),eC=o(99506);let eT=e=>{let{demo:t,slide:o,htmlEdits:a,width:s,height:l,useDynamicVariables:d,setShouldHighlightHotspots:u,assetManager:c,handleNext:m}=e,{variables:h}=(0,q.A)(),{setAssetLoaded:g}=(0,p.Y)(),x=null!==o&&!!t.steps[o].htmlCaptureId,[f,v]=(0,i.useState)(null),b=(0,i.useCallback)(()=>{null!==o&&g(o,"html")},[o]),w=(0,i.useCallback)(e=>{null!==o&&t.steps.findIndex(t=>t.id===e)>-1&&m(e)},[o,t,m]),{frameRef:y,frameStyles:k,frameAttributes:j,wrapperRef:S,wrapperStyles:N,capture:E,rendererRef:M,handleIframeHotspotScrolling:C,cleanInternalDemoData:T}=(0,eC.i)({stepData:f,htmlEdits:a,width:s,height:l,useDynamicVariables:d,variables:h,setShouldHighlightHotspots:u,assetManager:c,onStepReady:b,handleNext:w,demo:t});(0,i.useEffect)(()=>{if(null===o)return void v(null);let e=!!t.steps[o].chapter,r=null;if(e){let e=(0,eN.Jh)(t,o)||o;r=t.steps[e].htmlCaptureId}else r=t.steps[o].htmlCaptureId;let n=t.steps[o].hotspots;r?v(e=>{var i;return(null==e?void 0:e.demoId)!==t.id&&(null==T||T()),{...e,htmlCaptureId:r,hotspots:n,stepId:t.steps[o].id,previousStepId:(null==e?void 0:e.demoId)===t.id?null==e?void 0:e.stepId:void 0,preventScroll:null!=(i=t.steps[o].preventScroll)&&i,demoId:t.id}}):v(null)},[t,o]);let I=x&&null===E;return(0,i.useEffect)(()=>{let e=[];return M.current&&y.current&&(()=>{if(null===o)return;let r=t.type===n.DemoType.Sandbox?1:3,i=t.type===n.DemoType.Sandbox?2:6,s=Math.max(0,o-r),l=Math.min(t.steps.length-1,o+i),u=[];for(let e=s;e<=l;e++)e!==o&&u.push(e);let m=Object.keys(M.current.stepMirror);for(let e of t.steps.filter(e=>m.includes(e.id)))e.htmlCaptureId&&(Number(e.number)<s+1||Number(e.number)>l+1)&&Number(e.number)!==o+1&&M.current.evictStep(e.id);let p=function(o){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,i=r*n,s=Math.min(i+n,o.length);for(let e=i;e<s;e++){let r=o[e],n=t.steps[r];n.htmlCaptureId&&(M.current.stepMirror[n.id]||(async()=>{var e;if(!n.htmlCaptureId)return;let o=await c.current.fetchSnapshot(n.htmlCaptureId);if(o){if((0,eM.DO)(o.snapshot))return M.current.hasShadowRootMap[n.id]=!0;M.current.hasShadowRootMap[n.id]=!1,M.current.prewarmSnapshot(o.snapshot,n.id,c.current.styleSheetMap,a,{useDynamicVariables:d,variables:h,originalDoc:null==(e=y.current)?void 0:e.contentDocument,onSandboxNavigation:w},C,t)}})())}if(s<o.length){let t=setTimeout(()=>p(o,r+1,n),1e3);e.push(t)}};p(u)})(),()=>{e.forEach(e=>clearTimeout(e))}},[a,M,y.current,d,h,c,o]),(0,r.jsxs)("div",{style:{width:s,height:l},children:[I?(0,r.jsx)(eE.$,{}):null,E&&(0,r.jsx)("div",{className:"relative overflow-hidden h-full w-full",children:(0,r.jsx)("div",{ref:S,style:N,children:(0,r.jsx)("iframe",{ref:y,...j,style:k})})})]})};var eI=o(44228),ez=o(15827),eA=o(27272),eF=o(34936),eP=o(25944),eL=o(31898),eR=o(42264),eB=o(81821);function eD(e){var t,o;let{tooltipClassName:a,hotSpotElementId:s,hotspot:l,width:d,height:u,slide:c,steps:m,handleNext:p,handleBack:g,nextEnabled:x,showSteps:f,restartDemo:v,demo:b,zoomScale:w,portalTargetRef:y,isMobileView:k,setHasUserInteracted:j,isAllowedToEdit:S=!1,previewMode:N=!1,animation:E}=e,{variables:M}=(0,q.A)(),[C,T]=(0,i.useState)(),[I,z]=(0,i.useState)(),[A,F]=(0,i.useState)(!0),[P,L]=(0,i.useState)(!1),R=null===l.textVisible?b.hotspotTextVisible||!1:l.textVisible,[B,D]=(0,i.useState)(R),[V,H]=(0,i.useState)((null==l?void 0:l.tipposition)||null),O=(0,i.useRef)(null),[_,U]=(0,i.useState)(),W=m[c].chapter,Y=(0,i.useRef)(l);Y.current=l,(0,i.useEffect)(()=>{var e,t;D(null==(t=null!=(e=l.textVisible)?e:b.hotspotTextVisible)||t)},[c,l.textVisible,b.hotspotTextVisible]);let X={...void 0!==C&&void 0!==I&&C>=0&&I>=0&&{top:I-20,left:C-20},transition:"all 0.7s cubic-bezier(.4,0,.2,1)",height:"40px",width:"40px"},G=l.aiTextVisible?l.aiText:l.text;G=(G=(0,J.Ge)(G||"",M,(0,Q.B_)((null==b||null==(t=b.workspace)?void 0:t.plan)||n.Plan.Free,n.Plan.Scale),S,N)).trim();let $=(0,i.useCallback)((e,t)=>{if(void 0===e||void 0===t)return!1;let o=document.getElementById(s);if(o){let r=window.getComputedStyle(o),n=Number.parseFloat(r.getPropertyValue("top").replace("px","")),i=Number.parseFloat(r.getPropertyValue("left").replace("px",""));if(void 0!==n&&void 0!==i){let o=Number.parseFloat(Number.parseFloat(n.toString()).toFixed(2)),r=Number.parseFloat(Number.parseFloat(t.toString()).toFixed(2)),a=Number.parseFloat(Number.parseFloat(i.toString()).toFixed(2)),s=Number.parseFloat(Number.parseFloat(e.toString()).toFixed(2));if(Math.ceil(o)===Math.ceil(Number.parseFloat((r-20).toFixed(2)))&&Math.ceil(a)===Math.ceil(Number.parseFloat((s-20).toFixed(2))))return!0}}return!1},[]);(0,i.useEffect)(()=>{l&&0!==m.length&&(T(Number(l.mouseXCooridnate)*d/100),z(Number(l.mouseYCooridnate)*u/100),H(l.tipposition))},[d,u,c,l,m]);let Z=(0,i.useCallback)(()=>{let e=Y.current;(e.aiTextVisible?null===e.aiText||""===e.aiText:null===e.text||""===e.text)||W||L(!0)},[W]);function K(e){e.stopPropagation(),j(!0),W||p(l.nextslide,l.id,"hotspot")}function ee(){R||D(!0)}function et(){R||D(!1)}(0,i.useEffect)(()=>{void 0===C||void 0===I||$(C,I)?setTimeout(()=>{Z()},700):L(!1)},[l,C,I,c,$,Z]),(0,i.useEffect)(()=>{let e=()=>{Z()},t=document.getElementById(s);return t&&t.addEventListener("transitionend",e),()=>{let t=document.getElementById(s);t&&t.removeEventListener("transitionend",e)}},[l,W,Z]),(0,i.useEffect)(()=>{L(!1)},[w]);let{refs:eo,floatingStyles:er,context:en,middlewareData:ei,update:ea}=(0,ep.we)({open:A,onOpenChange:F,..."autostart"!==V&&null!==V?{placement:V}:{},whileElementsMounted:(e,t)=>(0,ez.ll)(e,t,ea,{animationFrame:!0,elementResize:!0,layoutShift:!0}),middleware:[(0,eh.cY)(18),(0,eh.BN)({boundary:y.current||document.body,padding:16}),(0,eh.UU)({boundary:y.current||document.body,fallbackAxisSideDirection:"start",crossAxis:!0,padding:8}),(0,eh.UE)({element:O}),(0,eh.jD)({strategy:"referenceHidden"})]});(0,i.useEffect)(()=>{en&&en.placement&&U(en.placement)},[en]);let es=(0,i.useCallback)(()=>{switch(_){case"top":default:return"center bottom";case"right":return"left center";case"bottom":return"center top";case"left":return"right center"}},[_]),el=(0,ep.iQ)(en),ed=(0,ep.Mk)(en,{move:!1}),eu=(0,ep.s9)(en),ec=(0,ep.It)(en,{role:"tooltip"}),{getReferenceProps:em,getFloatingProps:eg}=(0,ep.bv)([el,ed,eu,ec]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:(0,h.x)("w-full h-full",W&&"opacity-0"),children:(0,r.jsx)("div",{id:s,"data-test-id":s,className:"oversized-cursor-pointer absolute flex justify-center items-center delay-100 z-20 pointer-events-auto",style:{...X,willChange:"transform",transformOrigin:"0 0"},draggable:"false",onClick:K,...em(),onMouseEnter:ee,onMouseLeave:et,children:(0,r.jsxs)("span",{className:"relative flex items-center justify-center",ref:eo.setReference,style:{transform:"scale(".concat(1/w,")"),transition:"transform 0.5s ease-in-out"},children:[(0,r.jsx)("span",{className:(0,h.x)("rounded-full absolute",E===n.HotspotAnimation.Ping?"animate-ping w-8 h-8 opacity-50":"",E===n.HotspotAnimation.Pulse?"animate-pulse-scale-lg h-8 w-8 opacity-30":""),style:{background:(null==l?void 0:l.bgcolor)||void 0,color:(null==l?void 0:l.bgcolor)||void 0,animationDuration:(0,eR.YW)(E).with(n.HotspotAnimation.Ping,()=>"1s").with(n.HotspotAnimation.Pulse,()=>"1.5s").otherwise(()=>"1s")}}),(0,r.jsx)("span",{className:"relative rounded-full h-5 w-5 sm:h-5 sm:w-5",style:{background:(null==l?void 0:l.bgcolor)||void 0,opacity:"".concat(b.hotspotOpacity,"%")}})]})})}),(0,r.jsx)(ep.XF,{root:y.current,children:B?P&&l&&!k&&G&&(0,r.jsx)("div",{"data-test-id":"floating-hotspot",className:(0,h.x)("relative group",a),onClick:K,style:{transitionProperty:"all",transitionDelay:W?"0s":"0.3s",opacity:+!W,pointerEvents:W?"none":"auto",position:"relative"},children:(0,r.jsx)("div",{ref:eo.setFloating,style:{...er,transform:"".concat(er.transform),willChange:"transform",...w>1&&{transformOrigin:es()},width:"max-content"},...eg(),id:"tooltip",onMouseEnter:ee,onMouseLeave:et,children:(0,r.jsxs)("div",{className:(0,h.x)("hover:scale-[1.045] ease-in duration-170 transition-transform text-white pt-2.5 sm:pt-3 pb-3 sm:pb-4 px-3 sm:px-4 rounded-lg sm:rounded-xl shadow-lg oversized-cursor-pointer z-20 group pulse-once",(0,eR.YW)(l.hotspotWidth).with(n.HotspotWidth.Small,()=>"min-w-[10rem] sm:min-w-[12rem] max-w-[12rem] sm:max-w-[14rem]").with(n.HotspotWidth.Medium,()=>"min-w-[12rem] max-w-[14rem] sm:min-w-[14rem] sm:max-w-[18rem]").with(n.HotspotWidth.Large,()=>"min-w-[14rem] max-w-[18rem] sm:min-w-[18rem] sm:max-w-[22rem]").otherwise(()=>"min-w-[12rem] max-w-[14rem] sm:min-w-[14rem] sm:max-w-[18rem]"),(null==(o=ei.hide)?void 0:o.referenceHidden)?"hidden":""),style:{background:"".concat(l.bgcolor),color:"".concat(l.textcolor)},children:[(0,r.jsx)("div",{className:"absolute inset-0 rounded-xl opacity-30 group-hover:animate-pulse-hover",style:{background:l.bgcolor||void 0,zIndex:-1,color:l.bgcolor||void 0,animationIterationCount:1,animationDuration:"1s"}}),(0,r.jsx)("div",{children:(0,r.jsx)(eA.o,{remarkPlugins:[eL.A,[eP.A]],rehypePlugins:[[eF.A,{target:"_blank"}]],className:"hotspot-text custom-markdown flex flex-col gap-3 list-disc list-inside break-words text-xs sm:text-sm lg:text-base",children:G})}),(0,r.jsx)(ep.ie,{ref:O,context:en,style:{transform:"translateY(-1px)",fill:"".concat(l.bgcolor)}}),(0,r.jsx)(eB.A,{slide:c,hotspot:l,steps:m,handleNextSlide:K,handleBack:g,restartDemo:v,nextEnabled:x,showSteps:f,demo:b,nextslide:l.nextslide,prevslide:l.prevslide,textColor:l.textcolor,nextButtonText:l.nextButtonText,backButtonText:l.backButtonText})]})})}):null})]})}var eV=o(77214),eH=o(13401),eO=o(16086),e_=o.n(eO),eU=o(83873);function eW(e){var t;let{tooltipClassName:o,width:a,height:s,hotSpotElementId:l,zoomScale:d,animation:u,bgColor:c,textColor:m,showSteps:p,aiTextVisible:g,aiText:x,text:f,nextslide:v,prevslide:b,handleNext:w,restartDemo:y,demo:k,slide:j,hotspot:S,steps:N,handleBack:E,isMobileView:M,setHasUserInteracted:C,isAllowedToEdit:T=!1,previewMode:I=!1}=e,{variables:z}=(0,q.A)(),A=(0,i.useRef)(null),{height:F,width:P}=(0,eH.w)({ref:A}),L=P?a-P/2-10:Number.POSITIVE_INFINITY,R=F?s-F/2-10:Number.POSITIVE_INFINITY,B=Number(S.mouseXCooridnate)*a/100,D=Number(S.mouseYCooridnate)*s/100,V=e_()(B,P?10+P/2:0,L),H=e_()(D,F?10+F/2:0,R),O=N[j].chapter,_=(0,J.Ge)((g?x:f)||"",z,(0,Q.B_)((null==k||null==(t=k.workspace)?void 0:t.plan)||n.Plan.Free,n.Plan.Scale),T,I);function U(e){e.stopPropagation(),C(!0),O||w(v,S.id,"hotspot")}if(_=_.trim(),M)return null;let[W,Y,X]=(0,eV.iN)(c);return _?(0,r.jsx)("div",{className:"w-full h-full",onClick:U,children:(0,r.jsx)("div",{ref:A,className:(0,h.x)("top-0 left-0 oversized-cursor-pointer absolute flex justify-center items-center z-20","transition-transform transform-gpu duration-700 ease-in-out delay-100",o),id:l,"data-test-id":l,style:{willChange:"transform",transform:"translate(calc(".concat(V,"px - 50%), calc(").concat(H,"px - 50%)) scale(").concat(1/d,")"),transitionDuration:"0.7s",transitionTimingFunction:"cubic-bezier(.4,0,.2,1)",transformOrigin:"center center",transition:"all 0.5s ease-in-out",color:"rgba(".concat(W,", ").concat(Y,", ").concat(X,", 0.30)")},children:(0,r.jsx)("div",{className:(0,h.x)("hover:scale-[1.045] rounded-xl",u&&u===n.HotspotAnimation.Pulse?"shadow-pulse-lg":"",!u||u&&u!==n.HotspotAnimation.Spinner?"hover:animate-pulse-hover":""),id:"tooltip","data-test-id":"floating-hotspot",style:{transition:"transform 0.17s ease-in",opacity:+!O,pointerEvents:O?"none":"auto"},children:(0,r.jsxs)("div",{className:(0,h.x)("text-white rounded-lg sm:rounded-xl pulse-once shadow-lg oversized-cursor-pointer z-20 group overflow-hidden",(0,eR.YW)(S.hotspotWidth).with(n.HotspotWidth.Small,()=>"min-w-[10rem] sm:min-w-[12rem] max-w-[12rem] sm:max-w-[14rem]").with(n.HotspotWidth.Medium,()=>"min-w-[12rem] max-w-[14rem] sm:min-w-[14rem] sm:max-w-[18rem]").with(n.HotspotWidth.Large,()=>"min-w-[14rem] max-w-[18rem] sm:min-w-[18rem] sm:max-w-[22rem]").otherwise(()=>"min-w-[12rem] max-w-[14rem] sm:min-w-[14rem] sm:max-w-[18rem]")),style:{background:"".concat(c),color:"".concat(m),willChange:"transform",transitionTimingFunction:"cubic-bezier(.4,0,.2,1)"},children:[(0,r.jsxs)("div",{className:"pt-2.5 sm:pt-3 pb-3 sm:pb-4 px-3 sm:px-4",children:[(0,r.jsx)(eA.o,{remarkPlugins:[eL.A,[eP.A]],rehypePlugins:[[eF.A,{target:"_blank"}]],className:"custom-markdown flex flex-col gap-3 list-disc list-inside break-words text-xs sm:text-sm lg:text-base",children:_}),(0,r.jsx)(eB.A,{slide:j,hotspot:S,steps:N,handleNextSlide:U,handleBack:E,nextEnabled:!0,showSteps:p,restartDemo:y,demo:k,nextslide:v,prevslide:b,textColor:m,nextButtonText:S.nextButtonText,backButtonText:S.backButtonText})]}),(0,r.jsx)(eU.A,{animation:u,bgColor:c})]})})})}):null}var eY=o(20703);function eX(e){var t,o;let{tooltipClassName:a,mouseXCooridnate:s,mouseYCooridnate:l,width:d,height:u,boxWidth:c,boxHeight:m,hotSpotElementId:p,hotspotOpacity:g,hotspotTextVisible:x,tipPosition:f,zoomScale:v,bgColor:b,textColor:w,aiTextVisible:y,aiText:k,text:j,nextslide:S,prevslide:N,handleNext:E,handleBack:M,restartDemo:C,demo:T,slide:I,hotspot:z,steps:A,isMobileView:F,nextEnabled:P,showSteps:L,portalTargetRef:R,setHasUserInteracted:B,animation:D,isAllowedToEdit:V=!1,previewMode:H=!1}=e,{variables:O}=(0,q.A)(),[_,U]=(0,i.useState)(),[W,Y]=(0,i.useState)(),[X,G]=(0,i.useState)(f);(0,i.useEffect)(()=>{U(Number(s)*d/100),Y(Number(l)*u/100),G(f)},[d,u,I,f,A,s,l]);let[$,Z]=(0,i.useState)(!0),[K,ee]=(0,i.useState)(!1),[et,eo]=(0,i.useState)(x),er=(0,i.useRef)(null),[en,ei]=(0,i.useState)(),ea=A[I].chapter,es=c?c*d/100:eY.P7,el=m?m*u/100:eY.Or,ed=(0,J.Ge)((y?k:j)||"",O,(0,Q.B_)((null==T||null==(t=T.workspace)?void 0:t.plan)||n.Plan.Free,n.Plan.Scale),V,H);(0,i.useEffect)(()=>{eo(x)},[I,x]),ed=ed.trim();let eu=(0,i.useCallback)((e,t)=>{if(void 0===e||void 0===t)return!1;let o=document.getElementById(p);if(o){let r=window.getComputedStyle(o),n=Number.parseFloat(r.getPropertyValue("top").replace("px","")),i=Number.parseFloat(r.getPropertyValue("left").replace("px",""));if(void 0!==n&&void 0!==i){let o=Number.parseFloat(Number.parseFloat(n.toString()).toFixed(2)),r=Number.parseFloat(Number.parseFloat(t.toString()).toFixed(2)),a=Number.parseFloat(Number.parseFloat(i.toString()).toFixed(2)),s=Number.parseFloat(Number.parseFloat(e.toString()).toFixed(2));if(Math.ceil(o)===Math.ceil(r)&&Math.ceil(a)===Math.ceil(s))return!0}}return!1},[p]),ec=()=>{(y?null===k||""===k:null===j||""===j)||ea||ee(!0)};function em(){x||eo(!0)}function eg(){x||eo(!1)}(0,i.useEffect)(()=>{let e=()=>{ec()},t=document.getElementById(p);return t&&t.addEventListener("transitionend",e),()=>{let t=document.getElementById(p);t&&t.removeEventListener("transitionend",e)}},[ea,ec]),(0,i.useEffect)(()=>{void 0===_||void 0===W||eu(_,W)?setTimeout(()=>{ec()},700):ee(!1)},[I,_,W]),(0,i.useEffect)(()=>{let e=()=>{ec()},t=document.getElementById(p);return t&&t.addEventListener("transitionend",e),()=>{let t=document.getElementById(p);t&&t.removeEventListener("transitionend",e)}},[ea,ec]),(0,i.useEffect)(()=>{ee(!1)},[v]);let{refs:ex,floatingStyles:ef,context:ev,middlewareData:eb}=(0,ep.we)({open:$,onOpenChange:Z,..."autostart"!==X&&null!==X?{placement:X}:{},whileElementsMounted:(e,t,o)=>(0,ez.ll)(e,t,o,{animationFrame:!0,elementResize:!0}),middleware:[(0,eh.cY)(18),(0,eh.BN)({boundary:R.current||document.body,padding:16}),(0,eh.UU)({boundary:R.current||document.body,fallbackAxisSideDirection:"start",crossAxis:!0,padding:8}),(0,eh.UE)({element:er}),(0,eh.jD)({strategy:"referenceHidden"})]}),ew=(0,ep.iQ)(ev),ey=(0,ep.Mk)(ev,{move:!1}),ek=(0,ep.s9)(ev),ej=(0,ep.It)(ev,{role:"tooltip"}),{getReferenceProps:eS,getFloatingProps:eN}=(0,ep.bv)([ew,ey,ek,ej]);(0,i.useEffect)(()=>{ev&&ev.placement&&ei(ev.placement)},[ev]);let eE=(0,i.useCallback)(()=>{switch(en){case"top":default:return"center bottom";case"right":return"left center";case"bottom":return"center top";case"left":return"right center"}},[en]);function eM(e){e.stopPropagation(),B(!0),ea||E(S,z.id,"hotspot")}let[eC,eT,eI]=(0,eV.iN)(b);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:(0,h.x)("w-full h-full",ea&&"opacity-0"),children:(0,r.jsx)("div",{id:p,"data-test-id":p,className:"oversized-cursor-pointer absolute flex justify-center items-center delay-100 z-20 pointer-events-auto",style:{left:"".concat(_,"px"),top:"".concat(W,"px"),transform:"translate(-50%, -50%)",transitionDuration:"0.7s",transitionTimingFunction:"cubic-bezier(.4,0,.2,1)",transition:"all 0.5s ease-in-out",transformOrigin:"0 0"},draggable:"false",onClick:eM,ref:ex.setReference,...eS(),onMouseEnter:em,onMouseLeave:eg,children:(0,r.jsx)("span",{className:"relative flex items-center justify-center",style:{transform:"scale(".concat(1/v,")"),transition:"transform 0.5s ease-in-out"},children:(0,r.jsx)("div",{style:{position:"relative",transform:"scale(".concat(v,")"),height:"".concat(el,"px"),width:"".concat(es,"px"),opacity:"".concat(g,"%"),transitionDuration:"0.7s",transitionTimingFunction:"cubic-bezier(.4,0,.2,1)",transition:"all 0.5s ease-in-out"},children:(0,r.jsx)("div",{className:"relative w-full h-full",children:(0,r.jsx)("div",{className:(0,h.x)("w-full h-full oversized-cursor-pointer border sm:border-2 xl:border-[3px] border-solid",F?"rounded-sm":"rounded-md lg:rounded-lg",D===n.HotspotAnimation.Pulse?"animate-pulse-scale-lg":""),style:{borderColor:b,color:"rgba(".concat(eC,", ").concat(eT,", ").concat(eI,", 0.30)"),animationDuration:"1.5s"}})})})})})}),(0,r.jsx)(ep.XF,{root:R.current,children:et?K&&!F&&ed&&(0,r.jsx)("div",{onClick:eM,className:(0,h.x)("group",a),style:{transitionProperty:"all",transitionDelay:ea?"0s":"0.3s",opacity:+!ea,pointerEvents:ea?"none":"auto",position:"relative"},children:(0,r.jsx)("div",{ref:ex.setFloating,style:{...ef,transform:"".concat(ef.transform),willChange:"transform",...v>1&&{transformOrigin:eE()},width:"max-content"},...eN(),id:"tooltip","data-test-id":"floating-hotspot",onMouseEnter:em,onMouseLeave:eg,children:(0,r.jsxs)("div",{className:(0,h.x)("hover:scale-[1.045] ease-in duration-170 transition-transform text-white pt-2.5 sm:pt-3 pb-3 sm:pb-4 px-3 sm:px-4 rounded-lg sm:rounded-xl pulse-once shadow-lg oversized-cursor-pointer z-20 group",(0,eR.YW)(z.hotspotWidth).with(n.HotspotWidth.Small,()=>"min-w-[10rem] sm:min-w-[12rem] max-w-[12rem] sm:max-w-[14rem]").with(n.HotspotWidth.Medium,()=>"min-w-[12rem] max-w-[14rem] sm:min-w-[14rem] sm:max-w-[18rem]").with(n.HotspotWidth.Large,()=>"min-w-[14rem] max-w-[18rem] sm:min-w-[18rem] sm:max-w-[22rem]").otherwise(()=>"min-w-[12rem] max-w-[14rem] sm:min-w-[14rem] sm:max-w-[18rem]"),(null==(o=eb.hide)?void 0:o.referenceHidden)?"hidden":""),style:{background:"".concat(b),color:"".concat(w)},children:[(0,r.jsx)("div",{className:"absolute inset-0 rounded-xl opacity-30 group-hover:animate-pulse-hover",style:{background:z.bgcolor||void 0,zIndex:-1,color:z.bgcolor||void 0,animationIterationCount:1,animationDuration:"1s"}}),(0,r.jsx)("div",{children:(0,r.jsx)(eA.o,{remarkPlugins:[eL.A,[eP.A]],rehypePlugins:[[eF.A,{target:"_blank"}]],className:"custom-markdown flex flex-col gap-3 list-disc list-inside break-words text-xs sm:text-sm lg:text-base",children:ed})}),(0,r.jsx)(ep.ie,{ref:er,context:ev,style:{transform:"translateY(-1px)",fill:"".concat(b)}}),(0,r.jsx)(eB.A,{slide:I,hotspot:z,steps:A,handleNextSlide:eM,handleBack:M,restartDemo:C,demo:T,nextslide:S,prevslide:N,textColor:w,nextEnabled:P,showSteps:L,nextButtonText:z.nextButtonText,backButtonText:z.backButtonText})]})})}):null})]})}function eG(e){var t;let o,{tooltipClassName:a,hotSpotElementId:s,hotspotOpacity:l,hotspotTextVisible:d,tipPosition:u,zoomScale:c,bgColor:m,textColor:p,aiTextVisible:g,aiText:x,text:f,nextslide:v,prevslide:b,handleNext:w,handleBack:y,restartDemo:k,demo:j,slide:S,hotspot:N,steps:E,isMobileView:M,nextEnabled:C,showSteps:T,portalTargetRef:I,setHasUserInteracted:z,animation:A,isAllowedToEdit:F=!1,previewMode:P=!1,isVisible:L,hotspotPosition:R,hasBackdrop:B,shouldHighlightHotspots:D,isScrolling:V}=e,{variables:H}=(0,q.A)(),[O,_]=(0,i.useState)(!0),[U,W]=(0,i.useState)(!0),[Y,X]=(0,i.useState)(d),G=(0,i.useRef)(null),[$,Z]=(0,i.useState)(),K=E[S].chapter,ee=(0,J.Ge)((g?x:f)||"",H,(0,Q.B_)((null==j||null==(t=j.workspace)?void 0:t.plan)||n.Plan.Free,n.Plan.Scale),F,P);function et(){d||X(!0)}function eo(){d||X(!1)}(0,i.useEffect)(()=>{X(d)},[S,d]),ee=ee.trim();let{refs:er,floatingStyles:en,context:ei}=(0,ep.we)({open:O,onOpenChange:_,..."autostart"!==u&&null!==u?{placement:u}:{},whileElementsMounted:(e,t,o)=>(0,ez.ll)(e,t,o,{animationFrame:!0,elementResize:!0}),middleware:[(0,eh.cY)(18),(0,eh.BN)({boundary:I.current||document.body,padding:16}),(0,eh.UU)({boundary:I.current||document.body,fallbackAxisSideDirection:"start",crossAxis:!0,padding:8}),(0,eh.UE)({element:G})]}),ea=(0,ep.iQ)(ei),es=(0,ep.It)(ei,{role:"tooltip"}),{getReferenceProps:el,getFloatingProps:ed}=(0,ep.bv)([ea,es]),{isMounted:eu,styles:ec}=(0,ep.DL)(ei,{duration:{open:500,close:0},initial:e=>{let{side:t}=e;switch(t){case"top":return{opacity:0,transform:"translateY(5px)"};case"right":return{opacity:0,transform:"translateX(-5px)"};case"bottom":return{opacity:0,transform:"translateY(-5px)"};case"left":return{opacity:0,transform:"translateX(5px)"}}},open:{opacity:1,transform:"translate(0, 0)"}});(0,i.useEffect)(()=>{ei&&ei.placement&&Z(ei.placement)},[ei]);let em=(0,i.useCallback)(()=>{switch($){case"top":default:return"center bottom";case"right":return"left center";case"bottom":return"center top";case"left":return"right center"}},[$]);function eg(e){e.stopPropagation(),z(!0),K||w(v,N.id,"hotspot")}let[ex,ef,ev]=(0,eV.iN)(m);return D&&!L&&(o="rgba(".concat(ex,", ").concat(ef,", ").concat(ev,", 0.50)")),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:(0,h.x)("w-full h-full",V||K?"opacity-0":void 0),children:(0,r.jsx)("div",{id:s,"data-test-id":s,className:"oversized-cursor-pointer absolute flex justify-center items-center z-20 pointer-events-auto bg-transparent",style:{willChange:"transform",transform:"translate(".concat(R.x,"px, ").concat(R.y,"px)")},draggable:"false",onClick:eg,ref:er.setReference,...el(),onMouseEnter:et,onMouseLeave:eo,children:(0,r.jsx)("span",{className:"relative flex items-center justify-center",style:{transform:"scale(".concat(1/c,")")},children:(0,r.jsx)("div",{style:{position:"relative",transform:"scale(".concat(c,")"),height:"".concat(R.height,"px"),width:"".concat(R.width,"px"),opacity:"".concat(l,"%")},children:(0,r.jsx)("div",{className:"relative w-full h-full",children:(0,r.jsx)("div",{className:(0,h.x)("w-full h-full oversized-cursor-pointer",L&&!B?"border sm:border xl:border-2 border-solid":"",L&&!B&&A===n.HotspotAnimation.Pulse?"animate-pulse-scale-lg":""),style:{borderColor:m,background:o,color:"rgba(".concat(ex,", ").concat(ef,", ").concat(ev,", 0.30)"),transition:"background-color ease-in 0.5s",animationDuration:"1.5s",borderRadius:"".concat(Math.min(6,.25*Math.min(R.width,R.height)),"px")}})})})})})}),(0,r.jsx)(ep.XF,{root:I.current,children:Y?U&&L&&!M&&ee&&eu&&!V&&(0,r.jsx)("div",{onClick:eg,className:(0,h.x)("group",a),style:{zIndex:30,transitionProperty:"all",transitionDelay:K?"0s":"0.3s",opacity:+!K,pointerEvents:K?"none":"auto",position:"relative",...ec},children:(0,r.jsx)("div",{ref:er.setFloating,style:{...en,transform:"".concat(en.transform),willChange:"transform",...c>1&&{transformOrigin:em()},width:"max-content"},...ed(),id:"tooltip","data-test-id":"floating-hotspot",onMouseEnter:et,onMouseLeave:eo,children:(0,r.jsxs)("div",{className:(0,h.x)("hover:scale-[1.045] ease-in duration-170 transition-transform text-white pt-2.5 sm:pt-3 pb-3 sm:pb-4 px-3 sm:px-4 rounded-lg sm:rounded-xl shadow-lg oversized-cursor-pointer z-20 group pulse-once",(0,eR.YW)(N.hotspotWidth).with(n.HotspotWidth.Small,()=>"min-w-[10rem] sm:min-w-[12rem] max-w-[12rem] sm:max-w-[14rem]").with(n.HotspotWidth.Medium,()=>"min-w-[12rem] max-w-[14rem] sm:min-w-[14rem] sm:max-w-[18rem]").with(n.HotspotWidth.Large,()=>"min-w-[14rem] max-w-[18rem] sm:min-w-[18rem] sm:max-w-[22rem]").otherwise(()=>"min-w-[12rem] max-w-[14rem] sm:min-w-[14rem] sm:max-w-[18rem]")),style:{background:"".concat(m),color:"".concat(p)},children:[(0,r.jsx)("div",{className:"absolute inset-0 rounded-xl opacity-30 group-hover:animate-pulse-hover",style:{background:N.bgcolor||void 0,zIndex:-1,color:N.bgcolor||void 0,animationIterationCount:1,animationDuration:"1s"}}),(0,r.jsx)("div",{children:(0,r.jsx)(eA.o,{remarkPlugins:[eL.A,[eP.A]],rehypePlugins:[[eF.A,{target:"_blank"}]],className:"custom-markdown flex flex-col gap-3 list-disc list-inside break-words text-xs sm:text-sm lg:text-base",children:ee})}),(0,r.jsx)(ep.ie,{ref:G,context:ei,style:{transform:"translateY(-1px)",fill:"".concat(m)}}),(0,r.jsx)(eB.A,{slide:S,hotspot:N,steps:E,handleNextSlide:eg,handleBack:y,restartDemo:k,demo:j,nextslide:v,prevslide:b,textColor:p,nextEnabled:C,showSteps:T,nextButtonText:N.nextButtonText,backButtonText:N.backButtonText})]})})}):null})]})}var e$=o(31406);let eZ="sd-hotspot";function eq(e){let{className:t,hotspot:o,width:i,height:a,slide:s,steps:l,handleNext:d,handleBack:u,nextEnabled:m,showSteps:p,restartDemo:h,demo:g,zoomScale:x,portalTargetRef:f,isMobileView:v,setHasUserInteracted:b,isAllowedToEdit:w=!1,previewMode:y=!1,shouldHighlightHotspots:k=!1}=e,j="HTML"===g.type,S=(0,e$.d)((0,c.k)(e=>e.hotspotPositions[o.id])),N=(0,e$.d)((0,c.k)(e=>e.isScrolling)),E=(null==S?void 0:S.x)||0,M=(null==S?void 0:S.y)||0,C=(null==S?void 0:S.width)||0,T=(null==S?void 0:S.height)||0,I=E>i||E+C<0,z=M>a||M+T<0,A=j&&(I||z);if(A)return null;if("Circle"===o.style)return(0,r.jsx)(eD,{tooltipClassName:t,hotSpotElementId:eZ,hotspot:o,width:i,height:a,slide:s,steps:l,portalTargetRef:f,handleNext:d,handleBack:u,nextEnabled:m,showSteps:p,restartDemo:h,animation:o.animation,demo:g,zoomScale:x,isMobileView:v,setHasUserInteracted:b,isAllowedToEdit:w,previewMode:y});if("Tooltip"===o.style)return(0,r.jsx)(eW,{tooltipClassName:t,hotSpotElementId:eZ,width:i,height:a,slide:s,hotspot:o,steps:l,handleNext:d,handleBack:u,showSteps:p,restartDemo:h,demo:g,zoomScale:x,isMobileView:v,hotspotOpacity:g.hotspotOpacity,animation:o.animation,bgColor:o.bgcolor||"#fff",textColor:o.textcolor||"#fff",aiTextVisible:o.aiTextVisible,aiText:o.aiText,text:o.text,nextslide:o.nextslide,prevslide:o.prevslide,setHasUserInteracted:b,isAllowedToEdit:w,previewMode:y});{if("Area"===o.style)return(0,r.jsx)(eX,{tooltipClassName:t,hotSpotElementId:eZ,width:i,height:a,slide:s,hotspot:o,steps:l,handleNext:d,handleBack:u,nextEnabled:m,showSteps:p,restartDemo:h,demo:g,zoomScale:x,isMobileView:v,animation:o.animation,mouseXCooridnate:o.mouseXCooridnate,mouseYCooridnate:o.mouseYCooridnate,boxWidth:o.boxWidth?Number(o.boxWidth):null,boxHeight:o.boxHeight?Number(o.boxHeight):null,hotspotOpacity:g.hotspotOpacity?Number(g.hotspotOpacity):null,bgColor:o.bgcolor||"#fff",textColor:o.textcolor||"#fff",aiTextVisible:o.aiTextVisible,aiText:o.aiText,text:o.text,nextslide:o.nextslide,prevslide:o.prevslide,hotspotTextVisible:null===o.textVisible?g.hotspotTextVisible||!1:o.textVisible,tipPosition:o.tipposition,portalTargetRef:f,setHasUserInteracted:b,isAllowedToEdit:w,previewMode:y});if("Anchor"!==o.style||!S||A)return null;let e=!!l[s].backdrop&&l[s].backdrop!==n.Backdrop.None;return(0,r.jsx)(eG,{tooltipClassName:t,hotSpotElementId:eZ,slide:s,hotspot:o,steps:l,handleNext:d,handleBack:u,nextEnabled:m,showSteps:p,restartDemo:h,demo:g,zoomScale:x,isMobileView:v,animation:o.animation,hotspotOpacity:g.hotspotOpacity?Number(g.hotspotOpacity):null,bgColor:o.bgcolor||"#fff",textColor:o.textcolor||"#fff",aiTextVisible:o.aiTextVisible,aiText:o.aiText,text:o.text,nextslide:o.nextslide,prevslide:o.prevslide,hotspotTextVisible:null===o.textVisible?g.hotspotTextVisible||!1:o.textVisible,tipPosition:o.tipposition,portalTargetRef:f,setHasUserInteracted:b,isAllowedToEdit:w,previewMode:y,isVisible:o.isVisible||!1,hotspotPosition:S,hasBackdrop:e,shouldHighlightHotspots:k,isScrolling:N})}}var eJ=o(77805),eQ=o(69249),eK=o(97172),e0=o(31333),e1=o(27815),e2=o(80133),e5=o(65593);let e4={state:"idle",progress:0},e3=(0,I.vt)(e=>({steps:[],setProgress:(t,o)=>e((0,e5.jM)(e=>{e.steps[t]||(e.steps[t]={...e4}),e.steps[t].progress=o,e.steps[t].state="playing"})),playVideo:t=>e((0,e5.jM)(e=>{e.steps[t]||(e.steps[t]={...e4}),e.steps[t].state="seeking"})),pauseVideo:t=>e((0,e5.jM)(e=>{e.steps[t]||(e.steps[t]={...e4}),e.steps[t].state="paused"})),seekVideo:(t,o)=>{e((0,e5.jM)(e=>{e.steps[t]||(e.steps[t]={...e4}),e.steps[t].state="seeking",e.steps[t].progress=o}))},resetVideos:()=>{e((0,e5.jM)(e=>{e.steps=[]}))}}));var e8=o(4235),e7=o(30465),e6=o(84823),e9=o(91957),te=o(62160),tt=o(60182),to=o(59067),tr=o(61377),tn=o(36342),ti=o(5258),ta=o.n(ti),ts=o(94860),tl=o(88146);let td=e=>{var t,o,r;let{demo:s,variables:l=[],isInViewport:d=!0,steps:c,slide:m,sendViewNotification:p=!1}=e,h=(0,u.DE)(),[g,x]=(0,u.Fo)("demo-".concat(s.id,"-viewed"),null),[f,v]=(0,u.Fo)("demo-".concat(s.id,"-engaged"),!1),[b,w]=(0,u.Mj)(e7.QJ,null),y=(0,tr.getCookie)("supademo-consent"),k=(0,i.useRef)(void 0!==y?y:null==(t=s.workspace)?void 0:t.trackingEnabled),j=e7.Ov.includes(String(s.workspaceId)),S=(0,i.useCallback)(()=>{if(!k.current)return;let e=localStorage.getItem("supademo-viewer");return e||(e=(0,tn.Ak)(),localStorage.setItem("supademo-viewer",e)),e},[])(),N=(0,i.useCallback)(async()=>{var e,t,o;let{name:r,company:i,email:a}=(0,ts.Gg)(l),d=a||b;if((null==(e=s.workspace)?void 0:e.plan)===n.Plan.Free||!k.current||j||g&&g.email===d||!S)return;let u={viewerId:S,workspaceId:null==(t=s.workspace)?void 0:t.id,authorId:s.authorId,shared:s.shared,title:s.title,name:r,company:i,email:d,viewedAt:new Date,sessionId:(0,tn.Ak)(),sendViewNotification:p,utmSource:(0,ts._i)()};try{await tt.A.post(tl.D0.oldDemoView({demoId:s.id}),u),a&&w(a),x(u)}catch(e){if(e instanceof to.pe&&(null==(o=e.response)?void 0:o.status)===429)return console.warn("429 error sending demo view data");console.error("Error sending demo view data: ",e)}},[s,j,l,b,w,x,g,S]),E=(0,i.useCallback)(async e=>{var t,o,r;try{if((null==(t=s.workspace)?void 0:t.plan)===n.Plan.Free||!k.current||j)return;let r="".concat(s.id,"-steps"),i=sessionStorage.getItem(r)||"[]",a=JSON.parse(i);if((!a||!a.includes(e))&&S){let t={viewerId:S,viewedAt:new Date,workspaceId:null==(o=s.workspace)?void 0:o.id,utmSource:(0,ts._i)()};await tt.A.post(tl.D0.oldStepView({stepId:e}),t);let n=JSON.parse(sessionStorage.getItem(r)||"[]")||[];n.push(e),sessionStorage.setItem(r,JSON.stringify(n)),f||(await tt.A.put(tl.D0.demoViewAndEngage({demoId:s.id}),{viewerId:S}),v(!0))}}catch(e){if(e instanceof to.pe&&(null==(r=e.response)?void 0:r.status)===429)return console.warn("429 error sending step view data");console.error("Error sending step view data:",e)}},[s,j,f,v,S]),M=(0,i.useCallback)(async e=>{var t,o,r;let{entityId:i,stepId:a,entityType:l}=e;if((null==(t=s.workspace)?void 0:t.plan)!==n.Plan.Free&&k.current&&S)try{await tt.A.post(tl.D0.oldStepEntityClick({stepId:a,entityId:i}),{viewerId:S,entityType:l,workspaceId:null==(o=s.workspace)?void 0:o.id})}catch(e){if(e instanceof to.pe&&(null==(r=e.response)?void 0:r.status)===429)return console.warn("429 error sending step entity click data");console.error("Error sending step entity click data:",e)}},[null==(o=s.workspace)?void 0:o.plan,S,null==(r=s.workspace)?void 0:r.id]);return(0,i.useEffect)(()=>{let e="demo-".concat(s.id,"-timer");ta().initialize({currentPageName:e,idleTimeInSeconds:5}),ta().startTimer(e);let t=()=>{let t=sessionStorage.getItem(e)||"0",o=Number(ta().getTimeOnCurrentPageInSeconds(e))+Number(t);sessionStorage.setItem(e,String(o)),navigator.sendBeacon(tl.D0.demoSessionDuration({demoId:s.id}),new Blob([JSON.stringify({viewerId:null==g?void 0:g.viewerId,sessionId:null==g?void 0:g.sessionId,time:o})],{type:"application/json"}))},o=()=>{"hidden"===document.visibilityState&&t()},r=()=>{t()};return a.Fr?document.addEventListener("visibilitychange",o):window.addEventListener("beforeunload",r),()=>{a.Fr?document.removeEventListener("visibilitychange",o):window.removeEventListener("beforeunload",r)}},[s.id,null==g?void 0:g.viewerId,null==g?void 0:g.sessionId]),(0,i.useEffect)(()=>{if(h&&!window.messageEventListenerAdded){let e=e=>{"consent"===e.data.type&&(k.current=!0,(0,tr.setCookie)("supademo-consent","true",{expires:new Date(Date.now()+31536e6)}),S&&N())};return window.addEventListener("message",e,!1),window.messageEventListenerAdded=!0,()=>{window.removeEventListener("message",e)}}},[h,S,N]),(0,i.useEffect)(()=>{d&&N()},[d,N]),(0,i.useEffect)(()=>{if(0!==m)try{let e=c[m].id;E(e)}catch(t){var e;e9.Z({category:"demo-tracking",message:"Error accessing step data",level:"error",data:{demoId:(null==c||null==(e=c[0])?void 0:e.demoId)||"",slide:m,numberOfSteps:(null==c?void 0:c.length)||0,availableStepIds:(null==c?void 0:c.map(e=>null==e?void 0:e.id).filter(Boolean))||[],error:t instanceof Error?t.message:String(t)}}),te.Cp(t)}},[m,c,E]),{sendStepViewData:E,sendStepEntityClick:M,trackingEnabled:k.current,demoViewed:g,isDemoEngaged:f,uniqueViewerId:S}},tu=e=>{let{imageContainerRef:t,mediaSize:o,currentStep:r}=e,[n,a]=(0,i.useState)(!1),[s,l]=(0,i.useState)(1),d=(0,i.useCallback)(()=>{t.current&&(t.current.style.transform="translateZ(0) scale(1)",a(!1),l(1))},[t]),u=(0,i.useCallback)(e=>{let t=e.x*o.width/100,r=e.y*o.height/100;return{x:t,y:r,width:e.width*o.width/100,height:e.height*o.height/100}},[o.height,o.width]),c=(0,i.useCallback)(e=>{let{cropWidth:t,cropHeight:r}=e;return Math.min(o.width/(t*o.width/100),o.height/(r*o.height/100))},[o.width,o.height]),m=(0,i.useCallback)(()=>{if(!r)return!1;let{zoomPositionX:e,zoomPositionY:t,zoomWidth:o,zoomHeight:n}=r;return n&&o&&Number(e)>=0&&Number(t)>=0&&Number(o)>=0&&Number(n)>=0},[r]),p=(0,i.useCallback)(()=>{if(!r)return null;let{zoomPositionX:e,zoomPositionY:t,zoomWidth:o,zoomHeight:n}=r;return n&&o&&Number(e)>=0&&Number(t)>=0&&Number(o)>=0&&Number(n)>=0?{zoomWidth:Number(o),zoomHeight:Number(n),zoomPositionX:Number(e),zoomPositionY:Number(t)}:null},[r]),h=(0,i.useCallback)(()=>t.current&&t.current.style.transform.includes("translate3d"),[t]),g=(0,i.useCallback)(()=>{if(t.current)if(h())t.current.style.transform="translateZ(0) scale(1)",l(1);else{let e=p();if(e){let{x:o,y:r}=u({x:e.zoomPositionX,y:e.zoomPositionY,width:e.zoomWidth,height:e.zoomHeight}),n=c({cropWidth:e.zoomWidth,cropHeight:e.zoomHeight});t.current.style.transform="translate3d(calc(".concat(-o,"px * ").concat(n,"), calc(").concat(-r,"px * ").concat(n,"), 0) scale(").concat(n,")"),l(n)}}},[t,h,p,u,c]);return(0,i.useEffect)(()=>{if(!t.current)return;let e=p(),o=null==r?void 0:r.chapter;if(e){let{x:o,y:r}=u({x:e.zoomPositionX,y:e.zoomPositionY,width:e.zoomWidth,height:e.zoomHeight}),n=c({cropWidth:e.zoomWidth,cropHeight:e.zoomHeight});t.current.style.transform="translate3d(calc(".concat(-o,"px * ").concat(n,"), calc(").concat(-r,"px * ").concat(n,"), 0) scale(").concat(n,")"),a(!0),l(n)}else if(n)if(t.current.style.transform="translateZ(0) scale(1)",o)a(!1),l(1);else{let e=setTimeout(()=>{a(!1),l(1)},700);return()=>clearTimeout(e)}},[r,u,c,p,n,t]),{hasZoomed:n,zoomScale:s,resetZoom:d,hasZoomBox:m,getZoomBox:p,hasZoomTransformation:h,toggleZoom:g}};var tc=o(14732),tm=o(7347),tp=o(99574),th=o(85498);function tg(e){let{slide:t,hotspots:o,handleBack:a,handleKeyDown:s,restartDemo:l,steps:d,workspace:u,demo:c,width:m,fullScreenEnabled:p,style:g,className:x,isAllowedToEdit:f=!1,previewMode:v=!1}=e,{variables:b}=(0,q.A)(),[w,y]=(0,i.useState)(!1),[k,j]=(0,i.useState)(!1),S=(0,i.useRef)(null),N=(0,i.useRef)(null),E=d.length===t+1,M=(0,e6.h$)(d),C=o[0],T=(null==C?void 0:C.bgcolor)?C.bgcolor:(null==M?void 0:M.bgcolor)||"#4f46e5",I=(null==C?void 0:C.textcolor)?C.textcolor:(null==M?void 0:M.textcolor)||"#fff",z=(null==C?void 0:C.aiTextVisible)?null==C?void 0:C.aiText:null==C?void 0:C.text;if(o&&o.forEach((e,t)=>{t>0&&(z+="\n".concat(e.aiTextVisible?e.aiText:e.text))}),z){var A;z=(0,J.Ge)(z,b,(0,Q.B_)((null==c||null==(A=c.workspace)?void 0:A.plan)||n.Plan.Free,n.Plan.Scale),f,v)}(0,i.useEffect)(()=>{let e=()=>{S.current&&j(S.current.scrollHeight>42)};e();let t=new ResizeObserver(e);return S.current&&t.observe(S.current),()=>{t.disconnect()}},[z]);let[F,P]=(0,i.useState)(0);return(0,i.useLayoutEffect)(()=>{if(N.current){let e=Number.parseFloat(window.getComputedStyle(N.current).paddingTop);P(N.current.scrollHeight+(w?e:0))}},[z,w,t]),(0,r.jsxs)(tp.P.article,{layout:!0,layoutRoot:!0,className:(0,h.x)("w-full transition-all ease grid grid-cols-[1fr_48px] gap-2 items-end select-none rounded-b-md px-3 touch-manipulation",w?"z-[99]":"z-1",c.border&&!p?"border-t border-t-gray-300/80":"",x),style:{background:T||"#4f46e5",color:I||"#fff",width:p?m:void 0,...g},onHoverStart:()=>{k&&y(!0)},onHoverEnd:()=>{k&&y(!1)},transition:{duration:.25},children:[(0,r.jsx)(th.N,{children:k&&(0,r.jsx)(tp.P.button,{"aria-hidden":!0,className:(0,h.x)("absolute w-10 h-5 flex items-center justify-center justify-self-center bottom-full pt-1 rounded-t-lg cursor-pointer origin-bottom",c.border&&!p?"border-t border-x border-gray-300/80":""),initial:{opacity:0,scaleY:.4,scaleX:.8},animate:{opacity:1,scaleY:1,scaleX:1},exit:{opacity:0,scaleY:.4,scaleX:.8},transition:{duration:.15},onClick:()=>y(!w),style:{background:T||"#4f46e5",color:I||"#fff"},children:(0,r.jsx)(tp.P.div,{initial:{rotate:0},animate:{rotate:180*!!w},transition:{duration:.2},children:(0,r.jsx)(tc.Z,{size:14,weight:"bold"})})})}),(0,r.jsxs)("div",{className:"flex-grow relative overflow-hidden cursor-pointer",children:[(0,r.jsx)(th.N,{initial:!1,children:(0,r.jsx)(tp.P.div,{ref:S,style:{color:I||"#fff",...!w&&k&&{maskImage:"linear-gradient(to bottom, black 45%, transparent 120%)"}},className:(0,h.x)("text-xs pt-2.5"),initial:{height:42},animate:{height:w?F:42},transition:{duration:.2,ease:[.04,.62,.23,.98]},onClick:()=>{k&&y(!w)},children:z&&!d[t].chapter&&(0,r.jsx)(eA.o,{remarkPlugins:[eL.A,[eP.A]],rehypePlugins:[[eF.A,{target:"_blank"}]],className:"custom-markdown list-disc list-inside break-words text-sm font-normal",children:z})})}),(0,r.jsx)("div",{ref:N,className:"text-xs pt-2.5 absolute opacity-0 pointer-events-none",style:{color:I||"#fff",height:"auto",visibility:"hidden"},children:z&&!d[t].chapter&&(0,r.jsx)(eA.o,{remarkPlugins:[eL.A,[eP.A]],rehypePlugins:[[eF.A,{target:"_blank"}]],className:"custom-markdown list-disc list-inside break-words text-sm font-normal",children:z})})]}),(0,r.jsx)("nav",{className:"cursor-pointer sticky top-0 flex items-center justify-end",style:{height:42},children:(0,r.jsx)("div",{className:"flex gap-2",children:E&&u.plan!==n.Plan.Free?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(D.$,{onClick:e=>{y(!1),a(e)},"aria-label":"Previous Step",disabled:0===t,className:"disabled:opacity-50",variant:"custom",icon:(0,r.jsx)(K.n,{size:18,weight:"bold"})}),(0,r.jsx)(D.$,{onClick:l,"aria-label":"Restart Demo",variant:"custom",icon:(0,r.jsx)(tm.o,{size:18,weight:"bold"})})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(D.$,{onClick:e=>{y(!1),a(e)},"aria-label":"Previous Step",disabled:0===t,className:"disabled:opacity-50",variant:"custom",icon:(0,r.jsx)(K.n,{size:18,weight:"bold"})}),(0,r.jsx)(D.$,{onClick:()=>{y(!1),s({code:"ArrowRight"})},"aria-label":"Next Step",disabled:E,className:"disabled:opacity-50",variant:"custom",icon:(0,r.jsx)(ee.Q,{size:18,weight:"bold"})})]})})})]})}function tx(e){var t,o,n,a,s,l,d;let{steps:u,slideIndex:g}=e,{stepPlayStates:x,setStepPlayState:f}=(0,p.Y)((0,c.k)(e=>({stepPlayStates:e.stepPlayStates,setStepPlayState:e.setStepPlayState}))),v=e=>{f(e,{playState:"playing"})},b=e=>{f(e,{playState:"paused"})},w=(e,t)=>{f(e,{playState:"seeking",progress:t})},y=u[g],k=(null==(t=x[g])?void 0:t.duration)*(null==(o=x[g])?void 0:o.progress)||0,[j,S]=(0,i.useState)(null),N=(null==(s=u.find(e=>e.hotspots.some(e=>"#4f46e5"!==e.bgcolor)))||null==(a=s.hotspots)||null==(n=a[0])?void 0:n.bgcolor)||"#4f46e5",E=((e,t)=>{let o=e.hotspots.length>0;if(t){if(o){let t=e.hotspots[0].bgcolor;return"#4f46e5"!==t&&(N=t),t}return N}return"#e5e7eb"})(y,!0),M=x[g],C=Math.round((null==M?void 0:M.progress)*100),{setProgressBarVisibility:T}=(0,m.A)();return(0,i.useEffect)(()=>()=>{T(!1)},[T]),(0,r.jsxs)("div",{onMouseEnter:()=>T(!0),onMouseLeave:()=>{var e;(null==(e=x[g])?void 0:e.state)!=="paused"&&T(!1)},className:"hidden z-50 sm:flex sm:items-center absolute bottom-0 transition-opacity ease-in-out duration-500 delay-75 h-10 w-full px-4 pb-5 pt-[100px] bg-gradient-to-b from-transparent hover:opacity-100 hover:delay-75 hover:duration-200 gap-2 ".concat((null==(l=x[g])?void 0:l.state)==="paused"?"opacity-100":"opacity-0"),children:[(0,r.jsx)("div",{className:"bg-gradient-to-b from-transparent via-gray-900/20 to-gray-900/50 w-full absolute left-0 bottom-0 opacity-100 pointer-events-none h-[200px]"}),M?"playing"===M.state||"seeking"===M.state?(0,r.jsx)(X.A,{onClick:()=>b(g),className:"h-5 w-5 text-white cursor-pointer z-10"}):"paused"===M.state||"idle"===M.state?(0,r.jsx)(G.A,{onClick:()=>v(g),className:"h-5 w-5 text-white cursor-pointer z-10"}):null:null,(null==(d=x[g])?void 0:d.duration)&&(0,r.jsxs)("span",{className:"text-sm text-white",children:[(0,el.fU)(k),"/",(0,el.fU)(x[g].duration)]}),(0,r.jsx)("div",{className:(0,h.x)("h-10 group-scoped flex items-center w-full cursor-pointer flex-1 transition-all duration-200 ease-in-out "),onMouseMove:e=>{let t=e.currentTarget.getBoundingClientRect(),o=e.clientX-t.left;S(o/t.width*100)},onMouseLeave:()=>S(null),onMouseDown:()=>{w(g,(j||0)/100)},children:(0,r.jsxs)("div",{className:"h-1 w-full rounded-full transition-all duration-200 ease-in-out hover:h-3 opacity-100 bg-white relative",children:[(0,r.jsx)("div",{className:"absolute rounded-full top-0 left-0 bottom-0",style:{width:"".concat(C,"%"),background:E}}),null!==j?(0,r.jsx)("div",{className:"absolute top-0 w-[1px] h-full bg-black",style:{left:"calc(".concat(j,"% - 1px)")}}):null]})})]})}var tf=o(42919),tv=o(75291),tb=o(88777),tw=o(62162),ty=o(58094),tk=o(24403),tj=o(12163),tS=o.n(tj);function tN(e){let{step:t,index:o,slide:i,maxDimensions:a,imageStyle:s}=e,l=t.editedImage?t.editedImage:t.image,{setAssetLoaded:d}=(0,p.Y)();return l?(0,r.jsx)("div",{"data-test-id":"image-step",className:(0,h.x)("flex items-center justify-center","absolute"),style:{width:a.width,height:a.height},children:o===i||o<=i+2?(0,r.jsx)(j.default,{className:(0,h.x)(o===i?"opacity-100":"opacity-0",t.mediaFitMode===n.MediaFitMode.Cover?"object-cover":""),style:s,priority:1===i||o===i,src:l,alt:"Demo Image ".concat(o+1),width:a.width,height:a.height,onLoad:()=>d(o,"image"),loading:"eager",unoptimized:!0}):null},t.id):null}var tE=o(42637),tM=o.n(tE),tC=o(77532),tT=o(92754),tI=o(62448);let tz=e=>{var t;let{videoStyle:o,step:n,slideIndex:s,maxDimensions:l,slide:d,ctaSupademo:u,isMobileView:m,mute:g,portalTargetRef:x,playerRef:f}=e,[v,b]=(0,i.useState)(!1),[w,y]=(0,i.useState)(0),[k,j]=(0,i.useState)(null),{currentStepPlayState:S,setStepPlayState:N,setAssetLoaded:E,muteState:M,muteAudio:C}=(0,p.Y)((0,c.k)(e=>({muteState:e.muteState,muteAudio:e.muteAudio,stepPlayStates:e.stepPlayStates,setAssetLoaded:e.setAssetLoaded,setStepPlayState:e.setStepPlayState,currentStepPlayState:e.stepPlayStates[s]}))),T=(0,i.useMemo)(()=>n.imgState?(0,tT.gw)(n.imgState):null,[n]),I=e=>{N(e,{playState:"playing"})},z=e=>{N(e,{playState:"paused"})};(0,i.useEffect)(()=>{if(!S||S.duration===Number.POSITIVE_INFINITY)return;let e=S.state;if("playing"===e){if(v)return;if(f.current&&k){let e=S.progress*S.duration+w;f.current.seekTo(Math.min(e,k),"seconds"),e<k&&b(!0)}else k||b(!0)}else if("seeking"===e){if(f.current&&k){let e=S.progress*S.duration+w;f.current.seekTo(Math.min(e,k),"seconds"),N(d,{playState:"playing"})}}else{if(s!==d){var t;null==(t=f.current)||t.seekTo(w,"seconds")}if(!v)return;b(!1)}},[S,d,v,k,w]);let A=()=>{if(!f.current)return;let e=f.current.getDuration()!==Number.POSITIVE_INFINITY?f.current.getDuration():Number(n.videoDuration||0),t=Number(n.trimStart||0)/100*e;y(t),j(Number(n.trimEnd||100)/100*e),t>0&&f.current&&f.current.seekTo(t,"seconds"),E(s,"video")};(0,i.useEffect)(()=>{let e=(0,h.x)(u?"blur":"",m?"rounded-t-md":"");f.current&&(f.current.className=e)},[m,u]);let F=a.un&&!!n.audio;return(0,r.jsx)("div",{style:{width:l.width,height:l.height,position:"absolute",overflow:"hidden",display:s===d?"block":"none"},className:(0,h.x)(m?"rounded-t-md":"",""),children:(0,r.jsxs)("div",{className:"w-full h-full",onClick:()=>"playing"===S.state?z(d):I(d),children:[(0,r.jsx)(tC.R,{mediaOriginalWidth:n.widthOrg||l.width,mediaOriginalHeight:n.heightOrg||l.height,crop:null!=(t=null==T?void 0:T.crop)?t:null,style:{width:l.width,height:l.height},children:(0,r.jsx)(tM(),{ref:f,url:n.video||"",width:"100%",height:"100%",playing:v,onProgress:e=>{if(k&&e.playedSeconds>k){var t;b(!1),null==(t=f.current)||t.seekTo(k,"seconds")}},onEnded:()=>{b(!1)},onDuration:()=>{A()},style:{display:"flex",alignItems:"center",justifyContent:"center"},muted:g||n.mute||"hard-mute"===M||n.video&&(0,tI.y1)(n.video)||F,onError:()=>{"soft-mute"===M&&C(),setTimeout(()=>{var e,t;null==(t=f.current)||null==(e=t.getInternalPlayer())||e.play().catch(e=>{console.warn("Error replaying video after mute",e)})})},progressInterval:100,playsinline:!0,config:{file:{hlsOptions:{maxBufferSize:1e3,maxBufferLength:5},attributes:{"data-test-id":"video-step",style:{...o,position:"absolute",objectFit:"cover",width:"100%",...n.video&&(0,tI.y1)(n.video)&&{bottom:.4},...(!n.video||!(0,tI.y1)(n.video))&&{height:"100%"}}}}},playbackRate:Number(n.playbackRate||1)})}),S&&"waiting"===S.state?(0,r.jsx)(ep.XF,{root:null==x?void 0:x.current,children:(0,r.jsx)("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center z-30 group bg-gray-900/70",children:(0,r.jsx)("div",{className:"bg-white p-2 sm:p-5 lg:p-7 rounded-full hover:bg-gray-50 cursor-pointer transition-transform duration-300 ease-in-out transform group-hover:scale-125",children:(0,r.jsx)(G.A,{id:"play-button-required",className:"lg:h-16 lg:w-16 sm:h-10 sm:w-10 w-8 h-8 text-gray-600",onClick:()=>{b(!0)}})})})}):null]})})},tA=e=>{let{demo:t,slide:o,mute:n,dr:i,ctaSupademo:a,handleNext:s,resetDemo:l,uniqueViewerId:d,demoViewType:u,isAllowedToEdit:c,previewMode:m,demoCanvasRef:p,demoMediaHolderRef:h,sendStepEntityClick:g,assetManager:x,getVideoPlayerRef:f}=e;return(0,r.jsx)(r.Fragment,{children:t.steps.map((e,v)=>{if(e.image&&!e.htmlCaptureId){var b,w;return(0,r.jsx)(tN,{slide:o,step:e,index:v,maxDimensions:{width:i.mediaSize.width,height:i.mediaSize.height},imageStyle:{objectPosition:null==(b=e.mediaAlignMode)?void 0:b.toLowerCase(),objectFit:null==(w=e.mediaFitMode)?void 0:w.toLowerCase(),width:i.hasSmallerMedia?void 0:"100%",height:i.hasSmallerMedia?void 0:"100%"}},e.id)}return e.video&&(v===o||v<=o+2)&&!e.htmlCaptureId?(0,r.jsx)(tz,{step:e,slideIndex:v,maxDimensions:{width:i.mediaSize.width,height:i.mediaSize.height},slide:o,ctaSupademo:a,isMobileView:i.shouldRenderInMobileMode,mute:n,portalTargetRef:i.shouldShowBackground||i.shouldRenderInMobileMode?p:h,playerRef:f(v)},e.id):e.chapter&&o===v?(0,r.jsx)("div",{className:"absolute inset-0",children:(0,r.jsx)("div",{className:"absolute inset-0",children:(0,r.jsx)(M.Ay,{demo:t,chapter:e.chapter,width:i.mediaSize.width,height:i.mediaSize.height,slide:o,index:o,handleNext:s,resetDemo:l,uniqueViewerId:d,isMobileView:i.shouldRenderInMobileMode,demoViewType:u,demoRendering:i,setDemo:tS(),isAllowedToEdit:c,previewMode:m,sendStepEntityClick:g,assetManager:x})})},e.id):null})})},tF=e=>{var t,o,c,m,x,f,v,b,y,k,j,S,N,C;let{demo:T,type:I,audioEnabled:A,showOpenLink:P=!1,currentSlide:L=null,onSlideChange:R,onDemoComplete:B,manualUserTrigger:D=!1,renderInsideCanvas:O,renderInsideFrame:U,isAllowedToEdit:W=!1,previewMode:X=!1,onDemoRenderingUpdate:G,blurContent:$,variablesFromUrl:q,sendViewNotification:J=!1}=e,Q=(0,ty.r)(null==T?void 0:T.type),K=T.translations.length>0,ee=(0,tk.F)(T.font,T.customFontId),eo=[{...T.customFont}],{detectedLanguage:er}=(0,tb.A)((0,H.Gs)(T,T.steps),K,T.id),{translatedDemo:ei,isLoading:ea,setLanguage:el,selectedLanguageCode:ed}=function(e){let{demo:t,defaultLanguage:o,isTranslated:r=!1}=e,a=(0,_.useSearchParams)(),s=(0,_.useRouter)(),l=a.get("lang"),{data:d}=(0,V.D)(t.id,r),u=(0,i.useMemo)(()=>{if(!(null==d?void 0:d.data))return;let e=d.data.find(e=>e.code===l);if(e&&e.hasContent)return e.code},[d,l]),{translation:c,isLoading:m,isError:p}=(0,tw.z)({demoId:t.id,language:u,showWarning:!0});return{translatedDemo:(0,i.useMemo)(()=>{if(!c)return t;let e=JSON.parse(JSON.stringify(t));if(c){if(c.translatedTexts){var o,r;let i=c.translatedTexts.find(e=>e.entityType===n.TranslatableEntityType.DemoTitle&&e.demoId===t.id),a=c.translatedTexts.find(e=>e.entityType===n.TranslatableEntityType.DemoMetaDesc&&e.demoId===t.id);e.title=null!=(o=null==i?void 0:i.text)?o:"",e.metadesc=null!=(r=null==a?void 0:a.text)?r:""}e.steps=e.steps.map(e=>{var t,o,r,i;let a=null==(t=c.translatedMedia)?void 0:t.find(t=>t.stepId===e.id&&t.mediaType===n.MediaType.Audio);if(e.chapter){let t=null==(o=c.translatedTexts)?void 0:o.filter(t=>{var o,r;return t.chapterId===(null==(o=e.chapter)?void 0:o.id)||(null==(r=e.chapter)?void 0:r.buttons.find(e=>e.id===t.buttonId))}),a=t.find(e=>e.entityType===n.TranslatableEntityType.ChapterHeading),s=t.find(e=>e.entityType===n.TranslatableEntityType.ChapterDesc),l=t.filter(e=>e.entityType===n.TranslatableEntityType.ChapterButton);e.chapter={...e.chapter,heading:null!=(r=null==a?void 0:a.text)?r:null,description:null!=(i=null==s?void 0:s.text)?i:null,buttons:e.chapter.buttons.map(e=>{var t;let o=l.find(t=>t.buttonId===e.id);return{...e,content:null!=(t=null==o?void 0:o.text)?t:null}})}}let s=c.translatedTexts.filter(e=>e.entityType===n.TranslatableEntityType.HotspotText||e.entityType===n.TranslatableEntityType.HotspotAiText);return e.hotspots&&(e.hotspots=e.hotspots.map(e=>{var t,o;let r=e.aiTextVisible&&e.aiText,i=r?n.TranslatableEntityType.HotspotAiText:n.TranslatableEntityType.HotspotText,a=s.find(t=>t.entityType===i&&t.hotspotId===e.id);return{...e,...r&&{aiText:null!=(t=null==a?void 0:a.text)?t:null},...!r&&{text:null!=(o=null==a?void 0:a.text)?o:null}}})),a&&c.voiceoverEnabled?(e.audio=a.url,e.audioDuration=a.duration,e.audioText=a.transcription,e.captionsUrl=a.captionsUrl,e.voice=a.voice):(e.audio=null,e.audioDuration=null,e.audioText=null,e.captionsUrl=null,e.voice=null),e})}return e},[t,c]),isLoading:m,isError:p,setLanguage:(0,i.useCallback)(e=>{let t=new URLSearchParams(window.location.search);e?t.set("lang",e):t.delete("lang"),s.push("?".concat(t.toString()))},[s]),selectedLanguageCode:l&&l===(null==c?void 0:c.targetLanguage)?l:o}}({demo:T,defaultLanguage:er.code,isTranslated:K}),eu=e3(e=>e.resetVideos),[ec,em]=(0,i.useState)(!1),[ep,eh]=(0,i.useState)(!1),[eg,ex]=(0,i.useState)(!1),{setShowHelpBubble:ef}=(0,e2.A)(),ev=e=>{ex(e)},{slideIndex:eb,setSlideIndex:ew,muteState:ey,muteAudio:eE,unmuteAudio:eM}=(0,p.$)({demo:ei,initialDemo:T,onSlideChange:e=>{tY(e)},onStepComplete:e=>{var t,o;e===ei.steps.length-1&&((null==(t=ei.steps[e])?void 0:t.audio)||(null==(o=ei.steps[e])?void 0:o.video))&&(null==B||B())}}),eC=eb||0,[ez,eA]=(0,i.useState)(eC),eF=(0,e1.U)("sm"),eP=(0,e1.U)("md"),eL=(0,e1.U)("2xl"),eR=(0,e1.U)("landscape"),eB=ei.steps,[eD,eV]=(0,d.e)(null),[eH,eO]=(0,i.useState)(!1),e_=e=>{let t=new URL(window.location.href);t.searchParams.set("step",(e+1).toString()),window.history.replaceState(null,"",t.toString()),ew(e),null==R||R(e)},[eU,eW]=(0,i.useState)(!1),[eY,eX]=(0,i.useState)(!1),[eG,e$]=(0,i.useState)([]),{fullScreenEnabled:eZ}=F({type:I}),[e5,e4]=(0,i.useState)(!1),te="hard-mute"===ey||"soft-mute"===ey,tt=e=>{e?eE():eM()},{assetManager:to}=(0,eI.Y)({demo:ei,slide:eC,preloadCount:3}),tr=!!(null==(t=eB[eC])?void 0:t.backdrop)&&(null==(o=eB[eC])?void 0:o.backdrop)!==n.Backdrop.None&&!(null==(c=eB[eC])?void 0:c.chapter),[tn,ti]=(0,i.useState)(!1),ta=(0,i.useRef)(null),ts=(0,i.useRef)({}),tl=e=>(ts.current[e]||(ts.current[e]=(0,i.createRef)()),ts.current[e]),[tc,tm]=(0,eJ.A)(),tp=(0,i.useMemo)(()=>eB.some(e=>e.hotspots.length>0),[eB,eC]),th=(0,i.useMemo)(()=>(0,tf.I)(ei),[ei]),tj=(0,i.useRef)(null),tS=(0,i.useRef)(null),tN=(0,i.useRef)(null),tE=(0,eQ.E)(I,{demoCanvasRef:tj,demo:ei,currentStepIndex:eC,hasAnyGuidedHotspots:tp});(0,i.useEffect)(()=>{null==G||G(tE)},[tE,G]);let tM=(0,eK.A)(tj),{emailGatedStep:tC,hasCompletedGatedStep:tT}=(0,eN.WG)(eB),tI=tC&&!(e5&&tT)&&!(null==(m=tC.chapter)?void 0:m.skip)||!1;(0,i.useEffect)(()=>{0===eC&&te&&(eO(!0),setTimeout(()=>{eO(!1)},1500))},[eC,te]),(0,i.useEffect)(()=>{D&&ev(!0)},[D]),(0,i.useEffect)(()=>{e4(!0),window.parent&&window.parent.postMessage&&setTimeout(()=>{window.parent.postMessage({source:"Supademo",type:"Supademo:load"},"*")},100)},[]),(0,i.useEffect)(()=>{ef(!1)},[ef]),(0,e0.A)((null==(x=ei.workspace)?void 0:x.integrations)||[]),(0,i.useEffect)(()=>{(I===z.Ty.Showcase||I===z.Ty.ShowcaseEmbed)&&ew(0)},[T,I]);let{sendStepViewData:tz,sendStepEntityClick:tF,uniqueViewerId:tP}=td({demo:ei,variables:q,isInViewport:tM,steps:eB,slide:eC,sendViewNotification:J}),tL=e=>{var t,o,r,i,a,s,l;if(null==(t=eB[eC])||!t.chapter||(null==(r=eB[eC])||null==(o=r.chapter)?void 0:o.type)===n.ChapterType.Link||(null==(a=eB[eC])||null==(i=a.chapter)?void 0:i.type)===n.ChapterType.Embed||(null==(l=eB[eC])||null==(s=l.chapter)?void 0:s.type)===n.ChapterType.Email||0!==eC)if("ArrowRight"===e.code)try{ev(!0),tX()}catch(e){throw Error(e)}else"ArrowLeft"===e.code&&(ev(!0),tG(e))};(0,i.useEffect)(()=>{null!==L&&L!==eC&&e_(L)},[L]),(0,u.ML)("keydown",tL);let{hasZoomed:tR,zoomScale:tB,resetZoom:tD,hasZoomBox:tV,hasZoomTransformation:tH,toggleZoom:tO}=tu({imageContainerRef:ta,mediaSize:tE.mediaSize,currentStep:eB[eC]||null}),t_=tV(),tU=t_||tR;(0,i.useEffect)(()=>{var e,t,o;if(null==(e=eB[eC])?void 0:e.chapter)if(0!==eC&&eC!==eB.length-1){let e=eB.slice(eC),t=(0,e6.h$)(e);t&&eV(t)}else eV(null);else eV(null==(o=eB[eC])?void 0:o.hotspots[0]);(null==(t=eB[eC])?void 0:t.hotspots.length)>1?e$(eB[eC].hotspots.slice(1)):e$([])},[eC,eB,tE.mediaSize.width,tE.mediaSize.height,eF,tB]);let tW=()=>{eW(!1),eV(null),e_(0),eY&&eX(!1)},tY=e=>{var t,o;let{emailGatedStep:r,hasCompletedGatedStep:i}=(0,eN.WG)(ei.steps);if(!(r&&!(null==(t=r.chapter)?void 0:t.skip)&&!i&&eC+1>eB.findIndex(e=>e.id===r.id))||(null==(o=ei.workspace)?void 0:o.plan)===n.Plan.Free){if(e>=eB.length-1){let{loop:e,workspace:t}=ei;e||eW(!0),(null==t?void 0:t.plan)===n.Plan.Free&&eX(!0)}e_(e)}},tX=(0,i.useCallback)(function(){var e,t,o,r,i,a,s;let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,d=arguments.length>1?arguments[1]:void 0,u=arguments.length>2?arguments[2]:void 0;if(d&&u&&tF({entityId:d,stepId:eB[eC].id,entityType:u}),(null==(e=eB[eC])?void 0:e.chapter)&&(null==(o=eB[eC])||null==(t=o.chapter)?void 0:t.type)===n.ChapterType.Password&&l!==M.mE)return;let c=eC,m=eB.findIndex(e=>e.id===l),{emailGatedStep:p,hasCompletedGatedStep:h}=(0,eN.WG)(ei.steps);if(!(p&&!(null==(r=p.chapter)?void 0:r.skip)&&!h&&eC+1>eB.findIndex(e=>e.id===p.id))||(null==(i=ei.workspace)?void 0:i.plan)===n.Plan.Free){if(m>-1)c=m;else if(c>=eB.length-1){let{loop:e,workspace:t}=ei;e||eW(!0),(null==t?void 0:t.plan)===n.Plan.Free&&eX(!0)}else c+=1;(0===eC||(null==(a=eB[0])?void 0:a.id)===l)&&tz(null==(s=eB[0])?void 0:s.id),e_(c)}},[eC,eB,ei,tz,tF]);function tG(e,t,o,r){var n,i;if(e.stopPropagation(),ev(!0),(eC-1==0||(null==(n=eB[0])?void 0:n.id)===t)&&tz(null==(i=eB[0])?void 0:i.id),o&&r&&tF({entityId:o,stepId:eB[eC].id,entityType:r}),eC===eB.length-1&&(eW(!1),eY&&eX(!1)),null!==t){let e=eB.findIndex(e=>e.id===t);if(e>-1)return void e_(e);e_(Math.max(eC-1,0))}else e_(Math.max(eC-1,0))}(0,i.useEffect)(()=>{e9.Z({category:"DemoView",data:{demoId:ei.id,slideIndex:eC,stepsLength:eB.length}}),console.info("This interactive demo is powered by Supademo - visit https://supademo.com for more info!")},[]),(0,i.useEffect)(()=>{var e,t;let o=eC===eB.length-1,r=0===eC,n=ez===eB.length-1&&eC<ez;!o||(null==(e=eB[eC])?void 0:e.audio)||(null==(t=eB[eC])?void 0:t.video)?(r||n)&&eg&&em(!0):(eh(!0),null==B||B()),eA(eC)},[eC,eB]);let t$=(0,i.useCallback)(e=>{e.stopPropagation(),ev(!0),eu();let t=0;tR&&(t=700,tD());let o=setTimeout(()=>{e_(0),eX(!1),eW(!1)},t);return()=>clearTimeout(o)},[eB]),tZ=()=>{var e,t;let o=(null==(e=ei.workspace)?void 0:e.subDomain)&&ei.workspace.customDomainEnabled,r="".concat(o?"https://".concat(null==(t=ei.workspace)?void 0:t.subDomain):e7.VY,"/demo/").concat(ei.id);(0,en.g)({url:r})},tq=(0,i.useMemo)(()=>!!tp&&!!ei.mobileHotspotView||(!th||!!tp)&&(!tp&&!th||ei.mobileHotspotView),[ei,eC]);(0,s.vC)("esc",()=>{window.parent&&window.parent.postMessage&&window.parent.postMessage({source:"Supademo",type:"Supademo:close"},"*")}),(0,s.vC)("M",()=>{tt(!te)}),(0,s.vC)("mod+c",()=>{tm(window.location.href,"")});let tJ=(0,i.useMemo)(()=>{var e;return!(null==(e=eB[eC])?void 0:e.chapter)&&eB.length<=25},[eB[eC]]),tQ=!!eP&&Q&&!!ei.fullWidth,tK=eB[eC];return tK?(0,r.jsxs)("div",{id:"demo-canvas",onClick:()=>ev(!0),className:(0,h.x)("flex flex-col items-center relative max-h-full max-w-full box-border","oversized-cursor",ee,eZ&&tE.shouldRenderInMobileMode?"flex-col":"",I===z.Ty.ShowcaseEmbed?"rounded-lg":"justify-center",I===z.Ty.ShowcaseEmbed&&tE.shouldShowBackground?"justify-center":""),style:{opacity:+!!tE.isReady,background:tE.shouldShowBackground?"".concat((null==(f=ei.background)?void 0:f.value)||"transparent"," center / cover no-repeat"):"transparent",padding:"".concat(tE.innerSpace.y,"px ").concat(tE.innerSpace.x,"px"),height:tQ||I!==z.Ty.Demo?"100%":tE.isReady?"".concat(tE.frameSize.height+tE.controlsHeight+2*tE.innerSpace.y,"px"):"".concat(tE.firstStepOrgHeight-tE.controlsHeight+2*tE.innerSpace.y,"px"),maxHeight:tQ?"100%":I===z.Ty.Demo?eR&&a.Fr?"95svh":eL?"80svh":"89svh":"100%"},ref:tj,children:[eo.length>0&&(0,r.jsx)(ej.A,{customFonts:eo}),!tE.isReady&&(0,r.jsx)("div",{className:"flex justify-center absolute inset-0 items-center",children:(0,r.jsx)(l.A,{color:"#4F46E5",width:150})}),ea&&(0,r.jsx)("div",{className:"flex justify-center absolute inset-0 items-center z-50",children:(0,r.jsx)(tv.A,{size:"large",className:"text-gray-300"})}),(0,r.jsx)("div",{ref:tS,"data-name":"demo-frame-holder",className:"relative",style:{width:tE.frameSize.width,height:tE.frameSize.height+tE.controlsHeight},children:(0,r.jsxs)("div",{id:"demo-frame",style:{opacity:+!!tE.isReady,width:tE.frameSize.width,height:tE.frameSize.height},className:(0,h.x)("relative flex flex-col",I===z.Ty.ShowcaseEmbed&&!eF||tQ?"":"rounded-md","1"===tE.embedVersion&&I===z.Ty.ShowcaseEmbed?"":"overflow-hidden",I!==z.Ty.ShowcaseEmbed&&I!==z.Ty.DemoEmbed?"shadow-xl":"",ei.border&&tE.shouldShowBackground?"ring-1 ring-white/60 box-content":"",!ei.border||tE.shouldShowBackground||tQ?"":"ring-1 ring-gray-200 box-content rounded-md"),children:[tE.shouldShowFrame&&!a.Fr?(0,r.jsx)(et,{demo:ei,restartDemo:t$,replayVisible:eU,isIOS:a.un,darkMode:ei.darkmode,audioEnabled:A,setReplayVisible:eW,handleOpenLink:tZ,type:I,showOpenLink:P,handleNext:tX,handleBack:tG,isAllowedToEdit:W,previewMode:X,hasUserInteracted:eg,detectedLanguage:er,selectedLanguageCode:ed,onLanguageChange:el,showMuteTooltip:eH,setShowMuteTooltip:eO,isTranslated:K}):(0,r.jsx)(Y,{type:I,demo:ei,steps:eB,slide:eC,showOpenLink:P,handleOpenLink:tZ,restartDemo:t$,dr:tE,audioEnabled:A,hasUserInteracted:eg,isFullWidthHTMLDemo:tQ,detectedLanguage:er,selectedLanguageCode:ed,onLanguageChange:el,showMuteTooltip:eH,setShowMuteTooltip:eO,isTranslated:K}),(0,r.jsxs)("div",{ref:tN,className:(0,h.x)("flex flex-col items-center justify-center relative overflow-hidden transition-[filter] duration-200",tE.hasSmallerMedia?"bg-gray-100/40":"bg-gray-100",(I===z.Ty.Showcase||I===z.Ty.ShowcaseEmbed)&&$?"filter blur-sm brightness-75":""),style:{width:tE.mediaHolderSize.width,height:tE.mediaHolderSize.height},children:[eY&&(0,r.jsx)(E,{resetDemo:tW,workspace:ei.workspace}),ei.progressbar&&!tE.shouldRenderInMobileMode&&!(null==(v=eB[eC])?void 0:v.chapter)&&(0,r.jsx)(ek,{steps:eB,slide:eC,demo:ei,setSlide:e_,emailGatedStep:tC,progressBlocked:tI,imageContainerRef:null,sendStepViewData:tz}),(null==(b=eB[eC])?void 0:b.video)&&!ei.progressbar?(0,r.jsx)(tx,{steps:eB,slideIndex:eC}):null,(null==(y=ei.workspace)?void 0:y.madein)&&(0,r.jsx)(es,{isMobileView:tE.shouldRenderInMobileMode,demo:ei,shouldAnimate:tJ}),(0,r.jsx)(g,{src:(null==(k=eB[eC])?void 0:k.audio)||null,slide:eC,captionsUrl:null==(j=eB[eC])?void 0:j.captionsUrl,demoOrientation:tE.demoOrientation,showCCButton:ei.showCCButton||!1}),(0,r.jsx)(Z,{slide:eC,isMobileView:tE.shouldRenderInMobileMode,isAutoplayEnabled:ei.autoplay||!1,wrapperClass:(0,h.x)("absolute z-10",tE.shouldRenderInMobileMode?"right-2":"right-3","vertical"===tE.demoOrientation||!eF&&tE.shouldShowFrame||!tE.shouldShowFrame||a.Fr?"top-12":"top-3")}),(0,r.jsx)("div",{className:(0,h.x)("overflow-hidden box-content",tE.hasSmallerMedia?"rounded-md":"",tE.hasSmallerMedia&&ei.border?"border":""),style:{width:tE.mediaSize.width,height:tE.mediaSize.height},children:(0,r.jsxs)("div",{style:{...!(null==(S=eB[eC])?void 0:S.chapter)&&{willChange:"transform",transform:"translateZ(0) scale(1)",transformOrigin:"0 0"},...tU&&{transitionProperty:"transform",transitionTimingFunction:"ease-in-out",transitionDuration:"0.7s",cursor:t_&&tH()?"zoom-out":t_?"zoom-in":"default"},width:tE.mediaSize.width,height:tE.mediaSize.height},ref:ta,onClick:tO,children:[Q?(0,r.jsxs)("div",{"data-test-id":"html-step",style:{width:"".concat(tE.mediaSize.width,"px"),height:"".concat(tE.mediaSize.height,"px")},className:(0,h.x)("flex items-center justify-center","absolute z-20 bg-white"),children:[(0,r.jsx)("div",{style:{opacity:eB[eC].htmlCaptureId||eB[eC].chapter?1:0,filter:eB[eC].chapter?"blur(".concat(eB[eC].chapter.blurIntensity,"px)"):""},children:(0,r.jsx)("div",{children:(0,r.jsx)(eT,{demo:ei,slide:eb,width:tE.mediaSize.width,height:tE.mediaSize.height,useDynamicVariables:!0,htmlEdits:ei.htmlEdits,setShouldHighlightHotspots:ti,assetManager:to,handleNext:tX})})}),(0,r.jsx)(tA,{slide:eC,demo:ei,handleNext:tX,resetDemo:tW,uniqueViewerId:tP,demoViewType:I,dr:tE,isAllowedToEdit:W,previewMode:X,mute:te,ctaSupademo:eY,demoCanvasRef:tj,demoMediaHolderRef:tN,sendStepEntityClick:tF,assetManager:to,getVideoPlayerRef:tl})]}):(0,r.jsx)(tA,{demo:ei,slide:eC,mute:te,dr:tE,ctaSupademo:eY,handleNext:tX,resetDemo:tW,uniqueViewerId:tP,demoViewType:I,isAllowedToEdit:W,previewMode:X,demoCanvasRef:tj,demoMediaHolderRef:tN,sendStepEntityClick:tF,getVideoPlayerRef:tl}),tr?(0,r.jsx)(eS.A,{className:"pointer-events-none z-40",backdrop:eB[eC].backdrop||null}):null,eD&&!eY&&(0,r.jsxs)("div",{className:"pointer-events-none relative",style:{width:tE.mediaSize.width,height:tE.mediaSize.height},children:[(0,r.jsx)("div",{className:"absolute inset-0",children:(0,r.jsx)(eq,{className:(0,h.x)($?"filter blur-sm brightness-75 pointer-events-none transition-[filter] !duration-200 !delay-0":""),hotspot:eD,width:tE.mediaSize.width,height:tE.mediaSize.height,slide:eC,steps:eB,portalTargetRef:tE.shouldShowBackground||tE.shouldRenderInMobileMode?tj:tS,handleNext:tX,handleBack:tG,nextEnabled:null===eD.nextButton?ei.nextButton||!1:eD.nextButton,showSteps:ei.showSteps||!1,restartDemo:t$,demo:ei,zoomScale:tB,isMobileView:(a.Fr||!eF)&&!0===ei.mobileHotspotView,setHasUserInteracted:ev,isAllowedToEdit:W,previewMode:X,shouldHighlightHotspots:tn})}),!eY&&eG.length>0?eG.map(e=>(0,r.jsx)("div",{className:"absolute inset-0",children:(0,r.jsx)(eq,{className:(0,h.x)($?"filter blur-sm brightness-75 pointer-events-none transition-[filter] !duration-200 !delay-0":""),hotspot:e,width:tE.mediaSize.width,height:tE.mediaSize.height,slide:eC,steps:eB,portalTargetRef:tE.shouldShowBackground||tE.shouldRenderInMobileMode?tj:tS,handleNext:tX,handleBack:tG,nextEnabled:null===e.nextButton?ei.nextButton||!1:e.nextButton,showSteps:ei.showSteps||!1,restartDemo:t$,demo:ei,zoomScale:tB,isMobileView:a.Fr||!eF,setHasUserInteracted:ev,isAllowedToEdit:W,previewMode:X,shouldHighlightHotspots:tn},e.id)},e.id)):null]})]})})]}),(a.Fr||!eF)&&tq&&ei.workspace&&(null==(N=ei.steps[eC])?void 0:N.hotspots)&&(0,r.jsx)(tg,{className:(0,h.x)("absolute left-0 right-0 z-10",I===z.Ty.ShowcaseEmbed&&"1"===tE.embedVersion?"top-full":"bottom-0"),hotspots:null==(C=eB[eC])?void 0:C.hotspots,slide:eC,restartDemo:t$,steps:eB,handleBack:tG,handleKeyDown:tL,workspace:ei.workspace,demo:ei,width:tE.frameSize.width,fullScreenEnabled:eZ,isAllowedToEdit:W,previewMode:X}),null==U?void 0:U(tE),ei.backgroundMusicUrl&&(0,r.jsx)(w,{demoId:ei.id,url:ei.backgroundMusicUrl,volume:(0,e8.IL)({volume:ei.backgroundMusicVolume,hasAudio:(0,e8.HQ)({currentStep:tK,videoPlayerRef:tl(eC)})}),mute:te,currentStep:tK,hasUserInteracted:eg,setHasUserInteracted:ev,shouldRestartBackgroundMusic:ec,setShouldRestartBackgroundMusic:em,shouldStopBackgroundMusic:ep,setShouldStopBackgroundMusic:eh,unmuteAudio:eM})]})}),null==O?void 0:O(tE)]}):(console.error("Empty step detected in DemoView",{steps:eB}),null)}},31333:(e,t,o)=>{o.d(t,{A:()=>i});var r=o(37526),n=o(25356);let i=e=>{(0,r.useEffect)(()=>{if(!e||!e.length)return;let t=e[0].platformConfig;(null==t?void 0:t.trackingId)&&((0,n.h1)(t.trackingId),(0,n.HK)("".concat(window.location)))},[])}},74454:(e,t,o)=>{o.d(t,{W:()=>a,m:()=>i});var r=o(62448),n=o(38233);function i(e){return!!e&&(e.steps.some(e=>e.audio||e.video&&!(0,r.y1)(e.video))||null!==e.backgroundMusicUrl)}let a=e=>{if(e){if(n.un){let t=e.split("/"),o=t.pop();return[...t,"ios",o].join("/")}return e}}},80133:(e,t,o)=>{o.d(t,{A:()=>r});let r=(0,o(73480).vt)(e=>({showHelpBubble:!0,setShowHelpBubble:t=>e({showHelpBubble:t}),shouldPushUp:!1,setShouldPushUp:t=>e({shouldPushUp:t})}))},80908:(e,t,o)=>{o.d(t,{A:()=>r});let r=(0,o(73480).vt)(e=>({isProgressBarVisible:!1,setProgressBarVisibility:t=>e({isProgressBarVisible:t})}))},97172:(e,t,o)=>{o.d(t,{A:()=>n});var r=o(37526);let n=(e,t)=>{let[o,n]=(0,r.useState)(!1),[i,a]=(0,r.useState)(null);return(0,r.useEffect)(()=>{if(!e.current)return;let o=new IntersectionObserver(e=>{let[t]=e;t.isIntersecting?i||a(setTimeout(()=>{n(!0)},3e3)):(i&&(clearTimeout(i),a(null)),n(!1))},{root:null,rootMargin:"0px",threshold:.1,...t}),r=e.current;return r&&o.observe(r),()=>{r&&o.unobserve(r),i&&clearTimeout(i)}},[e,t,i]),o}}}]);