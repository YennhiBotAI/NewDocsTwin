try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="bc174c79-4117-4cb4-9bdd-8cb753549ea7",e._sentryDebugIdIdentifier="sentry-dbid-bc174c79-4117-4cb4-9bdd-8cb753549ea7")}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2834],{871:(e,t,n)=>{n.d(t,{A:()=>a});var l,r=n(55729);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)({}).hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e}).apply(null,arguments)}let a=function(e){return r.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),l||(l=r.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m18 15-6-6-6 6",vectorEffect:"non-scaling-stroke"})))}},6994:(e,t,n)=>{n.d(t,{I:()=>G});var l=n(6029),r=n(8467),o=n(80411),a=n(86747),i=n(9482),s=n(67549),u=n(71024),d=n.n(u),c=n(55729),p=n(25580),m=n(10471),f=n(6625),h=n(15631),v=n(3043),g=n(82092),b=n(96233),y=n(12271),w=n(77191),x=n(97281),k=n(42063),C=n(50733),E=n(80182);function j(e){let{navPrev:t,wrapperType:n}=e,r=(0,m.qM)(),i=(0,C.o)(),s=(0,k._8)(),u=(0,c.useMemo)(()=>r.steps.filter(o.isNonEmptyStep),[r.steps]).findIndex(e=>e.id===(null==s?void 0:s.id)),d=(0,c.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),t("Top Nav Button Clicked")},[t]);return(0,l.jsx)(w.A,{...(0,E.j6)("Back",d),placement:"left",offset:[-1,12],disabled:i||0===u,className:(0,o.cn)({"!bg-white !text-gray-900 dark":n===a.FlowWrapper.browserDark}),children:(0,l.jsx)("div",{className:(0,o.cn)("",(0,E.pn)(n,"p-0 w-[26px] h-[26px] items-center justify-center"),{"opacity-50 cursor-default pointer-events-none":0===u}),onClick:d,"aria-label":"Back",role:"button",children:(0,l.jsx)(x.A,{"aria-hidden":!0,className:(0,E.kf)(n,"w-5 h-5")})})})}var S=n(61364),N=n(21736),O=n(82834);function M(e){let{isCaptionOn:t,toggleCaptions:n,wrapperType:r}=e,i=(0,m.qM)(),s=(0,C.o)(),u=(0,c.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),n()},[n]);return((0,O.NG)(i)||(0,O.NS)(i))&&i.showCaptions?(0,l.jsx)(w.A,{...(0,E.j6)(t?"Turn off closed captions":"Turn on closed captions",u),disabled:s,offset:[-1,12],className:(0,o.cn)({"!bg-white !text-gray-900 dark":r===a.FlowWrapper.browserDark}),children:(0,l.jsx)("div",{className:(0,E.pn)(r),onClick:u,"aria-label":t?"Turn off closed captions":"Turn on closed captions",role:"switch","aria-checked":t,children:t?(0,l.jsx)(N.A,{"aria-hidden":!0,className:(0,E.kf)(r)}):(0,l.jsx)(S.A,{"aria-hidden":!0,className:(0,E.kf)(r)})})}):null}var A=n(93030);function _(e){let{copyLink:t,wrapperType:n}=e,r=(0,C.o)(),i=(0,c.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),t()},[t]);return(0,l.jsx)(w.A,{...(0,E.j6)("Copy link",i),disabled:r,className:(0,o.cn)({"!bg-white !text-gray-900 dark":n===a.FlowWrapper.browserDark}),children:(0,l.jsx)("div",{className:(0,o.cn)("transition-opacity duration-300 flex cursor-pointer",(0,E.pn)(n,n!==a.FlowWrapper.none?"absolute left-[3px] hover:bg-white hover:shadow-menu shadow-none w-[22px] h-[22px] items-center justify-center p-0 rounded-md":"")),onClick:i,"aria-label":"Copy link",role:"button",children:(0,l.jsx)(A.A,{"aria-hidden":!0,className:(0,E.kf)(n,n!==a.FlowWrapper.none?"group-hover:text-gray-900":"")})})})}var T=n(13740);function F(e){let{toggleFullscreen:t,isFullscreen:n,wrapperType:r,disableFullscreen:i}=e,u=(0,C.j)(),d=(0,C.o)(),p=(0,s.md)(b.F.viewerDemoMode),m=(0,c.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),t()},[t]);return u||i?null:(0,l.jsx)(w.A,{disabled:d,...(0,E.j6)("Fullscreen",m),offset:[-1,12],className:(0,o.cn)({"!bg-white !text-gray-900 dark":r===a.FlowWrapper.browserDark}),children:(0,l.jsx)("div",{className:(0,o.cn)((0,E.pn)(r),{"opacity-0 hover:opacity-100":p&&n}),onClick:m,"aria-label":"Open in fullscreen mode",role:"switch","aria-checked":"false",children:(0,l.jsx)(T.A,{"aria-hidden":!0,className:(0,E.kf)(r)})})})}var L=n(87750);function P(e){let{navNext:t,wrapperType:n}=e,r=(0,m.qM)(),i=(0,C.o)(),s=(0,k._8)(),u=(0,c.useMemo)(()=>r.steps.filter(o.isNonEmptyStep),[r.steps]),d=u.findIndex(e=>e.id===(null==s?void 0:s.id)),p=(0,c.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),t("Top Nav Button Clicked")},[t]);return(0,l.jsx)(w.A,{...(0,E.j6)("Next",p),placement:"right",offset:[-1,12],disabled:i||d+1===u.length,className:(0,o.cn)({"!bg-white !text-gray-900 dark":n===a.FlowWrapper.browserDark}),children:(0,l.jsx)("div",{className:(0,o.cn)("",(0,E.pn)(n,"p-0 w-[26px] h-[26px] items-center justify-center"),{"opacity-50 cursor-default pointer-events-none":d+1===u.length}),onClick:p,"aria-label":"Next",role:"button",children:(0,l.jsx)(L.A,{"aria-hidden":!0,className:(0,E.kf)(n,"w-5 h-5")})})})}var R=n(48657);function I(e){let{forceReplayTooltip:t,replay:n,wrapperType:r}=e,i=(0,C.o)(),s=(0,c.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),n()},[n]);return(0,c.createElement)(w.A,{...(0,E.j6)("Replay",s),key:"".concat(t),disabled:!t&&i,visible:t||void 0,placement:"right",interactive:!0,className:(0,o.cn)({"!bg-white !text-gray-900 dark":r===a.FlowWrapper.browserDark})},(0,l.jsx)("div",{className:(0,E.pn)(r,r!==a.FlowWrapper.none?"absolute right-[3px] hover:bg-white hover:shadow-menu shadow-none w-[22px] h-[22px] items-center justify-center p-0 rounded-md":""),onClick:s,"aria-label":"Replay",role:"button",children:(0,l.jsx)(R.A,{"aria-hidden":!0,className:(0,E.kf)(r,r!==a.FlowWrapper.none?"group-hover:text-gray-900":"")})}))}var B=n(18015),D=n(83629),V=n(36424),W=n(70370);function U(e){var t,n;let{soundSetting:r,updateSound:i,wrapperType:s,autoplayStatus:u,navigationElementWithSound:d}=e,p=(0,m.qM)(),f=(0,C.o)(),h=(0,c.useRef)(null),v=r===W.C.On||r===W.C.Unset&&u===V.mJ.On,g=!!d&&!f&&r===W.C.Unset,b=(0,c.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),i(v?W.C.Off:W.C.On,!0)},[i,v]);if(!(0,O.$S)(p))return null;let y=v?"Turn off sound":"Turn on sound";return(0,l.jsx)(w.A,{...(0,E.j6)(y,b),disabled:f,offset:[-1,12],className:(0,o.cn)({"!bg-white !text-gray-900 dark":s===a.FlowWrapper.browserDark}),children:(0,l.jsxs)("div",{className:(0,E.pn)(s,"overflow-hidden ease-jelly duration-300"),onClick:b,style:{width:g?(null==(t=h.current)?void 0:t.clientWidth)?"calc(".concat(null==(n=h.current)?void 0:n.clientWidth,"px + 2rem)"):"6rem":"1.625rem"},"aria-label":v?"Turn sound off":"Turn sound on",role:"switch","aria-checked":v,children:[v||g?(0,l.jsx)(D.A,{"aria-hidden":!0,className:(0,E.kf)(s)}):(0,l.jsx)(B.A,{"aria-hidden":!0,className:(0,E.kf)(s)}),(0,l.jsx)("span",{"aria-hidden":!0,ref:h,className:(0,o.cn)("text-xs font-sans leading-[14px] font-semibold whitespace-nowrap ml-1.5 transition-opacity ease-jelly duration-300",{"opacity-0":!g,"opacity-100":g}),children:"Sound ON"})]})})}let H=d()(()=>n.e(9810).then(n.bind(n,9810)),{loadableGenerated:{webpack:()=>[9810]}});function G(e){let{children:t,inEditMode:n,wrapperType:u,disableFullscreen:d,className:x,hasArcadeEnded:k,title:C,showCopyLink:E,backgroundShown:S,noRoundedCorners:N}=e,O=(0,s.md)(b.F.viewerDemoMode),A=(0,m.qM)(),T=(0,f.T)(),{customValues:L}=(0,c.useContext)(h.c),[R,B]=(0,s.fp)(b.F.previewLanguage),D=(0,s.md)(b.F.stageDimensions),{toggleFullscreen:V,isFullscreen:W}=function(e){let{tracker:t,inEditMode:n}=e,[l,r]=(0,s.fp)(b.F.isFullscreen),[o]=(0,s.fp)(b.F.stageDimensions),a="undefined"!=typeof document&&(!!document.documentElement.requestFullscreen||!!document.documentElement.webkitRequestFullscreen||!!document.documentElement.msRequestFullscreen),i=(0,c.useCallback)(()=>{let e=document.documentElement;a&&(l?(document.exitFullscreen&&document.fullscreenElement?document.exitFullscreen().then(()=>screen.orientation.unlock()).catch(()=>void 0):document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen(),r(!1)):(e.requestFullscreen?e.requestFullscreen().then(()=>{var e,t;o.width>o.height&&(0,g.YO)()&&(null==(e=(t=screen.orientation).lock)||e.call(t,"landscape"))}).catch(()=>void 0):e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen(),r(!0)))},[l,a,r,o.height,o.width]);return(0,c.useEffect)(()=>{let e=()=>{r(null!==document.fullscreenElement),null==t||t.report("Fullscreen Mode Toggled",{isOn:null!==document.fullscreenElement})};return document.addEventListener("fullscreenchange",e),()=>document.removeEventListener("fullscreenchange",e)},[r,t]),(0,v.fy)("f",{cmd:!0,shift:!0},()=>{null==t||t.report("Fullscreen Mode Toggled",{isOn:null!==document.fullscreenElement}),i()},void 0,n),{isFullscreen:l,toggleFullscreen:i}}({inEditMode:n}),[G,z]=(0,c.useState)(!1),q=(0,s.Xr)(b.F.noRoundedCorners);(0,c.useEffect)(()=>{q(null!=N&&N)},[N,q]),(0,c.useEffect)(()=>{if(k&&!O){let e=setTimeout(()=>z(!0),500);return()=>clearTimeout(e)}z(!1)},[k,O]);let{layout:Y,width:J,height:Z}=D,$=u===a.FlowWrapper.none||Y!==a.ViewerLayout.Default||T,X=!$&&u===a.FlowWrapper.browserDark,K=!W&&!S&&!n&&e.isShareLayout,Q=!N&&T&&"fit"===A.mobileLayout&&Y!==a.ViewerLayout.MobileInline;return(0,l.jsxs)("div",{className:(0,o.cn)("overflow-hidden relative shrink-0",{"shadow-arcade":S,"shadow-share":K&&Y!==a.ViewerLayout.MobileExpanded,"shadow-shareMobile":K&&Y===a.ViewerLayout.MobileExpanded,"opacity-0":!J,"opacity-100 transition-opacity transform-gpu duration-300":!!J,"rounded-lg":!N&&!Q},x),style:{width:J?"".concat(J,"px"):void 0,viewTransitionName:"flow-wrapper",paddingBottom:Y===a.ViewerLayout.MobileInline?r.BROWSER_BAR_OR_CAPTION_HEIGHT:void 0,...Q?{borderRadius:i.BORDER_RADIUS}:void 0},children:[$?null:(0,l.jsxs)("div",{className:(0,o.cn)("relative w-full flex overflow-hidden",{"bg-gray-100":!X,"bg-gray-800":X}),style:{height:r.BROWSER_BAR_OR_CAPTION_HEIGHT,...(0,y.O_)(y.Py.BrowserBar)},children:[(0,l.jsxs)("div",{className:"flex-[1_1_33%] h-full px-2 sm:px-3 flex items-center gap-3 relative",...(0,y.LR)(y.Py.BrowserWindow),children:[(0,l.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,l.jsx)("div",{className:(0,o.cn)("flex rounded-full h-2.5 w-2.5",{"bg-gray-900/[.32]":!X,"bg-white/[.32]":X})}),(0,l.jsx)("div",{className:(0,o.cn)("flex rounded-full h-2.5 w-2.5",{"bg-gray-900/[.24]":!X,"bg-white/[.24]":X})}),(0,l.jsx)("div",{className:(0,o.cn)("flex rounded-full h-2.5 w-2.5",{"bg-gray-900/[.16]":!X,"bg-white/[.16]":X})})]}),!n&&A.showBackNextButtons&&(0,l.jsxs)("div",{className:"flex relative gap-1",children:[(0,l.jsx)(j,{...e,wrapperType:u}),(0,l.jsx)(P,{...e,wrapperType:u})]})]}),(0,l.jsx)("div",{className:"flex-[1_1_33%] max-w-[40%] md:max-w-60 self-center flex items-center justify-center",children:(0,l.jsxs)("div",{className:(0,o.cn)("flex items-center w-full max-w-full justify-center relative h-7 rounded-lg py-1 px-10 -mt-px",{"bg-gray-900/[.05] text-gray-500":!X,"bg-white/[.10] text-gray-300":X}),children:[!n&&E&&(0,l.jsx)(_,{...e,wrapperType:u}),(0,l.jsx)("div",{className:"flex items-center w-full justify-center px-0",children:(0,l.jsx)("span",{className:(0,o.cn)("truncate relative focus:outline-none font-sans text-xs font-medium"),role:"heading","aria-level":1,"aria-label":n?C:(0,o.withCustomVariables)(C,A.customVariables,L),children:n?C:(0,o.withCustomVariables)(C,A.customVariables,L)})}),!n&&(0,l.jsx)(I,{...e,wrapperType:u,forceReplayTooltip:G})]})}),(0,l.jsx)("div",{className:"h-full flex-[1_1_33%] flex items-center justify-end px-2 gap-0.5",...(0,y.LR)(y.Py.BrowserWindow),children:n?(0,l.jsx)(w.A,{text:"Toggle light or dark mode",className:(0,o.cn)({"!bg-white !text-gray-900 dark":X}),placement:"left",theme:"arcade-tooltip-browser",arrow:!0,offset:[-.5,12],animation:"shift-away",children:(0,l.jsx)("div",{className:(0,o.cn)("rounded-lg flex w-6 h-6 items-center justify-center transition-colors group bg-transparent cursor-pointer",{"text-gray-400 hover:bg-gray-200":!X,"text-gray-400 hover:bg-gray-700":X}),onClick:()=>{var t;n&&(null==(t=e.onFlowEdit)||t.call(e,{flowWrapper:X?a.FlowWrapper.browserLight:a.FlowWrapper.browserDark}))},children:(0,l.jsx)(p.Zkx,{className:(0,o.cn)("w-3.5 h-3.5 transition-colors",{"group-hover:text-gray-600":!X,"group-hover:text-gray-300":X})})})}):O?(0,l.jsx)(F,{...e,isFullscreen:W,wrapperType:u,toggleFullscreen:V}):(0,l.jsxs)(l.Fragment,{children:[A.translations&&Object.keys(A.translations).length>0&&(0,l.jsx)(H,{...e,value:R,wrapperType:u,translatedLanguages:Object.keys(A.translations),onChange:B}),(0,l.jsx)(U,{...e,wrapperType:u}),(0,l.jsx)(M,{...e,wrapperType:u}),(0,l.jsx)(F,{...e,isFullscreen:W,wrapperType:u,toggleFullscreen:V})]})})]}),(0,l.jsxs)("div",{style:{width:J?"".concat(J,"px"):void 0,height:Z?"".concat(Z,"px"):void 0},className:(0,o.cn)("stage-container relative w-full group/stage",{"bg-gray-100 bg-opacity-30 backdrop-blur-sm":S}),children:[!n&&$&&![a.ViewerLayout.MobileExpanded,a.ViewerLayout.Overlay].includes(Y)&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:(0,o.cn)("absolute top-3 left-3 flex gap-1",{"top-6 left-6":T&&"fit"===A.mobileLayout}),...(0,y.LR)(y.Py.FullscreenButton),children:[A.showBackNextButtons&&Y===a.ViewerLayout.Default&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(j,{...e,wrapperType:a.FlowWrapper.none}),(0,l.jsx)(P,{...e,wrapperType:a.FlowWrapper.none})]}),!O&&(0,l.jsx)(I,{...e,forceReplayTooltip:G,wrapperType:a.FlowWrapper.none})]}),(0,l.jsxs)("div",{className:(0,o.cn)("absolute top-3 right-3 flex gap-1",{"top-6 right-6":T&&"fit"===A.mobileLayout}),...(0,y.LR)(y.Py.FullscreenButton),children:[!O&&(0,l.jsxs)(l.Fragment,{children:[E&&(0,l.jsx)(_,{...e,wrapperType:a.FlowWrapper.none}),A.translations&&Object.keys(A.translations).length>0&&(0,l.jsx)(H,{...e,value:R,wrapperType:a.FlowWrapper.none,translatedLanguages:Object.keys(A.translations),onChange:B}),(0,l.jsx)(U,{...e,wrapperType:a.FlowWrapper.none}),(0,l.jsx)(M,{...e,wrapperType:a.FlowWrapper.none})]}),(0,l.jsx)(F,{toggleFullscreen:V,isFullscreen:W,wrapperType:a.FlowWrapper.none,disableFullscreen:d})]})]}),t]}),S?null:(0,l.jsx)("div",{className:(0,o.cn)("absolute w-full h-full top-0 left-0 pointer-events-none",{"shadow-arcadeBorderWrapperDark":!$&&X,"shadow-arcadeBorderWrapperLight":!$&&!X,"shadow-arcadeBorderNoWrapperDark":$&&Y!==a.ViewerLayout.Default,"shadow-arcadeBorderNoWrapperLight":$&&Y===a.ViewerLayout.Default,"rounded-lg":!N&&!Q}),style:{...(0,y.O_)(y.Py.BrowserBar),borderRadius:Q?i.BORDER_RADIUS:void 0}})]})}G.displayName="FlowWrapper"},12453:(e,t,n)=>{n.d(t,{A:()=>s});var l,r,o,a=n(55729);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)({}).hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e}).apply(null,arguments)}let s=function(e){return a.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 26 26"},e),l||(l=a.createElement("g",{filter:"url(#cursor-mobile_svg__a)"},a.createElement("path",{fill:"url(#cursor-mobile_svg__b)",fillOpacity:.5,d:"M26 13c0 7.18-5.82 13-13 13S0 20.18 0 13 5.82 0 13 0s13 5.82 13 13"}),a.createElement("path",{stroke:"url(#cursor-mobile_svg__c)",strokeOpacity:.4,strokeWidth:1.5,d:"M25.25 13c0 6.765-5.485 12.25-12.25 12.25S.75 19.765.75 13 6.235.75 13 .75 25.25 6.235 25.25 13Z"}))),r||(r=a.createElement("path",{stroke:"url(#cursor-mobile_svg__d)",strokeOpacity:.5,strokeWidth:1.5,d:"M23.857 13c0 5.996-4.86 10.857-10.857 10.857S2.143 18.997 2.143 13 7.003 2.143 13 2.143 23.857 7.003 23.857 13Z"})),o||(o=a.createElement("defs",null,a.createElement("linearGradient",{id:"cursor-mobile_svg__b",x1:13,x2:13,y1:0,y2:26,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#0A0E16",stopOpacity:.8}),a.createElement("stop",{offset:1,stopColor:"#0A0E16"})),a.createElement("linearGradient",{id:"cursor-mobile_svg__c",x1:13,x2:13,y1:0,y2:26,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#0A0E16"}),a.createElement("stop",{offset:.497,stopColor:"#0A0E16",stopOpacity:0})),a.createElement("linearGradient",{id:"cursor-mobile_svg__d",x1:13,x2:13,y1:1.393,y2:24.607,gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#fff"}),a.createElement("stop",{offset:.798,stopColor:"#fff",stopOpacity:0})),a.createElement("filter",{id:"cursor-mobile_svg__a",width:38,height:38,x:-6,y:-6,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},a.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),a.createElement("feGaussianBlur",{in:"BackgroundImageFix",stdDeviation:3}),a.createElement("feComposite",{in2:"SourceAlpha",operator:"in",result:"effect1_backgroundBlur_3103_5"}),a.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_backgroundBlur_3103_5",result:"shape"})))))}},13740:(e,t,n)=>{n.d(t,{A:()=>a});var l,r=n(55729);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)({}).hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e}).apply(null,arguments)}let a=function(e){return r.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},e),l||(l=r.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.167 5.833 12.25 1.75m0 0h-3.5m3.5 0v3.5M5.833 8.167 1.75 12.25m0 0h3.5m-3.5 0v-3.5",vectorEffect:"non-scaling-stroke"})))}},18015:(e,t,n)=>{n.d(t,{A:()=>i});var l,r,o=n(55729);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)({}).hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e}).apply(null,arguments)}let i=function(e){return o.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),l||(l=o.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.748 5A11.95 11.95 0 0 1 22 12c0 1.332-.217 2.613-.617 3.81M15.745 8A6.97 6.97 0 0 1 17 12M6.731 7.269l-.262.262c-.173.173-.26.26-.36.322a1 1 0 0 1-.29.12C5.704 8 5.582 8 5.337 8H3.6c-.56 0-.84 0-1.054.109a1 1 0 0 0-.437.437C2 8.76 2 9.04 2 9.6v4.8c0 .56 0 .84.109 1.054a1 1 0 0 0 .437.437C2.76 16 3.04 16 3.6 16h1.737c.245 0 .367 0 .482.028a1 1 0 0 1 .29.12c.1.061.187.148.36.32l3.165 3.166c.429.429.643.643.827.657a.5.5 0 0 0 .42-.174c.119-.14.119-.443.119-1.048V11.5m0-5V4.931c0-.606 0-.908-.12-1.049a.5.5 0 0 0-.42-.173c-.183.014-.397.228-.826.657l-.342.342-.073.073",vectorEffect:"non-scaling-stroke"})),r||(r=o.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:2,d:"m2 2.5 18 18",vectorEffect:"non-scaling-stroke"})))}},21736:(e,t,n)=>{n.d(t,{A:()=>i});var l,r,o=n(55729);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)({}).hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e}).apply(null,arguments)}let i=function(e){return o.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),l||(l=o.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16.444 2H7.556A5.556 5.556 0 0 0 2 7.556v8.889A5.556 5.556 0 0 0 7.556 22h8.888A5.556 5.556 0 0 0 22 16.445v-8.89A5.556 5.556 0 0 0 16.444 2",vectorEffect:"non-scaling-stroke"})),r||(r=o.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M16.444 2H7.556A5.556 5.556 0 0 0 2 7.556v8.889A5.556 5.556 0 0 0 7.556 22h8.888A5.556 5.556 0 0 0 22 16.445v-8.89A5.556 5.556 0 0 0 16.444 2m-3.078 6.922a2.4 2.4 0 0 1 1.69-.7H17a1 1 0 1 1 0 2h-1.944a.39.39 0 0 0-.39.39v2.777a.39.39 0 0 0 .39.389H17a1 1 0 1 1 0 2h-1.944a2.39 2.39 0 0 1-2.39-2.39v-2.777c0-.633.252-1.241.7-1.69m-4.977-.7A2.39 2.39 0 0 0 6 10.612v2.777a2.39 2.39 0 0 0 2.389 2.389h1.944a1 1 0 1 0 0-2H8.39a.39.39 0 0 1-.389-.39v-2.777a.39.39 0 0 1 .389-.389h1.944a1 1 0 1 0 0-2z",clipRule:"evenodd",vectorEffect:"non-scaling-stroke"})))}},26420:(e,t,n)=>{n.d(t,{z:()=>h});var l=n(80411),r=n(55729),o=n(13448),a=n(74493),i=n(89951),s=n(70921),u=n(67549),d=n(10471);let c=(0,s.eU)(e=>e(d.mA).steps),p=(0,s.eU)(e=>{let t=e(c),n=e(i.dy);return(0,l.getFlowInferredDimensions)(t,n)});var m=n(82092),f=n(80293);function h(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,o.A)(),s=(0,a._Q)(),d=(0,i.vy)(),c=(0,u.md)(p),h=(0,r.useRef)(null);return(0,r.useEffect)(()=>{e&&m.Bd&&n.user.id&&!s&&t&&h.current!==e.id&&e.steps.length>0&&e.steps.some(e=>(0,l.isMediaStep)(e)&&(!e.size||e.size.width<=0))&&(h.current=e.id,(async()=>{let t={},r=e.steps.filter(l.isMediaStep).filter(e=>!e.size||e.size.width<=0);if(r.length>0){for(let e of r){let n=await (0,f.H9)(e);t[e.id]=n}let l=e.steps.map(e=>({...e,...e.id in t?{size:t[e.id]}:{}}));e.update({steps:l},n.user.id)}})())},[e,t,n.user.id,s]),{aspectRatio:d,dimensions:c}}},31937:(e,t,n)=>{n.d(t,{WY:()=>j,_s:()=>p,y:()=>m});var l=n(70921),r=n(67549),o=n(55729),a=n(64713),i=n(82092),s=n(8393);let u=4*s.bU,d=2*s.bU,c=s.bU;var p=function(e){return e[e.Paused=0]="Paused",e[e.Buffering=1]="Buffering",e[e.Playing=2]="Playing",e}({});function m(e){let{forceMuted:t=!1,allowSeekOutOfBounds:n=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},p=(0,o.useRef)(new Map([])),m=(0,o.useRef)(e),j=(0,o.useRef)(0),S=(0,o.useRef)(s.P3),N=(0,o.useRef)(t),O=(0,o.useRef)(0),M=(0,o.useMemo)(()=>(0,l.eU)(0),[]),A=(0,o.useMemo)(()=>(0,l.eU)(null),[]),_=(0,r.Xr)(M),T=(0,r.Xr)(A),[F,L]=(0,o.useState)(s.P3),[P,R]=(0,o.useState)(0),[I,B]=(0,o.useState)(0),[D,V]=(0,o.useState)(!1),[W,U]=(0,o.useState)(!1),H=(0,o.useCallback)(e=>{let t=h(p.current),n=!!t&&j.current>=t,l=!!t&&e>=t;n!==l&&U(l),j.current=e,_(e)},[_]),G=(0,o.useCallback)(e=>{for(let[,t]of(S.current=e,L(e),p.current))t.element.playbackRate=g(t)*e},[]),z=(0,o.useCallback)(()=>{let e=h(p.current),t=!!e&&j.current>=e;R(e),U(t),T(Date.now())},[T]);N.current=t,(0,o.useEffect)(()=>{for(let[,e]of p.current)e.element.muted=t||v(e)},[t]);let q=(0,o.useCallback)(e=>{if(O.current>=4)return!0;let t=E(e.element.buffered),n=e.element.currentTime,l=!1;for(let e=0;e<t.length;e++)t[e][0]<=n&&t[e][1]>=n&&(l=!0);return l},[]),Y=(0,o.useCallback)(async e=>{e.preplayPromise?await e.preplayPromise:(e.preplayPromise=Promise.resolve(e.element.play()).then(()=>{e.element.pause()}).catch(()=>{}),await e.preplayPromise,e.preplayPromise=null)},[]),J=(0,o.useCallback)(e=>{if(O.current>=4||O.current>0&&e.element.src.endsWith(".mp3"))return!0;let t=E(e.element.buffered);if(0===t.length&&e.element.readyState>=1&&(0,i.YO)()&&(0,i.nr)())return Y(e),!1;let n=e.element.currentTime,l=!1;for(let r=0;r<t.length;r++)if(t[r][0]<=n&&t[r][1]>=n){l=!0;let o=C(e.element.duration)*y(e)-s.uN-n,a=u*e.element.playbackRate,i=O.current?(a-d)/4*O.current:0;if(t[r][1]-n<Math.min(a-i,o))return!1}return l},[Y]),Z=(0,o.useCallback)(()=>Array.from(p.current.values()).every(q),[q]),$=(0,o.useCallback)(()=>Array.from(p.current.values()).every(J),[J]),X=(0,o.useCallback)(()=>{B(e=>0===e?e:2===e&&Z()||$()?2:1),T(Date.now())},[$,Z,T]),K=(0,o.useCallback)(()=>{B(e=>2===e&&Z()||$()?2:1)},[$,Z]),Q=(0,o.useCallback)(()=>{B(0)},[]),ee=(0,o.useCallback)(e=>{let t="source"in e?"string"==typeof e.source?[e.source]:e.source:[],l=t[0],r=h(p.current),o=Math.min(Math.max("to"in e?e.to:"by"in e?j.current+e.by:l&&p.current.has(l)?function(e,t){let n=C(e.element.duration),l=Math.min(Math.max(.001,n*t-n*b(e)),n);return w(e)+x(e)+l/g(e)}(p.current.get(l),e.frac):j.current,.001),r);for(let[l,r]of p.current)if("frac"in e&&n&&t.includes(l)){let t=isNaN(r.element.duration)?0:r.element.duration;r.element.currentTime=t*e.frac}else r.element.currentTime=k(o,r);H(o),T(Date.now())},[H,T,n]),et=(0,o.useCallback)(async e=>{e.preplayPromise&&await e.preplayPromise,e.playPromise?await e.playPromise:(e.playPromise=Promise.resolve(e.element.play()).catch(()=>{Q()}),await e.playPromise,e.playPromise=null)},[Q]);m.current=e;let en=(0,o.useCallback)(e=>{let t=p.current.get(e),n=m.current.get(e);if(!t||!n)return;t.config=n;let l=S.current*g(t),r=N.current||v(t);t.element.defaultMuted=r,t.element.muted=r,t.element.defaultPlaybackRate=l,t.element.playbackRate=l,z(),X()},[z,X]),el=(0,o.useCallback)((e,t)=>{if(p.current.has(e)&&(t&&console.error("Source key already registered.",e),!function(e){if(!p.current.has(e))return;let t=p.current.get(e);t.element.onplay=null,t.element.ondurationchange=null,t.element.onplaying=null,t.element.oncanplay=null,t.element.oncanplaythrough=null,t.element.onwaiting=null,t.element.onprogress=null,t.element.onsuspend=null,t.element.onstalled=null,t.element.pause(),p.current.delete(e);let n=h(p.current);j.current>n&&H(n),p.current.size||(O.current=0,Q()),z(),X()}(e)),!t)return;let n=m.current.get(e);if(!n)return void console.error("Source key config not provided",e);let l={element:t,config:n,playPromise:null,preplayPromise:null};l.element.onplay=()=>V(!0),l.element.ondurationchange=z,l.element.onplaying=X,l.element.oncanplay=X,l.element.oncanplaythrough=X,l.element.onwaiting=X,l.element.onprogress=X,l.element.onsuspend=X,l.element.onstalled=X,p.current.set(e,l),en(e),ee({to:0})},[H,z,X,Q,en,ee]);(0,o.useEffect)(()=>{for(let[t,n]of p.current){let l=e.get(t);l&&l!==n.config&&(en(t),isNaN(n.element.duration)||ee({source:t,frac:n.element.currentTime/n.element.duration}))}},[e,en,ee]),(0,a.A)(()=>{let e;if(2!==I){for(let[,e]of p.current)e.element.pause();return}let t=Date.now();return e=requestAnimationFrame(function n(){let l=Date.now(),r=(l-t)/1e3*S.current;t=l;let o=j.current+r,a=h(p.current);if(o>=a){Q(),H(a),z(),e=void 0;return}for(let[,e]of(H(o),p.current)){var i,u,d;let t=C(e.element.duration)*b(e),n=C(e.element.duration)*y(e)-s.uN,l=k(o,e);i=e.element.currentTime,(!(i<=(u=l)+(d=c))||!(i>=u-d))&&O.current<4&&(e.element.currentTime=l,O.current++);let r=t<l&&e.element.currentTime<n;r&&e.element.paused?et(e):r||e.element.paused||(e.element.pause(),e.element.currentTime=l)}e=requestAnimationFrame(n)}),()=>{e&&cancelAnimationFrame(e)}},[I,Q,et,H,z,q]),(0,o.useEffect)(()=>{if(1!==I||O.current>=4)return;let e=null;return e=setTimeout(function t(){O.current++,4===O.current&&ee({by:s.bU}),K(),O.current<4&&(e=setTimeout(t,2e3))},2e3),()=>{e&&clearTimeout(e)}},[I,ee,K]);let er=(0,o.useMemo)(()=>({play:K,pause:Q,seek:ee,updatePlaybackRate:G}),[K,Q,ee,G]),eo=(0,o.useMemo)(()=>(0,l.eU)(e=>{let t=e(M);e(A);let n=new Map([]);for(let[e,d]of p.current){var l,r,o,a,i,u;let c=f(d),p=w(d)+x(d),m=p+c,h=(l=t,r=p,o=m,l>=r&&l<o+s.uN),v=(a=t,i=p-x(d),u=m+x(d),a>=i&&a<u+s.uN);n.set(e,{time:C(d.element.currentTime),duration:C(d.element.duration),inBuffer:v&&!h,active:v})}return n}),[M,A]);return[el,{status:I,duration:P,timeAtom:M,ended:W,everPlayed:D,mutedAtom:(0,o.useMemo)(()=>(0,l.eU)(e=>{if(t)return!0;for(let[t,{active:n}]of e(eo)){let e=p.current.get(t);if(e&&n&&!v(e))return!1}return!0}),[eo,t]),playbackRate:F,sourcesAtom:eo},er]}function f(e){return C(e.element.duration)*(y(e)-b(e))/g(e)}function h(e){let t=0;for(let[,n]of e){let e=f(n);e&&(t=Math.max(e+w(n)+2*x(n),t))}return t}function v(e){var t;return null!=(t=e.config.muted)&&t}function g(e){var t;return(0,i.X)(null!=(t=e.config.playbackRate)?t:s.P3)}function b(e){var t;return null!=(t=e.config.startTimeFrac)?t:s.W5}function y(e){var t;return null!=(t=e.config.endTimeFrac)?t:s.__}function w(e){var t;return null!=(t=e.config.offset)?t:0}function x(e){var t;return null!=(t=e.config.buffer)?t:0}function k(e,t){let n=f(t),l=w(t)+x(t),r=C(t.element.duration)*b(t),o=C(t.element.duration)*y(t);return e<=l?r:e>=l+n?o:(e-l)/n*(o-r)+r}function C(e){return isNaN(e)?0:e}function E(e){let t=[];if(!e.length)return t;t.push([e.start(0)-c,e.end(0)+c]);for(let n=1;n<e.length;n++){let l=Math.max(e.start(n)-c,0),r=e.end(n)+c,o=t[t.length-1];l<=o[1]?o[1]=r:t.push([l,r])}return t}class j{getClosestIndex(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t,l=e-this.getIndexTime(this.data[t]);for(let r=t+1;r<this.data.length;r++){let t=e-this.getIndexTime(this.data[r]);if(Math.abs(t)>Math.abs(l))break;Math.abs(t)<Math.abs(l)&&(n=r,l=t)}return{minOffset:l,minOffsetIndex:n}}get currentTime(){return this.getIndexTime(this.data[this.index])+this.indexOffset}set currentTime(e){var t;let n=!this.paused;this.pause();let{minOffset:l,minOffsetIndex:r}=this.getClosestIndex(e);this.index=r,this.indexOffset=l,null==(t=this.onChange)||t.call(this,this.data[this.index]),n&&this.play()}get paused(){return!this.timer}async play(){if(null!==this.timer)return;let e=new Date,t=()=>{if(this.index>=this.data.length-1){this.timer=null;return}let n=new Date;this.indexOffset+=(n-e)/1e3*this.playbackRate,e=n;let{minOffset:l,minOffsetIndex:r}=this.getClosestIndex(this.currentTime,this.index);if(r!==this.index){var o;this.index=r,this.indexOffset=l,null==(o=this.onChange)||o.call(this,this.data[this.index])}this.timer=requestAnimationFrame(t)};t()}pause(){null!==this.timer&&(cancelAnimationFrame(this.timer),this.timer=null)}set onplay(e){}set ondurationchange(e){}set oncanplay(e){}set oncanplaythrough(e){}set onplaying(e){}set onprogress(e){}set onstalled(e){}set onsuspend(e){}set onwaiting(e){}constructor(e,t,n){if(this.readyState=4,this.muted=!0,this.defaultMuted=!0,this.playbackRate=1,this.defaultPlaybackRate=1,this.timer=null,this.indexOffset=0,this.src="",!e.length)throw Error("Time series source has no data");this.onChange=n,this.getIndexTime=t,this.data=e,this.index=0,this.currentTime=0,this.duration=e.length?this.getIndexTime(e[e.length-1]):0,this.buffered={length:1,start:e=>{if(0!==e)throw Error("Invalid buffered index");return 0},end:e=>{if(0!==e)throw Error("Invalid buffered index");return this.duration}}}}},35090:(e,t,n)=>{n.d(t,{Ay:()=>u,o$:()=>h});var l=n(80411),r=n(86747),o=n(83817),a=n.n(o),i=n(55729),s=n(6625);function u(e){let{steps:t,activeStep:n,skip:r=!1,depth:o=2}=e,a=(0,s.T)(),u=(0,i.useMemo)(()=>h(t,!0,a),[t,a]),f=(0,i.useMemo)(()=>m(t,o,a),[t,o,a]),[v,g,b]=(0,i.useMemo)(()=>[d(f,n),p(f,n),c(f,n)],[f,n]),[y,w]=(0,i.useState)(new Set),x=(0,i.useCallback)(e=>{(0,l.isMediaStep)(e)&&w(t=>t.has(e.id)?t:new Set(t).add(e.id))},[w]),[k,C]=(0,i.useState)(new Set),E=(0,i.useCallback)(e=>{C(t=>t.has(e)?t:new Set(t).add(e))},[C]),j=(0,i.useMemo)(()=>{if(r)return[];let e=new Map;for(let t of v)(0,l.isMediaStep)(t)&&!e.has(t.id)&&e.set(t.id,t);for(let t of[...k,...y])if(!e.has(t)){let n=u.find(e=>e.id===t);n&&e.set(t,n)}return n&&(0,l.isMediaStep)(n)&&e.set(n.id,n),Array.from(e.values()).filter(e=>n&&(0,l.isMediaStep)(n)&&e.id===n.id||b.includes(e.id))},[r,n,v,k,y,u,b]);return{renderedSteps:r?[]:j,renderedInteractiveSteps:g,onPreloadStep:x,onLoadStep:E}}let d=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return[];let l=e[t.id];return l?n?l.after:[...l.after,...l.before]:[]},c=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:7;if(!t)return[];let r=e[t.id];if(!r)return[];let o=[];if(n>0&&(o=r.before.slice(0,n).map(e=>e.id)).length>0&&o.length<n){let t=0;for(;o.length<n&&t<r.before.length;){let l=r.before[t];if(!l)break;o=o.concat(c(e,l,n-o.length,0)),t++}}let a=[];if(l>0&&(a=r.after.slice(0,l).map(e=>e.id)).length>0&&a.length<l){let t=0;for(;a.length<l&&t<r.after.length;){let n=r.after[t];if(!n)break;a=a.concat(c(e,n,0,l-a.length)),t++}}return[...o,...a]},p=(e,t)=>{if(!t)return[];let n=e[t.id];return n?[n.before.find(e=>e.type===r.StepType.Overlay),n.step].filter(e=>(null==e?void 0:e.type)===r.StepType.Overlay):[]},m=(e,t,n)=>{if(!t||!e.length)return{};let l={},r=e=>(l[e.id]||(l[e.id]={step:e,before:new Set,after:new Set}),l[e.id]);return e.forEach(l=>{let o=r(l);f(e,l,t,n).forEach(e=>{let t=r(e);a()(e,l)||(o.after.add(e),t.before.add(l))})}),Object.values(l).forEach(e=>{e.after.forEach(t=>{e.before.delete(t)})}),Object.keys(l).reduce((e,t)=>{let n=l[t];return n&&(e[t]={step:n.step,before:Array.from(n.before).reverse(),after:Array.from(n.after)}),e},{})},f=(e,t,n,r)=>{let o=new Map,a=[t.id];for(let i=0;i<=n;i++){let s=new Set;a.forEach(a=>{let u=e.find(e=>{let{id:t}=e;return t===a});u&&(t.id!==a&&o.set(a,u),i<n&&(0,l.getAllNextNonEmptySteps)(e,u,r).forEach(e=>{s.add(e.id)}))}),a=Array.from(s)}return Array.from(o.values()).filter(e=>(0,l.isVideoStep)(e)?!e.videoProcessing:(0,l.isNonEmptyStep)(e))},h=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=new Set((0,l.getStepOrder)(e,e.length*e.length,n).map(e=>e.id));return e.filter(e=>t?(0,l.isNonEmptyStep)(e)&&r.has(e.id):(0,l.isNonEmptyStep)(e))}},40614:(e,t,n)=>{n.d(t,{Gs:()=>r,OK:()=>s,QH:()=>o,_r:()=>i,yh:()=>a});var l=n(82092);let r=.1;function o(e,t,n){let r=(0,l.yR)(t,2);return[...e].sort((e,t)=>t.startTimeFrac-e.startTimeFrac).find(e=>{let t=(0,l.yR)(e.startTimeFrac*n,2),o=(0,l.yR)(e.endTimeFrac*n,2);return t<=r&&o>=r})}function a(e,t,n,l){var r;let a=null!=(r=l.duration)?r:0;return a&&l.streamUrl&&l.url&&l.url!==l.streamUrl?e.find(e=>{var n,r,o;let i=(null!=(n=e.startTimeFrac)?n:0)*a,s=(null!=(r=e.endTimeFrac)?r:0)*a,u=t+(null!=(o=l.startTimeFrac)?o:0)*a;return i<=u&&s>=u}):o(e,t,n)}function i(e,t,n){let l=e.filter(e=>e.endTimeFrac*n<=t);if(0===l.length)return;let r=l[0];if(!r)return;let o=Math.abs(r.endTimeFrac*n-t);for(let e=1;e<l.length;e++){var a,i;let s=Math.max(Math.abs((null!=(i=null==(a=l[e])?void 0:a.endTimeFrac)?i:0)*n-t),0);s<o&&(r=l[e],o=s)}return r}function s(e,t,n){let l=e.filter(e=>e.startTimeFrac*n>=t);if(0===l.length)return;let r=l[0];if(!r)return;let o=Math.abs(t-r.startTimeFrac*n);for(let e=1;e<l.length;e++){var a,i;let s=Math.max(Math.abs(t-(null!=(i=null==(a=l[e])?void 0:a.startTimeFrac)?i:0)*n),0);s<o&&(r=l[e],o=s)}return r}},50733:(e,t,n)=>{n.d(t,{j:()=>o,o:()=>a});var l=n(55729),r=n(82092);function o(){let[e,t]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{t((0,r.YO)()&&(0,r.nr)())},[]),e}function a(){let[e,t]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{t((0,r.YO)())},[]),e}},52834:(e,t,n)=>{n.d(t,{L$:()=>tl,Ay:()=>tn,S$:()=>tr});var l,r=n(6029),o=n(67062),a=n.n(o),i=n(80411),s=n(86747),u=n(67549),d=n(40399),c=n(71024),p=n.n(c),m=n(95669),f=n.n(m),h=n(81278),v=n(55729),g=n(86329),b=n(48494),y=n(82092),w=n(27680),x=n(12271);let k=(e,t)=>{var n,l;return t&&null!=(l=null==(n=e.find(e=>e.startTime<=t&&e.endTime>=t&&!e.text.startsWith("[")&&!e.text.endsWith("]")))?void 0:n.text)?l:""};function C(e){let{syntheticVoice:t,cameraRecording:n,stepCaptions:l,unifiedState:o,enabled:a,lifted:s}=e,d=(0,u.md)(o.sourcesAtom),c=(0,v.useMemo)(()=>(0,y.Ld)(null==t?void 0:t.script,10),[null==t?void 0:t.script]),p=d.get(w.W_.ActiveVideo),m=d.get(w.W_.ActiveVoiceover),f=d.get(w.W_.ActiveCameraRecording),h=(0,v.useMemo)(()=>(null==n?void 0:n.enabled)&&(null==n?void 0:n.captions)&&(null==f?void 0:f.active)?k(n.captions,f.time):((null==t?void 0:t.enabled)===!0||void 0===(null==t?void 0:t.enabled)&&(null==t?void 0:t.url))&&!(null==n?void 0:n.enabled)?(null==m?void 0:m.active)&&!m.inBuffer?(0,y.yf)({chunks:c,chunkSize:10,timepoints:null==t?void 0:t.timepoints},m):"":l&&(null==p?void 0:p.active)?k(l,p.time):"",[n,f,l,null==t?void 0:t.enabled,null==t?void 0:t.timepoints,null==t?void 0:t.url,p,c,m]);return a&&""!==h?(0,r.jsx)("div",{className:(0,i.cn)("absolute left-[1em] right-[1em] bottom-[1em] flex items-center justify-center min-h-[4em] max-w-[75%] mx-auto min-w-[50%] pointer-events-none transition-all ease-jelly duration-300 base-font-size",{"bottom-[2.5em] sm:bottom-[4em]":s}),style:(0,x.O_)(x.Py.VoiceoverCaptions),children:(0,r.jsx)("div",{className:"px-[0.5em] py-[0.25em] sm:py-[0.375em] sm:px-[0.5em] md:py-[0.5em] md:px-[0.75em] bg-gray-900/70 rounded-lg text-center font-medium text-[1.125em] leading-[1.25em] text-white backdrop-blur-sm",children:h})}):null}var E=n(56708),j=n(6994),S=n(12028),N=n(89908),O=n(72023),M=n(96233),A=n(74346);let _="See it live",T=e=>{let{shouldRender:t=!1,buttonBgColor:n,buttonFgColor:l,buttonText:o,className:a,children:d,onRendered:c,onDismissed:p,noRoundedCorners:m}=e,[f,h]=(0,u.fp)(M.F.isStartOverlayActive),g=(0,u.md)(M.F.stageDimensions).layout!==s.ViewerLayout.Default,b=(0,O.lJ)(),[y,w]=(0,v.useState)(t);return(0,v.useEffect)(()=>h(t),[h,t]),(0,v.useEffect)(()=>{t&&(null==c||c(o||_))},[]),(0,r.jsx)("div",{className:"flex w-full h-full",children:(0,r.jsxs)("div",{className:(0,i.cn)(a,{"rounded-t-lg firefox:overflow-hidden":g,"firefox:rounded-b-lg firefox:overflow-hidden translate3d":!g&&b,"rounded-lg overflow-hidden relative":!g&&!b,"rounded-none":!g&&!b&&m}),children:[d,y&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:(0,i.cn)("first:transition-opacity ease-out absolute inset-0 bg-white/30 overflow-hidden rounded-b-lg w-full h-full",{"opacity-50 duration-200":f,"opacity-0 duration-500":!f,"rounded-lg overflow-hidden -top-px -left-px -right-px -bottom-px":g}),...(0,x.LR)(x.Py.StartOverlay,-1)}),(0,r.jsx)("div",{className:(0,i.cn)("transition-opacity ease-out absolute top-0 left-0 right-0 bottom-0 flex items-center justify-center backdrop-blur-[5px] firefox:bg-white firefox:bg-opacity-70 overflow-hidden rounded-b-lg w-[calc(100% - 2px)] h-[calc(100% - 2px)]",{"opacity-100 duration-200":f,"opacity-0 duration-500":!f,"rounded-t-lg -top-px -left-px -right-px -bottom-px":g}),...(0,x.LR)(x.Py.StartOverlay),children:(0,r.jsx)(A.$n,{buttonType:A.EY.base,buttonSize:A.lO.xl,className:"hover:ring-4 ring-gray-700 border-4 border-white hover:border-white ring-offset-white",style:{backgroundColor:n,color:l},onClick:()=>{h(!1),setTimeout(()=>{w(!1)},700),p&&p()},children:o||_})})]})]})})};var F=n(71620),L=n(10471),P=n(42063),R=n(6625),I=n(15631),B=n(63613),D=n(8467),V=n(58578),W=n(36424),U=n(35090),H=n(2631),G=n(82834),z=n(8393),q=n(13448);let Y=e=>{let{intersectionRect:t,boundingClientRect:n}=e;if(0===t.width&&0===t.height)return"hidden";let l=.1*n.width,r=.1*n.height,o=Math.abs(t.top-n.top)>r,a=Math.abs(t.right-n.right)>l,i=Math.abs(t.bottom-n.bottom)>r,s=Math.abs(t.left-n.left)>l,u=+o+ +a+ +i+ +s;return 0===u?"visible":u>1?"obscured-multi":o?"obscured-top":a?"obscured-right":i?"obscured-bottom":s?"obscured-left":"hidden"},J=e=>{let{onChange:t,viewerElement:n}=e,l=(0,H.A)(),r=(0,v.useRef)(null),o=(0,v.useRef)(0),a=(0,v.useRef)(Date.now()),i=(0,v.useRef)(),s=(0,v.useRef)(null),[u,d]=(0,v.useState)(null),c=(0,v.useCallback)(e=>{clearTimeout(i.current);let n=r.current;"visible"===n&&(o.current+=Date.now()-a.current),r.current=e,a.current=Date.now(),"visible"===e&&o.current<3e3&&(i.current=setTimeout(()=>{"visible"===r.current&&c(r.current)},3e3-o.current)),d(e),e!==n&&(null==t||t(e),l.report("Frame Visibility",{state:e,visibleTimeMs:o.current,visibleTimeExceedsThreshold:o.current>=3e3}))},[d,l,t]);return(0,v.useEffect)(()=>{if(window&&"IntersectionObserver"in window){let e=new IntersectionObserver(e=>{if("hidden"!==document.visibilityState)for(let t of e){let e=Y(t);(o.current<3e3||e!==r.current)&&c(e)}},{root:null,threshold:[0,.1,.9,1]});return n&&e.observe(n),()=>{e.disconnect(),clearTimeout(i.current)}}},[c,n]),(0,v.useEffect)(()=>{function e(){"hidden"===document.visibilityState?(s.current=r.current,"hidden"!==s.current&&c("hidden")):null!==s.current&&s.current!==r.current&&c(s.current)}return window.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[c]),u};var Z=n(31937),$=n(3043),X=n(70370);let K="arcade_viewer_playback_rate";var Q=n(26420),ee=n(29594),et=n.n(ee);let en=(e,t,n,l)=>{let r=(0,q.A)(),o=(0,P._8)(),a=(0,P.lS)(),d=(0,u.Xr)(M.F.isPanAndZoomAnimationActive),{customLink:c,customVariableParams:p}=(0,v.useContext)(I.c),m=(0,u.md)(M.F.stageDimensions),[f,h]=(0,v.useState)(!1),[g,b]=(0,v.useState)(!1),w=(0,v.useMemo)(()=>m.layout!==s.ViewerLayout.Overlay?s.EmbedOption.Inline:(m.width<z.Dy?n.embedMobile:n.embedDesktop)===s.EmbedOption.PopoutModal&&g?s.EmbedOption.PopoutModal:s.EmbedOption.PopoutTab,[m.layout,m.width,n.embedMobile,n.embedDesktop,g]),x=(0,v.useMemo)(()=>{let t;if(w!==s.EmbedOption.PopoutTab)return;try{t=window.parent.location}catch(e){}let n=window.location!=t?document.referrer:document.location.href;return"".concat((0,y.mO)(r.customDomain),"/share/").concat(e.id).concat(c?"/".concat(c.id):"","?embed_referrer=").concat(encodeURIComponent(n)).concat((0,i.getCustomValuesQueryString)(p,"&"))},[c,p,e.id,w,r.customDomain]),k=(0,v.useCallback)(function(n){let l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==n||n.stopPropagation(),w!==s.EmbedOption.Inline)if(w===s.EmbedOption.PopoutTab)t.report("Popout Tab Opened",{});else{var r;null==(r=window.parent)||r.postMessage({event:"arcade-popout-open",id:e.id},"*"),h(!0),t.report("Popout Modal Opened",{customTrigger:l})}},[e.id,t,w]),C=(0,v.useCallback)(n=>{var l;null==n||n.stopPropagation(),null==(l=window.parent)||l.postMessage({event:"arcade-popout-close",id:e.id},"*"),h(!1),t.report("Popout Modal Closed",{})},[e.id,t]);return(0,v.useEffect)(()=>{var t;null==(t=window.parent)||t.postMessage({event:"arcade-init",id:e.id},"*")},[e.id]),(0,v.useEffect)(()=>{let n=n=>{var r,s,u;let c;if(n.isTrusted&&("register-popout-handler"===n.data.event&&b(!0),"unregister-popout-handler"===n.data.event&&b(!1),"request-popout-open"===n.data.event&&k(void 0,!0),"request-popout-close"===n.data.event&&C(),l)){if("navigate-to-step"===n.data.event&&(!(c=e.steps.find(e=>{let{id:t}=e;return t===n.data.stepId}))||n.data.stepId===(null==o?void 0:o.id)))return;"identify-user"===n.data.event&&n.data.user&&(null==(r=window.__arcadeTracker)||r.identify(n.data.user.id,n.data.user.traits)),"reset"===n.data.event&&(c=e.steps[0]),c&&c.id!==(null==o?void 0:o.id)&&(d(!!((0,i.isMediaStep)(o)&&(0,i.isMediaStep)(c)&&(null==o||null==(s=o.hotspots)?void 0:s.some(e=>"pulsating"===e.style))&&(null==(u=c.hotspots)?void 0:u.some(e=>"pulsating"===e.style)))),a(c.id),t.report("Remote Control Step Navigated",{stepId:c.id,origin:n.origin}))}};return window.addEventListener("message",n),()=>{window.removeEventListener("message",n)}},[o,e,a,d,l,t,k,C]),(0,v.useEffect)(()=>{if(l){var t;null==(t=window.parent)||t.postMessage({event:"arcade-state-update",arcade:{...et()(e,["id","name","description"]),steps:e.steps.map((e,t)=>({...et()(e,["id","description","type"]),order:t+1,isActive:e.id===(null==o?void 0:o.id),name:(0,i.getStepName)(e)}))}},"*")}},[null==o?void 0:o.id,e,l]),{popoutActive:f,popoutUrl:x,popoutHandlerRegistered:g,onPopoutOpen:k,onPopoutClose:C}};function el(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n]}let er=e=>{let{frameVisibility:t,unifiedState:n,autoplayStatus:l}=e,[r,o]=(0,v.useState)(!1),a=n.status!==Z._s.Paused&&l===W.mJ.Off,i="hidden"!==t&&(r||a),s=(0,v.useRef)([]),u=(0,v.useRef)(null),d=(0,v.useCallback)(()=>{let e=s.current[s.current.length-1];return!!e&&!e.end},[]),c=(0,v.useCallback)(e=>{d()||(s.current.push({start:Date.now()}),el(e))},[d]),p=(0,v.useCallback)(e=>{let t=s.current[s.current.length-1];t&&d()&&(t.end=Date.now(),el(e))},[d]);return(0,v.useEffect)(()=>{let e=null;function t(){o(!0),e&&clearTimeout(e),e=setTimeout(()=>{o(!1)},3e4)}return window.addEventListener("touchmove",t,{passive:!0}),window.addEventListener("mousemove",t,{passive:!0}),window.addEventListener("click",t,{passive:!0}),window.addEventListener("keydown",t,{passive:!0}),()=>{o(!1),e&&clearTimeout(e),window.removeEventListener("touchmove",t),window.removeEventListener("mousemove",t),window.removeEventListener("click",t),window.removeEventListener("keydown",t)}},[]),(0,v.useEffect)(()=>{if(i)return c("user activity - start tracking"),()=>{p("user activity - stop tracking")}},[i,c,p]),(0,v.useMemo)(()=>({get stepActiveTimeMs(){if(!u.current)return this.totalActiveTimeMs;return this.totalActiveTimeMs-u.current},get totalActiveTimeMs(){let e=0;for(let{start:t,end:n}of s.current)e+=n?n-t:Date.now()-t;return e},newStep(){el("activity - new step"),u.current=this.totalActiveTimeMs}}),[])};var eo=n(58372),ea=n(76211),ei=n(4550),es=n(72973),eu=n(1295),ed=n(99151),ec=n(89098),ep=n(29911);function em(e){let{unifiedState:t,soundSetting:n,hasArcadeEnded:l,previewContext:r,frameVisibility:o}=e,a=(0,L.qM)(),i=!(0,u.md)(t.mutedAtom);return!function(e){let{src:t,hasArcadeEnded:n,duckingEnabled:l,isMuted:r,isPaused:o,defaultVolume:a=D.DEFAULT_BG_MUSIC_VOLUME,frameVisibility:i}=e,s=(0,v.useRef)(),u=(0,v.useRef)(),d=(0,v.useRef)(),c=Math.min(a,D.DUCKING_BG_MUSIC_VOLUME),p=(0,v.useRef)(l);p.current=l,(0,v.useEffect)(()=>{if(t)return s.current=new Audio(t),s.current.crossOrigin="anonymous",s.current.loop=!0,s.current.muted=!0,s.current.addEventListener("play",function(){var e;!s.current||u.current||d.current||(s.current.muted=!1,u.current=new AudioContext,d.current=u.current.createGain(),d.current.gain.value=1,(null==(e=u.current)?void 0:e.createMediaElementSource(s.current)).connect(d.current),d.current.connect(u.current.destination),d.current.gain.value=p.current?c:a)},{once:!0}),()=>{s.current&&(s.current.pause(),s.current=void 0),d.current&&(d.current.disconnect(),d.current=void 0),u.current&&(u.current.suspend(),u.current.close(),u.current=void 0)}},[t,a,c]);let m=(0,v.useCallback)(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;s.current&&d.current&&u.current&&(d.current.gain.cancelScheduledValues(u.current.currentTime),d.current.gain.setTargetAtTime(e,u.current.currentTime+n,t||.001))},[]);(0,v.useEffect)(()=>{var e,t;if(!s.current)return;if(r)return m(0,0);if(n)return m(0,2);s.current.paused&&(null==(e=s.current.play())||e.catch(()=>{}));let o=(null==(t=d.current)?void 0:t.gain.value)===0?null:.1;return l?m(c,o):m(a,o,.25)},[n,l,r,a,c,m]),(0,v.useEffect)(()=>{s.current&&(o?s.current.pause():s.current.play())},[o]),(0,v.useEffect)(()=>r?m(0,0):n?m(0,2):void("hidden"===i?m(0,.2):(null==i?void 0:i.startsWith("obscured"))?m(c/4,.2):m(c,.2)),[c,m,i,n,r])}({src:a.backgroundMusicUrl,defaultVolume:a.backgroundMusicVolume,hasArcadeEnded:l,duckingEnabled:i,isMuted:n!==X.C.On,isPaused:n===X.C.Unset&&r!==w.oJ.Edit||t.status===Z._s.Paused&&t.duration>0&&!t.ended,frameVisibility:o}),null}var ef=n(52996),eh=n(97281),ev=n(87750),eg=n(871),eb=n(82856),ey=n(48657),ew=n(66810);function ex(e){var t;let{hotspot:n,showPlay:l,themeColors:o,navNext:a,navPrev:s,replay:u}=e,d=(0,L.qM)(),c=(0,P._8)(),{customValues:p}=(0,v.useContext)(I.c),{buttonBgColor:m,buttonFgColor:f}=(0,v.useMemo)(()=>(0,ed.J)(d,o),[d,o]),h=(null==n?void 0:n.label)||"",g=(null==n?void 0:n.bgColor)||m,b=(null==n?void 0:n.textColor)||f,w=(0,v.useRef)(null),[k,C]=(0,v.useState)(0),[E,j]=(0,v.useState)(!1),S=(0,v.useMemo)(()=>d.steps.filter(i.isNonEmptyStep),[d.steps]),N=S.findIndex(e=>e.id===(null==c?void 0:c.id)),O=!(0===h.length||!w.current||(null==(t=w.current)?void 0:t.clientHeight)===18);return(0,v.useEffect)(()=>{var e;O&&C(((null==(e=w.current)?void 0:e.clientHeight)||0)+18)},[h,E,O]),(0,v.useEffect)(()=>{if(!O)return void j(!1);j(!0);let e=setTimeout(()=>{j(!1)},2e3);return()=>clearTimeout(e)},[c,O]),(0,r.jsxs)("div",{...(0,ew.s)("Caption"),className:(0,i.cn)("absolute left-0 right-0 w-full transition-all ease-jelly duration-200 flex justify-center select-none",{"items-start":!E,"items-center":E}),style:{backgroundColor:g,color:b,zIndex:(0,x.Mh)(x.Py.Caption),height:E?k:D.BROWSER_BAR_OR_CAPTION_HEIGHT,bottom:-D.BROWSER_BAR_OR_CAPTION_HEIGHT},onMouseOver:()=>{!(0,y.YO)()&&O&&j(!0)},onMouseLeave:()=>{!(0,y.YO)()&&O&&j(!1)},onClick:()=>{(0,y.YO)()&&O&&j(!E)},children:[(0,r.jsx)("div",{className:(0,i.cn)("absolute w-7 h-5 flex items-center justify-center -top-5 rounded-t-lg cursor-pointer",{hidden:!O}),style:{backgroundColor:g,color:b},children:(0,r.jsx)(eg.A,{className:(0,i.cn)("w-4 h-4 transition-all ease-jelly duration-300 origin-center translate-y-px",{"!rotate-180":E})})}),(0,r.jsx)("div",{className:"flex-none font-semibold text-xs h-10 w-12 flex items-center justify-center",children:"".concat(N+1,"/").concat(S.length)}),(0,r.jsxs)("div",{className:(0,i.cn)("flex-grow h-10 py-2.5 relative",{"flex items-center":E,"h-10 overflow-hidden":!E}),children:[(0,r.jsx)("div",{className:(0,i.cn)("absolute bottom-0 right-0 left-0 w-full h-3 select-none pointer-events-none transition-all ease-jelly duration-200 z-10",{"opacity-0 translate-y-4":E,"opacity-50":!E}),style:{backgroundColor:g}}),(0,r.jsx)("div",{ref:w,className:(0,i.cn)("relative text-sm select-none leading-4.5 transition-transform ease-jelly duration-300 overflow-auto",{"h-5":0===h.length,"translate-y-px":!E,"max-h-[80vh]":E}),children:(0,r.jsx)(ef.default,{markdown:(0,i.withCustomVariables)(h,d.customVariables,p),preventLineBreaks:!0})})]}),(0,r.jsx)("div",{className:(0,i.cn)("w-10 h-10 flex-none opacity-50 flex items-center justify-center",{"opacity-100 cursor-pointer":N>0}),onClick:()=>{N>0&&s("Caption Clicked")},children:(0,r.jsx)(eh.A,{className:"h-6 w-6"})}),(0,r.jsx)("div",{className:(0,i.cn)("w-10 h-10 cursor-pointer flex-none flex items-center justify-center"),onClick:()=>{N+1!==S.length?a("Caption Clicked"):u()},children:l?(0,r.jsx)(eb.A,{className:"h-5"}):N+1!==S.length?(0,r.jsx)(ev.A,{className:"h-6 w-6"}):(0,r.jsx)(ey.A,{className:"h-5 w-5"})})]})}var ek=n(89168),eC=n(24872);let eE=p()(()=>Promise.resolve().then(n.bind(n,69702)).then(e=>e.Overlay),{loadableGenerated:{webpack:()=>[69702]}});function ej(e){var t,n,l,o,a;let{onPopout:d,popoutUrl:c,themeColors:p}=e,m=(0,L.qM)(),f=(0,u.md)(M.F.stageDimensions),h=(0,R.T)(),{customValues:g,fontFamily:b}=(0,v.useContext)(I.c),w=(0,ed.J)(m,p),x=(0,i.getFirstNonEmptyStep)(m.steps),k=m.steps.find(i.isMediaStep),C=(0,i.isOverlayStep)(x)&&!(0,i.isOverlayStepWithEmbeds)(x)?x:void 0,E=C&&"paths"in C?null==(t=C.paths[0])?void 0:t.buttonColor:null==C?void 0:C.buttonColor,j=C&&"paths"in C?null==(n=C.paths[0])?void 0:n.buttonTextColor:null==C?void 0:C.buttonTextColor,N=E||w.buttonBgColor,O=j||j&&(0,y.hB)(N)||w.buttonFgColor,A=(null==C?void 0:C.title)||m.externalName||"",_=(0,r.jsxs)("div",{className:"w-full h-full",children:[k?(0,r.jsx)(S.A,{src:(0,eC.S)(k),alt:A,"aria-label":A,role:"region","aria-live":"polite",layout:"fill",className:(0,i.cn)("absolute top-0 w-full h-full flex",(0,i.coverAndFitClasses)(k)),style:{backgroundColor:null!=(o=null==(l=k.coverAndFit)?void 0:l.bgColor)?o:"transparent"},blurhash:(0,i.isImageStep)(k)?k.blurhash:void 0,sizes:"(min-width: 1em) 100vw, 100vw",priority:!0}):null,(0,r.jsx)(eE,{flow:m,title:A,subtitle:(null==C?void 0:C.subtitle)||"",fontFamily:b,isDark:(null==C?void 0:C.theme)===s.OverlayTheme.Dark,blur:null!=(a=null==C?void 0:C.blur)?a:s.OverlayBlur.Medium,buttonText:"Play",isSmallScreenOrTile:f.width<z.Dy,onButtonClick:d,buttonType:"next_step",isOnLastStep:!1,isActive:!0,customValues:g,customVariables:m.customVariables,inEditMode:!1,variant:s.OverlayVariant.Buttons,embedCode:"",buttonBg:N,textColor:O,navigationElementWithSound:"ALL",previewImageStep:(0,i.getFirstNonEmptyStep)(m.steps),isEmbedPopout:!0,isMobileRecording:h,layout:f.layout})]});return c?(0,r.jsx)("a",{href:c,target:"_blank",onClick:d,rel:"noreferrer",children:_}):(0,r.jsx)("div",{className:"w-full h-full cursor-pointer",onClick:d,children:_})}function eS(e){let{title:t,onPopoutClose:n}=e,l=(0,u.md)(M.F.stageDimensions);return(0,r.jsxs)("div",{style:{height:z.xb,padding:l.layout===s.ViewerLayout.MobileExpanded?"0px ".concat(z.yG,"px"):0},className:"jsx-4a5a74f1d9baf7a2 flex items-center justify-between w-full shrink-0",children:[(0,r.jsx)("div",{className:"jsx-4a5a74f1d9baf7a2 font-semibold text-sm",children:t}),(0,r.jsx)(A.$n,{buttonType:A.EY.ghost,iconOnly:(0,r.jsx)(ek.A,{}),onClick:n}),(0,r.jsx)(a(),{id:"4a5a74f1d9baf7a2",children:"html{background-color:white!important}"})]})}function eN(e){let{onPopoutClose:t,children:n,title:l}=e;return(0,u.md)(M.F.stageDimensions).layout===s.ViewerLayout.MobileExpanded?(0,r.jsx)("div",{className:"absolute top-0 left-0 w-full h-full",children:(0,r.jsxs)("div",{className:"bg-white w-full h-full flex flex-col",children:[(0,r.jsx)(eS,{title:l,onPopoutClose:t}),(0,r.jsx)("div",{className:"flex-1 relative rounded-lg overflow-hidden",children:n})]})}):(0,r.jsx)("div",{className:"absolute top-0 left-0 w-full h-full bg-gray flex justify-center items-center bg-gray-50/80 backdrop-blur-sm",onClick:t,children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-menu flex flex-col",style:{width:"".concat(100*z.jj,"%"),height:"".concat(100*z.jj,"%"),paddingBottom:z.H4,paddingRight:z.H4,paddingLeft:z.H4},onClick:e=>e.stopPropagation(),children:[(0,r.jsx)(eS,{title:l,onPopoutClose:t}),(0,r.jsx)("div",{className:"flex-1 relative rounded-lg overflow-hidden",children:n})]})})}var eO=n(66885),eM=n(27104),eA=n.n(eM);let e_=p()(()=>Promise.all([n.e(1078),n.e(8221),n.e(2244)]).then(n.bind(n,11396)).then(e=>e.ViewerControls),{loadableGenerated:{webpack:()=>[11396]}}),eT=p()(()=>Promise.resolve().then(n.bind(n,27522)).then(e=>e.OverlayButton),{loadableGenerated:{webpack:()=>[27522]}}),eF=p()(()=>Promise.all([n.e(1078),n.e(2550),n.e(8472)]).then(n.bind(n,32550)),{loadableGenerated:{webpack:()=>[32550]}});function eL(e){var t;let{children:n,viewerControlsProps:{viewerNavigationActions:l,unifiedControls:o,unifiedState:a,updateSound:d,soundSetting:c,toggleCaptions:p,isCaptionOn:m,autoplayStatus:f,copyLink:h},previewContext:g,hasNavSteps:b}=e,y=(0,L.qM)(),{customValues:w,fontFamily:x}=(0,v.useContext)(I.c),k=(0,P._8)(),C=(0,v.useRef)(null),E=(0,u.md)(a.timeAtom),j=!!E,S=a.duration>0?E/a.duration:0,N=(0,R.T)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:(0,i.cn)("relative flex flex-col w-full h-full gap-6 mx-auto overflow-y-scroll"),style:{paddingLeft:z.yG,paddingRight:z.yG},children:(0,r.jsx)("div",{className:(0,i.cn)("relative flex-1 w-full"),children:(0,r.jsxs)("div",{className:(0,i.cn)("w-full absolute top-0 left-0"),children:[n,N?null:(0,r.jsx)(eP,{}),(0,r.jsx)("div",{className:"flex flex-col gap-2 pt-6 pb-36",ref:C})]})})}),(0,r.jsxs)("div",{className:"fixed bottom-0 w-full bg-gradient-to-b from-transparent via-white/90 to-white",children:[(0,r.jsx)("div",{className:(0,i.cn)("w-full gap-2 px-6",{"pb-4 pt-10":!N}),children:(0,i.isOverlayStepWithPaths)(k)&&!(0,i.isOverlayStepWithEmbeds)(k)?(0,r.jsx)(eF,{step:k,isSmallScreenOrTile:!1,onButtonClick:l.onButtonClick,onOverlayUrlClick:l.onOverlayUrlClick,navigationElementWithSound:null,enterNavigationElement:()=>{},leaveNavigationElement:()=>{},previewContext:g,isActive:!0,formFieldsPortal:C,mediaIsPlaying:j,percentComplete:S}):(0,i.isOverlayStepWithoutPaths)(k)&&!(0,i.isOverlayStepWithEmbeds)(k)?(0,r.jsx)(eT,{inEditMode:!1,customVariables:y.customVariables,customValues:w,fontFamily:x,isSmallScreenOrTile:!1,title:k.title,subtitle:k.subtitle,buttonType:k.buttonType,buttonText:k.buttonText,buttonBg:k.buttonColor||i.defaultUserPrefs.bgColor,textColor:null!=(t=k.buttonTextColor)?t:(0,i.safeInvertColor)(k.buttonColor||i.defaultUserPrefs.bgColor),actionUrl:k.actionUrl,isDark:k.theme===s.OverlayTheme.Dark,onButtonClick:l.onButtonClick,onOverlayUrlClick:l.onOverlayUrlClick,navigationElementWithSound:null,enterNavigationElement:()=>{},leaveNavigationElement:()=>{},mediaIsPlaying:j,percentComplete:S,previewImageStep:k}):(0,r.jsx)(eR,{viewerNavigationActions:l})}),(0,r.jsx)(e_,{hasSteps:b,hasControls:(0,G.PS)(k),unifiedControls:o,unifiedState:a,navToStep:l.navToStepClick,onPreloadStep:()=>{},enterNavigationElement:()=>{},leaveNavigationElement:()=>{},updateSound:d,toggleCaptions:p,copyLink:h,soundSetting:c,isCaptionOn:m,autoplayStatus:f,indicatorColor:eA().gray[600]})]})]})}function eP(){var e;let t=(0,L.qM)(),n=(0,H.A)(),{customValues:l,fontFamily:o}=(0,v.useContext)(I.c),a=(0,P._8)(),s=(0,i.isMediaStep)(a)?null==(e=a.hotspots)?void 0:e[0]:void 0;return(null==s?void 0:s.label)?(0,r.jsx)("div",{...(0,ew.s)("MobileHotspotText"),className:(0,i.cn)("w-full animate-fadeIn transition-all ease-jelly text-gray-900 font-medium text-center text-base pt-6 px-3 pb-36"),style:{fontFamily:o},children:(0,r.jsx)(ef.default,{markdown:(0,i.withCustomVariables)(null==s?void 0:s.label,t.customVariables,l),onLinkClick:e=>{var t;n.report("External Url Clicked",{stepId:null!=(t=null==a?void 0:a.id)?t:"",linkUrl:e,source:"hotspot"})}})}):null}function eR(e){let{viewerNavigationActions:t}=e,n=(0,L.qM)(),l=(0,P._8)(),o=(0,v.useMemo)(()=>n.steps.filter(i.isNonEmptyStep),[n.steps]),a=o.findIndex(e=>e.id===(null==l?void 0:l.id)),s=0===a,u=a+1===o.length;return o.length<=1?null:(0,r.jsxs)("div",{className:"flex w-full justify-center gap-4",children:[(0,r.jsx)("button",{className:(0,i.cn)("flex items-center justify-center rounded-full w-12 h-12 shadow-menu bg-white text-gray-900",{"pointer-events-none opacity-50":s}),onClick:()=>{s||t.navPrev("Caption Clicked")},children:(0,r.jsx)(eh.A,{className:"w-8 h-8"})}),(0,r.jsx)("button",{onClick:()=>{u?t.replay():t.navNext("Caption Clicked")},className:"flex items-center justify-center rounded-full w-12 h-12 shadow-menu bg-white text-gray-900",children:u?(0,r.jsx)(ey.A,{className:"w-7 h-7"}):(0,r.jsx)(ev.A,{className:"w-8 h-8"})})]})}var eI=n(16455),eB=n(9482),eD=n(4765),eV=n(29219),eW=n(28742);function eU(){return(eU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)({}).hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e}).apply(null,arguments)}let eH=function(e){return v.createElement("svg",eU({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),l||(l=v.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 2.27V6.4c0 .56 0 .84.109 1.054a1 1 0 0 0 .437.437c.214.11.494.11 1.054.11h4.13M14 17H8m8-4H8m12-3.012V17.2c0 1.68 0 2.52-.327 3.162a3 3 0 0 1-1.311 1.311C17.72 22 16.88 22 15.2 22H8.8c-1.68 0-2.52 0-3.162-.327a3 3 0 0 1-1.311-1.311C4 19.72 4 18.88 4 17.2V6.8c0-1.68 0-2.52.327-3.162a3 3 0 0 1 1.311-1.311C6.28 2 7.12 2 8.8 2h3.212c.733 0 1.1 0 1.446.083.306.073.598.195.867.36.303.185.562.444 1.08.963l3.19 3.188c.518.519.777.778.963 1.081a3 3 0 0 1 .36.867c.082.346.082.712.082 1.446",vectorEffect:"non-scaling-stroke"})))};var eG=n(93030),ez=n(51066),eq=n(39722),eY=n(60385),eJ=n(53761),eZ=n(24308),e$=n(37233),eX=n(36779),eK=n(95383),eQ=n(55409),e0=n(10885),e1=n(64601);let e2=e=>{var t,n;let{className:l,canEdit:o=!1,isPreview:a=!1}=e,s=(0,q.A)(),{getIdToken:d}=(0,eV.useUser)(),c=(0,H.A)(),p=(0,L.qM)(),m=(0,u.Xr)(M.F.confirmation),f=(0,u.md)(M.F.isSidebarVisible),[h,g]=(0,v.useState)(!1),[b,w]=(0,v.useState)("link"),[x,k]=(0,v.useState)(null),[C,E]=(0,v.useState)(null),[j,S]=(0,v.useState)({label:"",url:""}),[N,O]=(0,v.useState)(!1),_=!s.mayViewTeamSettings,T=s.getPaywallConfig(["Growth"]),{getRootProps:F,getInputProps:P}=(0,eJ.VB)({onDrop:e=>{let t=e[0];t&&S({label:t.name,file:t})},maxFiles:1}),R=(0,v.useCallback)(async e=>{try{if(g(!0),await d(!0)){let t=e.name.split(".").pop();if(!t)throw Error("File must have an extension");let n=(0,ep.A)(),l=await eZ.A.uploadBlobToFirebaseStorage(e,"resources",n,t);if(l){let t={id:(0,ep.A)(),type:"file",label:e.name,url:(0,y.rG)(l)},n=[...p.resources||[],t];await p.update({resources:n},s.user.id),c.report("Resource Added",{type:"file",flowId:p.id})}}}catch(e){(0,eD.Cp)(e),V.oR.error("Failed to upload file")}finally{g(!1)}},[s,p,c,d]),I=(0,v.useCallback)(async(e,t)=>{if(!e||!t)return;if(!(0,y.aR)(e))return void O(!0);let n={id:(0,ep.A)(),type:"link",label:t,url:e},l=[...p.resources||[],n];await p.update({resources:l},s.user.id),c.report("Resource Added",{type:"link",flowId:p.id})},[s.user.id,p,c]),B=(0,v.useCallback)(async e=>{var t;let n=null==(t=p.resources)?void 0:t.find(t=>t.id===e),l=(p.resources||[]).filter(t=>t.id!==e);await p.update({resources:l},s.user.id),n&&c.report("Resource Deleted",{type:n.type,flowId:p.id})},[s.user.id,p,c]),D=(0,v.useCallback)(async(e,t)=>{var n;let l=null==(n=p.resources)?void 0:n.find(t=>t.id===e),r=(p.resources||[]).map(n=>n.id===e?{...n,...t}:n);await p.update({resources:r},s.user.id),l&&c.report("Resource Edited",{type:l.type,flowId:p.id})},[s.user.id,p,c]),W=(0,v.useCallback)((e,t,n)=>[{text:"Edit",onSelect:()=>{_||(k(e),E(t),w(e.type),S({label:e.label,url:e.url}),n())},disabled:_},{text:"Delete",onSelect:()=>{_||(m({text:"Delete resource",subText:"Are you sure you want to delete this resource? This action cannot be undone.",onConfirm:()=>B(e.id)}),n())},disabled:_}],[B,m,_]),U=o&&a&&f,G=[{id:"link",label:"Link",className:"h-8 font-medium w-full rounded-md"},{id:"file",label:"File",className:"h-8 font-medium w-full rounded-md"}],z=async()=>{_||(x?("link"===x.type?j.url&&j.label&&await D(x.id,{label:j.label,url:j.url}):"file"===x.type&&j.label&&await D(x.id,{label:j.label}),k(null)):"link"===b?j.url&&j.label&&await I(j.url,j.label):"file"===b&&j.file&&await R(j.file),S({label:"",url:""}))},Y=j.label&&("link"===b&&j.url||"file"===b&&(j.file||x)),J=e=>{var t;return(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[!x&&(0,r.jsx)(e$.S,{active:b,onChange:w,options:G,className:"rounded-xl bg-gray-50 w-full",activeClassName:"bg-white shadow-menu rounded-lg w-full h-8"}),"link"===b?(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:"Label"}),(0,r.jsx)("input",{type:"text",placeholder:"Enter label...",className:"w-48 bg-gray-100 rounded-lg border-gray-100 !ring-0 focus:ring-0 focus:ring-offset-0 transition-colors hover:bg-gray-200 hover:border-gray-200 focus:bg-white focus:border-gray-300 text-sm font-normal leading-10 h-10",value:j.label,onChange:e=>S(t=>({...t,label:e.target.value}))})]}),(0,r.jsx)("div",{className:"flex w-full h-px bg-gray-200"}),(0,r.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:"URL"}),(0,r.jsx)("input",{type:"text",placeholder:"Enter URL...",className:(0,i.cn)("w-48 bg-gray-100 rounded-lg !ring-0 focus:ring-0 focus:ring-offset-0 transition-colors hover:bg-gray-200 focus:bg-white text-sm font-normal leading-10 h-10",{"border-red-500 focus:border-red-300 hover:border-red-200 text-critical-action":N,"border-gray-100 focus:border-gray-300 hover:border-gray-200 text-gray-900":!N}),value:j.url,onChange:e=>{let t=e.target.value;S(e=>({...e,url:t})),t&&!(0,y.aR)(t)?O(!0):O(!1)}})]})]}):(0,r.jsx)("div",{className:"flex flex-col gap-2 w-full",children:j.file||x?x?(0,r.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:"Label"}),(0,r.jsx)("input",{type:"text",placeholder:"Enter label...",className:"w-48 bg-gray-100 rounded-lg border-gray-100 !ring-0 focus:ring-0 focus:ring-offset-0 transition-colors hover:bg-gray-200 hover:border-gray-200 focus:bg-white focus:border-gray-300 text-sm font-normal leading-10 h-10",value:j.label,onChange:e=>S(t=>({...t,label:e.target.value}))})]}):(0,r.jsxs)("div",{className:"flex items-center justify-between gap-2 px-3 h-12 bg-white shadow-menu rounded-lg group w-full relative",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 w-full truncate text-gray-700",children:[(0,r.jsx)(eH,{className:"w-4 h-4 shrink-0"}),(0,r.jsx)("span",{className:"text-sm truncate",children:null==(t=j.file)?void 0:t.name})]}),(0,r.jsx)(A.$n,{buttonType:A.EY.neutral,buttonSize:A.lO.sm,onClick:()=>{S({label:"",file:void 0})},className:"w-6 h-6 shrink-0 opacity-0 group-hover:opacity-100 transition-all",iconOnly:(0,r.jsx)(eq.A,{className:"w-4 h-4 shrink-0"})})]}):(0,r.jsxs)("div",{className:"border border-dashed border-gray-300 text-gray-500 font-medium rounded-lg p-4 flex flex-col gap-3 items-center justify-center text-center cursor-pointer hover:bg-gray-50 transition-all h-32",...F(),children:[(0,r.jsx)("input",{...P()}),(0,r.jsx)(eY.A,{className:"w-5 h-5 shrink-0"}),"Upload file"]})}),(0,r.jsxs)("div",{className:"flex justify-between items-center w-full gap-2",children:[(0,r.jsx)(A.$n,{buttonType:A.EY.neutral,buttonSize:A.lO.md,onClick:()=>{S({label:"",url:""}),k(null),e()},className:"w-full",children:"Cancel"}),(0,r.jsx)(A.$n,{buttonType:A.EY.primary,buttonSize:A.lO.md,onClick:()=>{z(),e()},className:"w-full",disabled:!Y,children:"Save"})]})]})};return(0,r.jsx)(r.Fragment,{children:(null==(t=p.resources)?void 0:t.length)||f?(0,r.jsxs)("div",{className:(0,i.cn)("flex flex-col gap-2.5 justify-start",l),children:[null==(n=p.resources)?void 0:n.map(e=>(0,r.jsxs)("div",{className:"flex w-full gap-2 items-center justify-between group relative h-7",ref:t=>{(null==x?void 0:x.id)===e.id&&E(t)},children:[(0,r.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:(0,i.cn)("flex items-center gap-3 w-auto text-gray-700 hover:text-gray-500 select-none truncate",{"w-full pointer-events-none":U}),children:["link"===e.type?(0,r.jsx)(eG.A,{className:"w-4.5 h-4.5 shrink-0"}):(0,r.jsx)(eH,{className:"w-4.5 h-4.5 shrink-0"}),(0,r.jsx)("div",{className:"text-sm truncate font-medium",children:e.label})]}),U&&(0,r.jsx)(eK.A,{tippyProps:{tippyClassName:"origin-top-right",placement:"bottom-end"},getItems:t=>{let{close:n}=t;return W(e,document.getElementById("resource-".concat(e.id)),n)},children:t=>{let{toggle:n,isOpen:l}=t;return(0,r.jsx)(A.$n,{id:"resource-".concat(e.id),buttonType:A.EY.ghost,onClick:n,className:(0,i.cn)("w-6 h-6 shrink-0 text-gray-600 hover:text-gray-900 transition-all group-hover:opacity-100 opacity-0",{"opacity-100 text-gray-900 bg-gray-100":l}),iconOnly:(0,r.jsx)(eW.A,{className:"w-3.5 h-3.5"}),disabled:_})}})]},e.id)),h&&(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500 h-7",children:[(0,r.jsx)(e1.A,{color:eA().gray[700],secondaryColor:eA().gray[400],className:"flex w-4 h-4",size:16,type:eQ.M.Oval}),"Uploading..."]}),U&&(0,r.jsxs)(r.Fragment,{children:[_?(0,r.jsx)(e0.default,{trigger:"click",link:"https://app.arcade.software/share/X1W32HYbQI2iiOoNcmbO",title:T.title,buttonText:T.CTA,buttonUrl:T.path,media:"/images/paywall-resources.png",content:"Enhance your Arcade with all your supporting materials, perfectly organized.",source:"Share Page Resources",placement:"bottom-start",opening:"origin-top-left",triggerClassName:"justify-start place-self-start",children:(0,r.jsxs)("button",{className:"relative text-sm flex items-center gap-3 text-gray-400 hover:text-gray-600 transition-all font-medium h-7",children:[(0,r.jsx)(ez.A,{className:"w-4.5 h-4.5 shrink-0"}),"Add link or file"]})}):(0,r.jsx)(eX.default,{placement:"bottom-start",tippyClassName:"origin-top-left bg-white rounded-xl shadow-menu p-4 w-72",offset:[0,8],appendTo:()=>document.body,onClose:()=>{S({label:"",url:""})},render:e=>{let{close:t}=e;return J(t)},children:e=>{let{toggle:t,isOpen:n}=e;return(0,r.jsxs)("button",{onClick:()=>{S({label:"",url:""}),w("link"),t()},className:(0,i.cn)("relative text-sm flex items-center gap-3 text-gray-400 hover:text-gray-600 transition-all font-medium h-7",{"text-gray-600":n}),children:[(0,r.jsx)(ez.A,{className:"w-4.5 h-4.5 shrink-0"}),"Add link or file"]})}}),x&&C&&(0,r.jsx)(eX.default,{placement:"bottom-end",tippyClassName:"origin-top-right bg-white rounded-xl shadow-menu p-4 w-72",offset:[0,8],wrapperClassName:"hidden",appendTo:()=>document.body,defaultOpen:!0,reference:C,onClose:()=>{k(null),E(null),S({label:"",url:""})},render:e=>{let{close:t}=e;return J(t)},children:()=>(0,r.jsx)("div",{style:{display:"none"}})})]})]}):null})};var e3=n(82203),e5=n.n(e3),e4=n(6215);let e6=e=>{let{team:t,flow:n}=e,l=(0,H.A)();return(0,r.jsx)("div",{className:"flex items-start",children:(0,r.jsx)(e5(),{href:t&&(0,e4.qn)(t,n)||(0,y.$_)(),target:t?(0,e4.UI)(t,n)?"_self":"_blank":"_self",className:"rounded-lg",onClick:()=>{let e=t&&(0,e4.qn)(t,n)||(0,y.$_)();l.report("Custom Share Page Button Clicked",{text:t&&(0,e4.qF)(t,n)||"Try Arcade",link:e,isCustom:!!t&&(0,e4.E4)(t,n)})},children:(0,r.jsx)(A.$n,{buttonType:A.EY.neutral,buttonSize:A.lO.md,className:"shrink-0 transition-all !border-gray-900/[.12] hover:opacity-70",style:{backgroundColor:t&&(0,e4.a8)(t,n)||"#ffffff",color:t&&(0,e4.FE)(t,n)||"#000000"},children:t&&(0,e4.qF)(t,n)||"Try Arcade"})})})};var e7=n(17491);let e8=e=>{let{team:t,flow:n}=e,l=(0,h.useRouter)(),o=(0,H.A)();return(0,r.jsx)("div",{className:"relative flex items-center flex-nowrap h-full",children:(0,r.jsx)("a",{title:"Home",href:t&&(0,e4._J)(t,n)||(0,y.$_)(),className:"!items-center justify-start !flex relative flex-1 w-auto h-auto",target:t?(0,e4.vh)(t,n)?"_self":"_blank":"_self",onClick:()=>{let e=t&&(0,e4._J)(t,n)||(0,y.$_)();o.report("Logo Clicked",{link:e,isCustom:!!(t&&((0,e4._J)(t,n)||(0,e4.uI)(t,n)))}),(!t||(0,e4.vh)(t,n))&&l.push(e)},rel:"noreferrer",children:t&&(0,e4.uI)(t,n)?(0,r.jsx)("div",{className:"imgHack",children:(0,r.jsx)(S.A,{src:(0,e4.uI)(t,n),layout:"fill",objectFit:"contain",objectPosition:"left",className:"!w-auto !min-w-0 !max-w-none !flex !self-start !h-6 !relative"})}):(0,r.jsx)(e7.A,{className:"h-[22px]",hideTitleWhenSmall:!1,square:!1})})})};function e9(e){let{children:t}=e;return(0,r.jsx)("div",{className:"relative bg-black shadow-share mx-auto my-10",style:{width:350,height:680,border:"".concat(eB.OUTER_BORDER_WIDTH,"px solid #444"),borderRadius:eB.BORDER_RADIUS},children:(0,r.jsxs)("div",{className:"w-full h-full bg-white relative",style:{borderRadius:"calc(".concat(eB.BORDER_RADIUS," - ").concat(eB.OUTER_BORDER_WIDTH,"px)"),border:"".concat(eB.INNER_BORDER_WIDTH,"px solid black"),padding:"32px 0px 40px"},children:[(0,r.jsx)("div",{className:"text-xs text-gray-500 absolute w-full text-center bottom-3",children:"https://app.arcade.software"}),(0,r.jsxs)("div",{className:"absolute top-0 phone-camera bg-black",style:{width:120,height:25,left:102.5,borderBottomLeftRadius:17,borderBottomRightRadius:17},children:[(0,r.jsx)("div",{className:"rounded-full absolute",style:{width:50,height:4,left:35,top:8,backgroundColor:"#141317"}}),(0,r.jsx)("div",{className:"rounded-full absolute",style:{width:8,height:8,left:90,top:6,backgroundColor:"#1b153b"}})]}),(0,r.jsx)("div",{className:"h-full w-full border-b overflow-hidden flex flex-col relative",style:{contain:"layout"},children:t})]})})}function te(e){let{title:t,description:n,children:l,backgroundShown:o,sharePageLayout:a,flow:d,team:c}=e,{layout:p,width:m}=(0,u.md)(M.F.stageDimensions),f=(0,h.useRouter)().asPath.includes("/view"),v=(0,q.A)().flows.mayEdit(d),g=m/(o?z.L0:1);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:(0,i.cn)("mx-auto relative flex items-center justify-center",{"rounded-lg overflow-hidden":o,"mx-0 z-10":"sidebar"===a.type}),style:{width:g,marginTop:"sidebar"===a.type?"0px":z.Ec,padding:o?"".concat((g-m)/2,"px 0"):"auto"},children:l}),(0,r.jsxs)("div",{style:{width:"sidebar"===a.type?z.ZV:g,flex:1},className:(0,i.cn)("mx-auto overflow-auto",{"opacity-0":!m,"opacity-100 transition-opacity transform-gpu duration-300":!!m,"mx-0 gap-6 flex flex-col z-1":"sidebar"===a.type,"mb-4 mt-4":"sidebar"!==a.type}),children:["sidebar"===a.type&&a.showLogo&&(0,r.jsx)(e8,{team:c,flow:d}),(0,r.jsx)("h1",{className:(0,i.cn)("font-bold text-lg pb-2",{"md:text-2xl":p===s.ViewerLayout.Default,"p-0 font-semibold":"sidebar"===a.type}),children:t}),n?(0,r.jsx)("p",{className:(0,i.cn)("text-base text-gray-500 pb-5",{"pb-0 -mt-5 text-sm":"sidebar"===a.type}),children:(0,r.jsx)(ef.default,{markdown:n})}):null,"sidebar"===a.type&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e2,{canEdit:f&&v,isPreview:f}),a.showButton&&(0,r.jsx)(e6,{team:c,flow:d})]})]})]})}let tt=p()(()=>n.e(431).then(n.bind(n,90431)),{loadableGenerated:{webpack:()=>[90431]}});function tn(e){var t;let{twitterCardHeight:n,demoBaseUrl:l,appBaseUrl:o,features:i,watermarkCustomProps:d,showArcadeButton:c,flowBelongsToFreeUser:p,integrations:m,magicCursor:g,serializedFlowTeam:b,themeColors:x}=e,k=(0,L.qM)(),{customValues:C}=(0,v.useContext)(I.c),[E]=(0,v.useState)(()=>(0,ep.A)()),j=(0,y.al)(),S=(0,h.useRouter)(),O=(0,ec.cc)(b),A=(0,u.md)(M.F.firstStepContentIsReady),{tracker:_,queryParams:T}=tr({sessionId:E,integrations:m,features:i}),{forceEmbed:F,forcePublishToHost:P}=T;(0,v.useEffect)(()=>{!S.isReady||j||F||("demo.arcade.software"===window.location.hostname?S.push("https://app.arcade.software/share/".concat(k.id)):S.push("/share/".concat(k.id)))},[j,k.id,S,F]),(0,v.useEffect)(()=>{let e=e=>{var t,n,l,r,o,a,i;(null==e||null==(t=e.data)?void 0:t.event)==="cookie-consent"&&(null==(n=(l=window)._doNotTrackUnblock)||n.call(l),window._doNotTrack=!1,_.enableTracking(),_.report("Enable Tracker",{origin:null==e?void 0:e.origin}),(T.containerId||(null==m||null==(r=m["google-tag-manager"])?void 0:r.enabled)||T.measurementId||(null==m||null==(o=m["google-analytics"])?void 0:o.enabled))&&(null==(a=(i=window).gtag)||a.call(i,"consent","update",{analytics_storage:"granted",ad_storage:"granted",functionality_storage:"granted",personalization:"granted",security_storage:"granted"})))};return window.addEventListener("message",e),()=>window.removeEventListener("message",e)},[T.containerId,m,T.measurementId,_]),(0,v.useEffect)(()=>{if(E){var e;null==(e=window.parent)||e.postMessage({event:"arcade-session-id",sessionId:E,flowId:k.id},"*")}},[k.id,E]);let R=en(k,_,T,((null==i?void 0:i[s.Feature.PublishEventsToHost])||P)&&A);(0,v.useEffect)(()=>(document.body.classList.add("overflow-hidden"),()=>{document.body.classList.remove("overflow-hidden")}),[]);let D=(0,B.yw)(k,C),V=(0,B.dW)(k,C);return(0,r.jsxs)(es.c,{tracker:_,children:[(0,r.jsxs)(f(),{children:[(0,r.jsx)("title",{className:"jsx-d07ee53d37daf23",children:D}),(0,r.jsx)("link",{rel:"preconnect",href:"https://stream.mux.com",className:"jsx-d07ee53d37daf23"}),(0,r.jsx)("link",{rel:"preconnect",href:"https://image.mux.com",className:"jsx-d07ee53d37daf23"})]}),(0,r.jsx)(N.r,{demoBaseUrl:l,appBaseUrl:o,twitterCardHeight:n,teamName:null!=(t=null==O?void 0:O.name)?t:""}),(0,r.jsx)(a(),{id:"d07ee53d37daf23",children:"body{position:absolute;top:0;left:0;width:100%;height:100%}"}),(0,r.jsx)(tl,{title:D,description:V,features:i,flowTeam:null!=O?O:void 0,showArcadeButton:c,watermarkCustomProps:d,flowBelongsToFreeUser:p,magicCursor:g,expandOnMobile:!1,previewContext:w.oJ.Embed,remoteControl:R,themeColors:x,likelyEmbed:!0,...T})]})}function tl(e){var t,n,l,o,c,p,m,f,h,x;let{features:k,watermarkCustomProps:N,showArcadeButton:A,flowBelongsToFreeUser:_,title:Y,description:ee,flowTeam:et,expandOnMobile:en,embedMobile:el=s.EmbedOption.Inline,embedDesktop:es=s.EmbedOption.Inline,remoteControl:eu,magicCursor:ec,previewContext:ep,isPreviewModeTrackingOn:ef,likelyEmbed:eh=!1,forceEmbed:ev=!1,forceNoFullscreen:eg=!1,forceNoWrapper:eb=!1,forceWrapperTheme:ey,forceNoBackground:ew=!1,forceNoMobileView:ek=!1,forceNoNavigation:eC=!1,forceNoCta:eE=!1,forceNoStartOverlay:eS=!1,forceWatermark:eM=!1,queryBgUrl:eA="",showCopyLink:e_=!1,noRoundedCorners:eT=!1,themeColors:eF,previewActive:eP=!1,previewEditingActive:eR=!1,language:eB}=e,eD=(0,L.qM)(),eV=(0,H.A)(),eW=(0,P._8)(),eU=(0,P.y6)(),eH=(0,O.lJ)(),{customValues:eG}=(0,v.useContext)(I.c),ez=(0,u.md)(M.F.isFullscreen),eq=(0,u.md)(M.F.showFlowNavIndicator),eY=(0,u.md)(M.F.viewerDemoMode),eJ=(0,u.md)(M.F.isPreviewMobile),eZ=(0,y.al)(),[e$,eX]=(0,v.useState)(eh);(0,v.useEffect)(()=>{eX(eZ||ev)},[eZ,ev]);let eK=(0,d.AY)(M.F.stageDimensions),eQ=(0,d.AY)(M.F.isPreviewMobile),e0=(0,d.AY)(M.F.previewLanguage),e1=(0,d.AY)(M.F.viewerDemoMode);(0,g.A)(()=>{e0(),eQ(),e1(),eK()});let[e2,e3]=(0,v.useState)(null),e5=(0,W.y2)(),e4=(0,W.I7)(),e6=function(e){var t;let{doNotTrack:n,initializeWithSound:l,viewerElement:r,captionsVisibleEnabled:o}=e,a=(0,L.qM)(),d=(0,q.A)(),c=(0,H.A)(),p=(0,P._8)(),m=(0,P.lS)(),f=(0,P.Ph)(),{autoplayStatus:h,mediaEnded:g,textEnded:b}=(0,W.Px)(),x=(0,W.dq)(),k=(0,u.md)(M.F.stageDimensions).layout,[C,E]=(0,v.useState)(!1),[j,S]=(0,v.useState)(null),N=(0,u.md)(M.F.isStartOverlayActive),O=(0,W.I7)(),A=(0,R.T)(),_=(0,q.A)(),T=(0,H.A)(),F=(0,L.qM)(),[I,B]=(0,u.fp)(M.F.viewerDemoMode);(0,$.fy)("d",{cmd:!0,shift:!0},()=>{T.report("Demo Mode Toggle",{isOn:!I}),B(!I),V.Ay.success("Hotspots and callouts are now ".concat(I?"visible":"hidden"))},void 0,!_.flows.mayUseViewerDemoMode),(0,v.useEffect)(()=>{B(!!F.demoModeByDefault)},[F.demoModeByDefault,B]);let Y=!!p&&(null==(t=(0,i.getFirstNonEmptyStep)(a.steps))?void 0:t.id)===(null==p?void 0:p.id),Q=(0,v.useMemo)(()=>{var e,t,n,l;return e=a.steps[a.steps.length-1],(0,i.isImageStep)(p)&&(null==(t=p.autoplay)?void 0:t.enabled)===!1&&0===p.hotspots.length||(0,i.isNonEmptyStep)(p)&&!!(null==(n=p.cta)?void 0:n.id)||(0,i.isOverlayStepWithPaths)(p)&&p.variant===s.OverlayVariant.Buttons&&p.paths.some(e=>"url"===e.pathType)&&!p.paths.some(e=>"step"===e.pathType)||(0,i.isOverlayStep)(p)&&p.variant===s.OverlayVariant.Form&&(null==(l=p.formFields)?void 0:l.some(e=>"url"===e.pathType))||(null==e?void 0:e.id)===(null==p?void 0:p.id)},[p,a.steps]),ee=(0,v.useRef)(0),et=(0,v.useCallback)(()=>{ee.current++,ee.current>10&&x({type:"TURN_OFF_AUTOPLAY"})},[x]);(0,v.useEffect)(()=>{Y&&et()},[Y,et]);let en=(0,v.useCallback)(()=>!N&&(!!l||!Y||!(ee.current<=1)||h===W.mJ.On),[l,N,Y,h]),{soundSetting:el,isCaptionOn:er,updateSound:eo,toggleCaptions:ea}=(0,X.V)({doNotTrack:n,captionsVisible:o?a.captionsVisible:void 0}),ei=(0,i.isVideoStep)(p),es=ei?p.muted:void 0,eu=ei?p.playbackRate:void 0,ed=ei?(0,y.cy)(p,!1):void 0,ec=ei?(0,y.J3)(p,!1):void 0,ep=(0,v.useMemo)(()=>({playbackRate:eu,startTimeFrac:ed,endTimeFrac:ec,muted:es}),[eu,es,ed,ec]),em=(0,v.useMemo)(()=>({buffer:D.VOICEOVER_BUFFER}),[]),ef=(0,v.useMemo)(()=>({buffer:D.VOICEOVER_BUFFER}),[]),eh=(0,v.useMemo)(()=>({playbackRate:eu,muted:!0}),[eu]),ev=(0,v.useMemo)(()=>new Map([[w.W_.ActiveVideo,ep],[w.W_.ActiveVoiceover,em],[w.W_.ActiveCameraRecording,ef],[w.W_.ActiveMagicCursor,eh]]),[ep,em,ef,eh]),[eg,eb,ey]=(0,Z.y)(ev,{forceMuted:el!==X.C.On}),ew=h===W.mJ.Off&&!!p&&Q&&(!(0,G.PS)(p)||g),[ex,ek]=(0,y.e3)(a.steps);(0,v.useEffect)(()=>{if(!n)try{let e=localStorage.getItem(K);if(e){let t=+e;t>=ex&&t<=ek&&ey.updatePlaybackRate(t)}}catch(e){}},[n,ex,ek,ey]),(0,v.useEffect)(()=>{if(!n)try{eb.playbackRate!==z.P3?localStorage.setItem(K,"".concat(eb.playbackRate)):localStorage.removeItem(K)}catch(e){}},[n,eb.playbackRate]);let eC=(0,v.useRef)(eb.ended);(0,v.useEffect)(()=>{eb.ended!==eC.current&&(x({type:"SET_MEDIA_ENDED",ended:eb.ended}),ei&&eb.ended&&c.report("Video Ended",{stepId:null==p?void 0:p.id}),eC.current=eb.ended)},[x,ei,eb.ended,null==p?void 0:p.id,c]);let eE=J({onChange:(0,v.useCallback)(e=>{if(null===e)return;let t="hidden"!==e&&k!==s.ViewerLayout.Overlay;x({type:"SET_VISIBLE",visible:t}),t?C&&(ey.play(),E(!1)):eb.status!==Z._s.Paused&&(ey.pause(),E(!0))},[x,ey,eb.status,C,k]),viewerElement:r});(0,v.useEffect)(()=>{eo(e=>l&&e===X.C.Unset?X.C.On:e,!1)},[l,eo]);let ej=(0,u.md)(M.F.viewerFormResponses),eS=(0,v.useMemo)(()=>(0,U.o$)(a.steps,!0,A),[a.steps,A]),eN=(0,v.useCallback)(function(e){let{popStack:t,skipStack:n,bypassFormValidation:l}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};O();let r=(()=>{if(l)return e;let t=eS.findIndex(e=>{let{id:t}=e;return t===(null==p?void 0:p.id)}),n=eS.findIndex(t=>{let{id:n}=t;return n===e});if(t>n)return e;for(let e=t;e<=n;e++){let t=eS[e];if((null==t?void 0:t.type)===s.StepType.Overlay&&t.variant===s.OverlayVariant.Form){var r;if((null==(r=t.formFields)?void 0:r.some(e=>"input"===e.pathType&&e.required))&&!ej[t.id])return t.id}}return e})();if(r){if(x({type:"TURN_OFF_AUTOPLAY"}),eo(e=>e===X.C.Unset?X.C.On:e,!1),(0,G.PS)(p)&&!eb.everPlayed){x({type:"SET_NAVIGATE_TO_ON_ENDED",id:r}),ey.play();return}t?f():m(r,n)}},[x,eo,p,eb.everPlayed,f,m,eS,ej,ey,O]),eO=el===X.C.Unset&&(0,G.$S)(a)?k!==s.ViewerLayout.Default?"ALL":j:null,eM=(0,v.useCallback)(e=>{S(e)},[]),eA=(0,v.useCallback)(e=>{S(t=>t===e?null:t)},[]),e_=function(e){let{onNavigate:t,incrementFirstStepCounter:n,isOnLastStep:l,tracker:r,unifiedControls:o}=e,a=(0,L.qM)(),u=(0,P._8)(),d=(0,P.GV)(),c=(0,P.lS)(),p=(0,R.T)(),m=(0,v.useMemo)(()=>u?(0,i.getNextNonEmptyIndexedStep)(a.steps,u,!0):void 0,[a.steps,u]),f=(0,v.useMemo)(()=>u?(0,i.getNextNonEmptyAutoStep)(a.steps,u,{allowRestart:!1,isMobileRecording:p}):void 0,[a.steps,u,p]),h=d.length?d[d.length-1]:null,g=(0,v.useMemo)(()=>h?a.steps.find(e=>e.id===h):void 0,[h,a.steps]),b=(0,v.useMemo)(()=>u?(0,i.getPrevNonEmptyIndexedStep)(a.steps,u,!1):void 0,[a.steps,u]),y=!!u&&a.status===s.PublishStatus.published,w=(0,v.useCallback)(e=>{t(e.id),y&&r.report("Progress Bar Nav Clicked",{fromStepId:u.id,toStepId:e.id})},[r,y,t,null==u?void 0:u.id]),x=(0,v.useCallback)(e=>{f&&(t(f.id),y&&r.report(e,{fromStepId:u.id,toStepId:f.id,..."Top Nav Button Clicked"===e?{buttonType:"next"}:void 0}))},[null==u?void 0:u.id,f,y,r,t]),k=(0,v.useCallback)(e=>{let n=null!=g?g:b;n&&(t(n.id,{popStack:!!g,skipStack:!g}),y&&r.report(e,{fromStepId:u.id,toStepId:n.id,..."Top Nav Button Clicked"===e?{buttonType:"back"}:void 0}))},[null==u?void 0:u.id,b,g,y,r,t]);(0,$.fy)("ArrowRight",{},(0,v.useCallback)(()=>x("Navigated With Arrow Right Key"),[x]),!0),(0,$.fy)("ArrowLeft",{},(0,v.useCallback)(()=>k("Navigated With Arrow Left Key"),[k]),!0);let C=(0,v.useCallback)(function(){let e,{hotspot:n,path:l,mobileButton:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(n||l||r){let t=(null==n?void 0:n.targetId)||(null==l?void 0:l.targetStepId)||(null==r?void 0:r.targetId),o=t?a.steps.find(e=>{let{id:n}=e;return n===t}):void 0;e=null!=o?o:m}else e=m;e&&t(e.id,{bypassFormValidation:!0})},[a.steps,m,t]),E=(0,v.useCallback)(e=>{C({mobileButton:e})},[C]),j=(0,v.useCallback)(e=>{if(C({hotspot:e}),y&&(0,i.isMediaStep)(u)){var t,n;r.report("Hotspot Clicked",{stepId:null!=(t=u.id)?t:"",hotspotId:e.id,hotspotLabel:e.label,targetStepId:null!=(n=e.targetId)?n:"Unassigned"})}},[C,u,y,r]),S=(0,v.useCallback)(e=>{if(C({path:e}),y&&(0,i.isOverlayStep)(u)){var t,n,l,o,a;let s=(0,i.isOverlayStepWithEmbeds)(u)&&u.embedCode?u.embedCode.includes("hsforms.net")?"HubSpot":u.embedCode.includes("calendly.com")?"Calendly":u.embedCode.includes("typeform.com")?"Typeform":u.embedCode.includes("marketo.com")||u.embedCode.includes("mktoweb.com")?"Marketo":"Other":"";r.report("Overlay Clicked",{stepId:null!=(t=u.id)?t:"",title:null!=(n=u.title)?n:"",subtitle:null!=(l=u.subtitle)?l:"",buttonLabel:e?null!=(o=e.buttonText)?o:"":(0,i.isOverlayStepWithoutPaths)(u)?u.buttonText:"",linkType:"button",buttonId:null!=(a=null==e?void 0:e.id)?a:"",linkUrl:"",isCta:!1,isEmbed:(0,i.isOverlayStepWithEmbeds)(u)&&!!u.embedCode,embedSource:s})}},[C,u,y,r]);return{onHotspotClick:j,onButtonClick:S,onMobileButtonClick:E,onOverlayUrlClick:(0,v.useCallback)(async e=>{if(a.status===s.PublishStatus.published&&(0,i.isOverlayStep)(u)){var t,n,o,d,c,p,m;r.report("Overlay Clicked",{stepId:null!=(t=u.id)?t:"",title:null!=(n=u.title)?n:"",subtitle:null!=(o=u.subtitle)?o:"",buttonLabel:e?null!=(d=e.buttonText)?d:"":(0,i.isOverlayStepWithoutPaths)(u)?u.buttonText:"",linkType:"link",linkUrl:e?null!=(c=e.url)?c:"":(0,i.isOverlayStepWithoutPaths)(u)&&null!=(p=u.actionUrl)?p:"",isCta:!e||l,buttonId:null!=(m=null==e?void 0:e.id)?m:""})}},[u,a.status,r,l]),navToStepClick:w,navNext:x,navPrev:k,replay:(0,v.useCallback)(function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],l=(0,i.getFirstNonEmptyStep)(a.steps);l&&(e?(t(l.id),y&&r.report("Flow Restarted",{})):c(l.id),l.id===(null==u?void 0:u.id)&&(n(),o.seek({to:0}),o.play()))},[a.steps,t,n,c,y,r,o,null==u?void 0:u.id])}}({isOnLastStep:Q,tracker:c,onNavigate:eN,incrementFirstStepCounter:et,unifiedControls:ey}),eT=(0,v.useMemo)(()=>"".concat((0,y.mO)(d.customDomain),"/share/").concat(a.id),[a.id,d.customDomain]),eF=(0,v.useCallback)(()=>{navigator.clipboard.writeText(eT+"?ref=share-link").then(()=>{V.Ay.success("Link copied",{position:"top-center"}),c.report("Copy Share Link Clicked",{success:!0})}).catch(()=>c.report("Copy Share Link Clicked",{success:!1}))},[eT,c]);(0,v.useEffect)(()=>{g&&(null==p?void 0:p.id)&&(null==p?void 0:p.type)===s.StepType.Video&&c.report("Video Ended",{stepId:p.id})},[g,c,null==p?void 0:p.id,null==p?void 0:p.type]),(0,v.useEffect)(()=>{(null==p?void 0:p.id)&&en()&&ey.play()},[ey,null==p?void 0:p.id,en]);let eL=(0,i.isImageStep)(p)||(0,i.isOverlayStep)(p)&&p.variant!==s.OverlayVariant.Form&&p.variant!==s.OverlayVariant.Embeds?(0,i.getStepTextTime)(p,(0,i.selectFlowAutoplay)(a),!!a.demoModeByDefault):void 0;(0,v.useEffect)(()=>{if((null==p?void 0:p.id)&&void 0!==eL){let e=setTimeout(()=>x({type:"SET_TEXT_ENDED",ended:!0}),eL);return()=>{x({type:"SET_TEXT_ENDED",ended:!1}),clearTimeout(e)}}return()=>x({type:"SET_TEXT_ENDED",ended:!1})},[null==p?void 0:p.id,eL,x]);let eP=h===W.mJ.On&&!!p&&Q&&(!(0,G.PS)(p)||g)&&((0,i.isVideoStep)(p)||b),{replay:eR}=e_;(0,v.useEffect)(()=>{eP&&eR(!1)},[eP,eR]);let eI=Math.max(null!=eL?eL:0,1e3*eb.duration);return{isOnFirstStep:Y,isOnLastStep:Q,hasArcadeEnded:ew,autoplayStatus:h,soundSetting:el,isCaptionOn:er,updateSound:eo,toggleCaptions:ea,unifiedState:eb,unifiedControls:ey,registerSource:eg,viewerNavigationActions:e_,navigationElementWithSound:eO,enterNavigationElement:eM,leaveNavigationElement:eA,copyLink:eF,frameVisibility:eE,stepDuration:eI}}({doNotTrack:!!(null==k?void 0:k[s.Feature.DoNotTrack]),initializeWithSound:ep===w.oJ.Edit&&!ef,viewerElement:e2,captionsVisibleEnabled:!!(null==k?void 0:k[s.Feature.CaptionsVisible])}),{isOnFirstStep:e7,isOnLastStep:e8,hasArcadeEnded:tn,autoplayStatus:tl,soundSetting:tr,isCaptionOn:to,updateSound:ta,toggleCaptions:ti,copyLink:ts,unifiedState:tu,unifiedControls:td,viewerNavigationActions:tc,navigationElementWithSound:tp,frameVisibility:tm}=e6,tf=(0,v.useRef)(eD.firstViewed),th=(0,v.useRef)(!1),tv=er({frameVisibility:tm,unifiedState:tu,autoplayStatus:tl}),tg=(0,v.useMemo)(()=>"light"===ey?s.FlowWrapper.browserLight:"dark"===ey?s.FlowWrapper.browserDark:eb?s.FlowWrapper.none:eD.flowWrapper,[ey,eb,eD.flowWrapper]),tb=ew?void 0:eA||(null==(t=eD.bgImage)?void 0:t.url),ty=eD.showStartOverlay&&!eS,tw=(0,u.md)(M.F.stageDimensions),{aspectRatio:tx,dimensions:tk}=(0,Q.z)(eD),tC=(0,v.useMemo)(()=>!!(tl===W.mJ.Off&&(0,G.PS)((0,i.getFirstNonEmptyStep)(eD.steps))),[tl,eD.steps]),tE=(0,v.useRef)(!1);(0,v.useEffect)(()=>{tE.current&&(tE.current=!1)},[eD.id]);let tj=(0,v.useCallback)(e=>{let{isInitialStep:t,fromStepId:n}=e;if(!(null==eW?void 0:eW.id))return;let l=eW.id,r=!tf.current&&(!t||tE.current)&&!th.current;eV.report("Step Reached",{stepId:l,fromStepId:null!=n?n:null,isInitialStep:t,isFinalStep:e8,fromStepActiveTimeMs:tv.stepActiveTimeMs,totalActiveTimeMs:tv.totalActiveTimeMs,...r?{firstViewed:!0}:{},...tE.current&&t?{wasManuallyPlayed:!0}:{}}),r&&(th.current=!0),tv.newStep()},[null==eW?void 0:eW.id,e8,eV,tv]);(0,v.useEffect)(()=>{let e=tC&&!eU;(null==eW?void 0:eW.id)&&eW.id!==eU&&!e&&tj({isInitialStep:!eU,fromStepId:eU})},[tj,null==eW?void 0:eW.id,eU,tC]),(0,v.useEffect)(()=>{e5&&e7&&tC&&!tE.current&&(tE.current=!0,tj({isInitialStep:!0,fromStepId:null}))},[e5,e7,tj,tC]);let{buttonBgColor:tS,buttonFgColor:tN}=(0,v.useMemo)(()=>(0,ed.J)(eD,eF),[eD,eF]),tO=(0,v.useCallback)(e=>(window.open((null==N?void 0:N.link)||"https://arcade.software",(null==N?void 0:N.openInTheSameTab)?"_parent":"_blank"),(null==N?void 0:N.link)&&(null==N?void 0:N.openInTheSameTab)&&(window.parent.location=(null==N?void 0:N.link)||"https://arcade.software"),eV.report("Powered by Arcade Button Clicked",(null==N?void 0:N.link)?{url:null==N?void 0:N.link,expanded:e}:{expanded:e}),!0),[eV,N]),tM=(0,v.useCallback)(()=>{eV.report("Discovered Arcade Button",{})},[eV]),tA=(0,v.useCallback)(()=>{eV.report("Closed Arcade Button",{})},[eV]);(0,v.useEffect)(()=>(window.onbeforeunload=()=>{eV.report("Page Unloaded",{totalActiveTimeMs:tv.totalActiveTimeMs})},()=>{window.onbeforeunload=null}),[eV,tv]);let t_=(A||eM)&&!(eY&&ez),tT=tw.layout!==s.ViewerLayout.Default,[tF,tL]=(0,v.useState)(!1);(0,v.useEffect)(()=>{t_&&_&&e8&&!e7&&!tT&&tL(!0),tT&&tL(!1)},[t_,_,e8,tT,e7]);let tP=(0,v.useCallback)(()=>{if(!(0,i.isNonEmptyStep)(eW))return;let e=tu.status===Z._s.Paused;e4(),eV.report(e?"Step Played":"Step Paused",{stepId:eW.id,stepType:eW.type,isMobile:(0,y.YO)(),hasSyntheticVoice:!!eW.syntheticVoice,hasBackgroundMusic:!!eD.backgroundMusicUrl,mechanism:"fullscreen"}),e?(td.play(),ta(e=>e===X.C.Unset?X.C.On:e,!1)):td.pause()},[eW,eD.backgroundMusicUrl,e4,eV,td,tu.status,ta]),tR=!e$,tI=!!(null==eu?void 0:eu.popoutActive),tB=null==eu?void 0:eu.popoutUrl,tD=(0,v.useMemo)(()=>{var e;return null!=(e=null==eu?void 0:eu.onPopoutOpen)?e:()=>void 0},[null==eu?void 0:eu.onPopoutOpen]),tV=(0,v.useMemo)(()=>{var e;return null!=(e=null==eu?void 0:eu.onPopoutClose)?e:()=>void 0},[null==eu?void 0:eu.onPopoutClose]),tW=(0,R.T)(),{ref:tU}=function(e){var t;let{flow:n,view:l,supports:r,isMobileRecording:o}=e,[a,i]=(0,u.fp)(M.F.stageDimensions),d=(0,u.md)(M.F.isPreviewMobile),c=(0,u.md)(M.F.isFullscreen),p=(0,v.useRef)(a.layout);p.current=a.layout;let m=(0,v.useCallback)(e=>{var t,a,u,m;if(void 0===e.height||void 0===e.width)return;let f=o?(0,eo.SC)({mobileLayout:null!=(t=n.mobileLayout)?t:"wide",flowWrapper:null!=(a=n.flowWrapper)?a:s.FlowWrapper.none,aspectRatio:n.aspectRatio,availHeight:e.height,availWidth:e.width}):n.aspectRatio,h=!1;try{h=(0,y.YO)()&&!!window.screen.orientation.type.includes("landscape")}catch(e){}let v=r.popoutOnDesktop&&!l.popoutActive,g=r.mobile&&r.popoutOnMobile&&!l.popoutActive,b=!c&&l.shareActive,w=!c&&l.popoutActive,x={width:e.width,height:e.height};p.current===s.ViewerLayout.MobileExpanded&&b&&(x=(0,eo.ng)(x,{previewActive:l.previewActive,previewEditingActive:l.previewEditingActive,isPreviewMobile:d},!1)),w&&(x=(0,eo.i6)(x)),b&&(x=(null==(u=n.sharePageLayout)?void 0:u.type)==="sidebar"?(0,eo.us)(x):(0,eo.Il)(x)),v||(x=(0,eo.QG)(x,{hasBackground:n.hasBackground,hasWrapper:n.hasWrapper}));let k=(0,eo.oC)(x,f),C=(0,eo.oF)(x,f),E=(()=>{var e;if(o&&"fit"===n.mobileLayout)return x.width>=z.Dy;let t=(null==(e=n.sharePageLayout)?void 0:e.type)==="sidebar"?320:z.Dy;return C.width>=t})(),j=r.mobile&&r.expandOnMobile&&(h||!k&&!(o&&"fit"===n.mobileLayout));return E||j||!r.mobile?void i({...C,layout:v?s.ViewerLayout.Overlay:s.ViewerLayout.Default}):r.expandOnMobile?(x={width:e.width,height:e.height},p.current!==s.ViewerLayout.MobileExpanded&&b&&(x=(0,eo.ng)(x,{previewActive:l.previewActive,previewEditingActive:l.previewEditingActive,isPreviewMobile:d},!0)),o&&(x=(0,eo.o7)(x)),x=(0,eo.M0)(x),o&&(null!=(m=n.mobileLayout)?m:"wide")==="wide")?void i({width:x.width,height:x.height,layout:s.ViewerLayout.MobileExpanded}):void i({...(0,eo.oF)(x,f),layout:s.ViewerLayout.MobileExpanded}):void(x={width:e.width,height:e.height},w&&(x=(0,eo.i6)(x)),b&&(x=(0,eo.Il)(x)),g||(x=(0,eo.ah)(x)),i({...(0,eo.oF)(x,f),layout:g?s.ViewerLayout.Overlay:s.ViewerLayout.MobileInline}))},[c,d,n.aspectRatio,n.hasBackground,n.hasWrapper,n.mobileLayout,n.flowWrapper,null==(t=n.sharePageLayout)?void 0:t.type,l.popoutActive,l.shareActive,l.previewActive,l.previewEditingActive,r.mobile,r.expandOnMobile,r.popoutOnMobile,r.popoutOnDesktop,i,o]),{ref:f}=(0,ea.w)({fireOnMount:!0,onResize:m});return{ref:f}}({flow:{aspectRatio:tx,hasWrapper:eH,hasBackground:!!tb,sharePageLayout:null!=(p=eD.sharePageLayout)?p:z.hx,mobileLayout:null!=(m=eD.mobileLayout)?m:"wide",flowWrapper:null!=(f=eD.flowWrapper)?f:s.FlowWrapper.none},view:{popoutActive:tI,shareActive:tR,previewActive:eP,previewEditingActive:eR},supports:{mobile:!1!==eD.optimizeFlowForMobileView&&!ek&&!eY,expandOnMobile:(tI||en)&&(tx<=z.p4||tW)&&!ez,popoutOnMobile:el!==s.EmbedOption.Inline,popoutOnDesktop:es!==s.EmbedOption.Inline},isMobileRecording:tW}),[tH,tG]=(0,v.useState)(!1),tz=(0,u.md)(M.F.hotspotCursorMoving),tq=(0,i.isVideoStep)(eW),tY=tz||tq;(0,v.useEffect)(()=>{tY&&tG(!0);let e=()=>tG(!1);return window.addEventListener("mousemove",e,{once:!0}),()=>{window.removeEventListener("mousemove",e)}},[tY]);let tJ=(0,u.Xr)(M.F.previewLanguage),tZ=(0,y.cl)(ep);(0,v.useEffect)(()=>{var e,t,n,l;if(tZ&&!eB)return;let r=eB||(null==(t=navigator)||null==(e=t.language)?void 0:e.split("-")[0]);tJ((null==(l=eD.translations)||null==(n=l[r])?void 0:n.strings)?r:"default")},[eD.translations,tZ,tJ,eB]);let t$=!!tb&&!eJ&&(tw.layout===s.ViewerLayout.Default||tw.layout===s.ViewerLayout.MobileInline)&&!tW,tX=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eI.Jv,{value:eD.font,workspaceId:(null==et?void 0:et.workspaceId)||""}),tH?(0,r.jsx)(a(),{id:"8e180e7909db700",children:".flow-cursor-arcade,.flow-cursor-mobile,.cursor-default,.cursor-pointer{cursor:none!important}"}):null,(0,r.jsxs)("div",{className:(0,i.cn)("w-full flex items-center justify-center font-sans",{"bg-transparent":t$,"bg-black":ez,"flow-cursor-arcade":eD.customCursor===s.CustomCursor.arcade,"flow-cursor-mobile":eD.customCursor===s.CustomCursor.mobile}),ref:e3,children:[t$&&(0,r.jsx)(S.A,{className:(0,i.cn)("select-none absolute top-0 left-0 transform-gpu transition-opacity duration-1000",{"opacity-0":0===tx,"opacity-100":tx>0,"rounded-2xl":!eT}),src:(0,y.kU)(tb),alt:"background",layout:"fill",objectPosition:"0 0",objectFit:"cover",placeholder:"blur",forceJpeg:!0,blurDataURL:(null==(n=eD.bgImage)?void 0:n.blurhash)&&"undefined"!=typeof document?(0,y.S5)(eD.bgImage.blurhash,100,100*eD.aspectRatio):z.OU,priority:!0}),(0,r.jsxs)(j.I,{title:null!=(h=eD.externalName)?h:eD.name,wrapperType:tg,backgroundShown:t$,copyLink:ts,soundSetting:tr,autoplayStatus:tl,disableFullscreen:eg,isCaptionOn:to,updateSound:ta,toggleCaptions:ti,hasArcadeEnded:tn,navigationElementWithSound:tp,showCopyLink:e_,noRoundedCorners:eT&&!t$,isShareLayout:tR,previewContext:ep,...tc,children:[tw.layout===s.ViewerLayout.Overlay?(0,r.jsx)(ej,{onPopout:tD,popoutUrl:tB,themeColors:eF}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(T,{className:"w-full h-full",shouldRender:!!ty,buttonText:eD.startOverlayButtonText,buttonBgColor:tS,buttonFgColor:tN,onRendered:e=>{eV.report("Start Overlay Rendered",{buttonText:e})},onDismissed:()=>{eV.report("Start Overlay Dismissed",{})},noRoundedCorners:eT,children:(0,r.jsx)(E.A,{flow:eD,disableCTA:eE||tw.layout===s.ViewerLayout.MobileExpanded,disableNavigation:eC,isWatermarkDisplayed:t_,disableTracking:!!(null==k?void 0:k["Do Not Track"]),inEditMode:!1,previewContext:ep,onClickStage:tP,flowDimensions:tk,magicCursor:ec,themeColors:eF,...tc,...e6})}),(0,r.jsx)(em,{unifiedState:tu,soundSetting:tr,hasArcadeEnded:tn,previewContext:ep,frameVisibility:tm}),ep===w.oJ.Embed&&(0,r.jsx)(F.f,{})]}),(0,r.jsxs)("div",{className:"w-full h-0 absolute left-0 bottom-0",children:[eD.showCaptions&&(0,r.jsx)(C,{enabled:to,unifiedState:tu,lifted:eq,stepCaptions:eW&&"captions"in eW&&!eW.muted?eW.captions:void 0,syntheticVoice:(0,i.isNonEmptyStep)(eW)?eW.syntheticVoice:void 0,cameraRecording:(0,i.isNonEmptyStep)(eW)?eW.cameraRecording:void 0}),tw.layout===s.ViewerLayout.MobileInline&&(0,r.jsx)(ex,{hotspot:(0,i.isMediaStep)(eW)?eW.hotspots?eW.hotspots[0]:{label:""}:(0,i.isOverlayStep)(eW)?(0,i.isOverlayStepWithPaths)(eW)?{label:"",bgColor:null==(l=eW.paths[0])?void 0:l.buttonColor,textColor:(null==(o=eW.paths[0])?void 0:o.buttonColor)?(0,y.hB)(null==(c=eW.paths[0])?void 0:c.buttonColor):void 0}:(0,i.isOverlayStepWithoutPaths)(eW)?{label:"",bgColor:eW.buttonColor,textColor:eW.buttonColor?(0,y.hB)(eW.buttonColor):void 0}:void 0:void 0,showPlay:"ALL"===tp,themeColors:eF,...tc}),tw.layout===s.ViewerLayout.Default&&(0,r.jsx)(tt,{flow:eD,inEditMode:!1,navToStep:tc.navToStepClick}),(0,r.jsx)(b.t,{shouldDisplay:t_,onClick:tO,onMouseEnter:tM,customProps:N,expanded:tF,onClose:tA})]})]})]})]}),tK=ez?(0,r.jsx)("div",{className:"absolute top-0 left-0 w-full h-full flex",children:tX}):tw.layout===s.ViewerLayout.MobileExpanded?(0,r.jsx)(eL,{viewerControlsProps:e6,previewContext:ep,hasNavSteps:!eC||(0,ei.OO)(eD.showFlowNavIndicator)!==s.FlowNavSetting.Off,children:tX}):tR?(0,r.jsx)("div",{className:(0,i.cn)("absolute top-0 left-0 h-full w-full flex flex-col",{"justify-center":!eD.sharePageLayout.showHeader,"flex-row gap-8 xl:gap-12 justify-center items-center px-8 xl:px-20":"sidebar"===eD.sharePageLayout.type}),children:(0,r.jsx)(te,{title:Y,description:ee,backgroundShown:t$,wrapperType:tg,sharePageLayout:null!=(x=eD.sharePageLayout)?x:z.hx,flow:eD,team:et,children:tX})}):(0,r.jsx)("div",{className:"absolute top-0 left-0 w-full h-full flex",children:tX}),tQ=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"absolute top-0 left-0 w-full h-full pointer-events-none opacity-0",ref:tU}),!tI||ez?tK:(0,r.jsx)(eN,{title:(0,B.yw)(eD,eG),onPopoutClose:tV,children:tK})]});return eJ?(0,r.jsxs)(e9,{children:[(0,r.jsx)(eO.A,{linkToWebsite:!0,flow:eD,team:et,isPreviewOrSharePage:!0}),(0,r.jsx)("div",{className:"flex-1 w-full relative overflow-scroll",children:tQ})]}):tQ}function tr(e){var t,l,r,o,a,i,u,d,c,p,m,f,g,b,w,x,k,C,E,j,S,N,O,M,A,_,T,F,P,R,B,D,V,W,U,H;let{sessionId:G,integrations:z,features:q}=e,Y=(0,h.useRouter)(),J=(0,L.qM)(),{customLink:Z,customValues:$}=(0,v.useContext)(I.c),X=(0,v.useMemo)(()=>Y.isReady?Y.query:(0,y.fD)(window.location.search),[Y.isReady,Y.query]),K=(0,v.useMemo)(()=>{var e,t,n,l,r,o,a,i,u,d,c;let p="embed"in X,m=p&&"embed_custom"in X;function f(e){var t,n;if(m)return s.EmbedOption.PopoutModal;if(!p||!e)return s.EmbedOption.Inline;let l=null==(t=Array.isArray(e)?null!=(n=e[0])?n:"":e)?void 0:t.toLocaleLowerCase();return Array.from(Object.values(s.EmbedOption)).includes(l)?l:s.EmbedOption.Inline}return{queryBgUrl:null!=(e=X.bg)?e:"",forcePublishToHost:"true"===X.force_publish_to_host,forceNoStartOverlay:"true"===X.force_no_start_overlay,forceNoCta:"true"===X.force_no_cta,forceNoWrapper:"true"===X.force_no_wrapper,forceWrapperTheme:null!=(t=X.force_wrapper_theme)?t:"",forceNoBackground:"true"===X.force_no_background,forceNoFullscreen:"true"===X.force_no_fullscreen,forceNoNavigation:"true"===X.force_no_nav,forceWatermark:"true"===X.force_watermark,forceEmbed:p,forceNoMobileView:"true"===X.force_no_mobile_view,embedMobile:f(X.embed_mobile),embedDesktop:f(X.embed_desktop),userId:null!=(n=X.user_id)?n:"",amplitudeApiKey:null!=(l=X.amplitude_api_key)?l:"",measurementId:null!=(r=X.measurement_id)?r:"",containerId:null!=(o=X.container_id)?o:"",mixpanelToken:null!=(a=X.mixpanel_token)?a:"",writeKey:null!=(i=X.write_key)?i:"",intercomAppId:null!=(u=X.intercom_app_id)?u:"",portalId:null!=(d=X.portal_id)?d:"",showCopyLink:"true"===X.show_copy_link,noRoundedCorners:"true"===X.squared,inAppEmbed:"true"===X.in_app_embed,language:null!=(c=X.language)?c:"",consoleEvents:"true"==X.console_events,requireCookieConsent:"true"===X.require_cookie_consent}},[X]),{measurementId:Q,mixpanelToken:ee,amplitudeApiKey:et,portalId:en,intercomAppId:el,containerId:er,writeKey:eo,userId:ea,forcePublishToHost:ei,inAppEmbed:es}=K,ed=(0,y.R3)(X),ec=!!(null==q?void 0:q[s.Feature.DoNotTrack])||K.requireCookieConsent,ep=(0,eu.K)("Viewer",{sessionId:G,flowId:J.id,flowName:J.externalName||J.name,flowGroup:null!=(_=J.teamId)?_:"",pageWidth:y.Bd?window.innerWidth:0,pageHeight:y.Bd?window.innerHeight:0,customLinkId:null!=(T=null==Z?void 0:Z.id)?T:null,hasCustomValues:!!Object.keys($).length,language:y.Bd?navigator.language:null,flowHasTranslation:y.Bd?null!=(t=J.translations)&&!!t[(null!=(F=navigator.language)?F:"").split("-")[0]]:null},ed,{shouldPublishToHost:ei||(null==q?void 0:q[s.Feature.PublishEventsToHost]),shouldAnonymizeIP:null==q?void 0:q[s.Feature.DisableIPTracking],doNotTrack:J.status!==s.PublishStatus.published||ec||es});return!function(e){let{config:t,userId:l,shouldAnonymizeIP:r,doNotTrack:o}=e;(0,v.useEffect)(()=>{0===t.targets.filter(e=>!!e.key).length||window.__arcadeTracker||(async()=>{let e=(await n.e(3288).then(n.bind(n,3288))).default,a=[(0,(await n.e(7742).then(n.bind(n,57742))).default)()];for(let e of t.targets)if(e.key)switch(e.name){case"Amplitude":{var i,s,u,d,c,p;let t=null==(s=e.key)||null==(i=s.split("__"))?void 0:i[0],l=(null==(c=e.key)||null==(d=c.split("__"))||null==(u=d[1])?void 0:u.toLowerCase())==="eu"?"EU":"US",m=(await n.e(6498).then(n.bind(n,76498))).default;a.push(m({apiKey:t,options:{identityStorage:"localStorage",defaultTracking:{sessions:!1,pageViews:!1,formInteractions:!1,fileDownloads:!1},optOut:!!o||(null==(p=navigator)?void 0:p.doNotTrack)==="1",trackingOptions:{ipAddress:!r},serverZone:l}}));break}case"Google Analytics":a.push((await n.e(3782).then(n.bind(n,23782))).default({measurementIds:[e.key],gtagConfig:{anonymize_ip:r}}));break;case"Google Tag Manager":a.push((await n.e(264).then(n.bind(n,80264))).default({containerId:e.key}));break;case"HubSpot":a.push((await n.e(8862).then(n.bind(n,28862))).default({portalId:e.key}));break;case"Intercom":a.push((await n.e(9920).then(n.bind(n,99920))).default({appId:e.key,disableAnonymousTraffic:!1,alignment:"right"}));break;case"Mixpanel":a.push((await n.e(1576).then(n.bind(n,21576))).default({token:e.key}));break;case"Posthog":a.push((await n.e(9114).then(n.bind(n,76733))).default({token:e.key,enabled:!0,options:{}}));break;case"Segment":a.push((await n.e(2722).then(n.bind(n,62722))).default({writeKey:e.key}));break;case"Console":a.push({name:"console-logger",track:e=>{let{payload:t}=e;console.log("\uD83D\uDD0D Analytics Event:",{event:t.event,properties:t.properties,timestamp:new Date().toISOString()})},identify:e=>{let{payload:t}=e;console.log("\uD83D\uDC64 User Identified:",{userId:t.userId,traits:t.traits,timestamp:new Date().toISOString()})},page:e=>{let{payload:t}=e;console.log("\uD83D\uDCC4 Page View:",{properties:t.properties,timestamp:new Date().toISOString()})}})}let m=e({app:"arcade",plugins:a});m.ready(()=>{!window.__arcadeTracker&&(window.__arcadeTracker=m,l&&window.__arcadeTracker.identify(l))})})()},[t,o,r,l])}({config:{targets:[{name:"Amplitude",key:(et||(null==z||null==(l=z.amplitude)?void 0:l.enabled))&&null!=(P=null==z||null==(o=z.amplitude)||null==(r=o.config)?void 0:r.amplitude_api_key)?P:""},{name:"Google Analytics",key:(Q||(null==z||null==(a=z["google-analytics"])?void 0:a.enabled))&&null!=(R=null==z||null==(u=z["google-analytics"])||null==(i=u.config)?void 0:i.measurement_id)?R:""},{name:"Google Tag Manager",key:(er||(null==z||null==(d=z["google-tag-manager"])?void 0:d.enabled))&&null!=(B=null==z||null==(p=z["google-tag-manager"])||null==(c=p.config)?void 0:c.container_id)?B:""},{name:"HubSpot",key:(en||(null==z||null==(m=z["hubspot-analytics"])?void 0:m.enabled))&&null!=(D=null==z||null==(g=z["hubspot-analytics"])||null==(f=g.config)?void 0:f.portal_id)?D:""},{name:"Intercom",key:(el||(null==z||null==(b=z.intercom)?void 0:b.enabled))&&null!=(V=null==z||null==(x=z.intercom)||null==(w=x.config)?void 0:w.intercom_app_id)?V:""},{name:"Mixpanel",key:(ee||(null==z||null==(k=z.mixpanel)?void 0:k.enabled))&&null!=(W=null==z||null==(E=z.mixpanel)||null==(C=E.config)?void 0:C.mixpanel_token)?W:""},{name:"Posthog",key:(null==z||null==(j=z.posthog)?void 0:j.enabled)&&null!=(U=null==z||null==(N=z.posthog)||null==(S=N.config)?void 0:S.project_api_key)?U:""},{name:"Segment",key:(eo||(null==z||null==(O=z.segment)?void 0:O.enabled))&&null!=(H=null==z||null==(A=z.segment)||null==(M=A.config)?void 0:M.write_key)?H:""},{name:"Console",key:K.consoleEvents&&"1"||""}]},userId:ea,shouldAnonymizeIP:!!(null==q?void 0:q[s.Feature.DisableIPTracking]),doNotTrack:ec}),{tracker:ep,queryParams:K}}},56708:(e,t,n)=>{n.d(t,{A:()=>ef});var l=n(6029),r=n(80411),o=n(86747),a=n(67549),i=n(71024),s=n.n(i),u=n(55729),d=n(42063),c=n(72614),p=n(5664),m=n(6625),f=n(82092),h=n(60505),v=n(8467),g=n(97554),b=n.n(g),y=n(53271),w=n(96233),x=n(8393),k=n(65588),C=n(35090),E=n(40614),j=n(4550),S=n(27680),N=n(99151),O=n(66810),M=n(12271),A=n(74346),_=n(74194),T=n(69702),F=n(58578),L=n(10471),P=n(36424),R=n(78388),I=n(83526);let B=s()(()=>Promise.all([n.e(3556),n.e(6844)]).then(n.bind(n,76844)),{loadableGenerated:{webpack:()=>[76844]}}),D=s()(()=>n.e(2389).then(n.bind(n,52389)),{loadableGenerated:{webpack:()=>[52389]}}),V=s()(()=>Promise.all([n.e(3556),n.e(4297)]).then(n.bind(n,24297)),{loadableGenerated:{webpack:()=>[24297]}}),W=s()(()=>Promise.resolve().then(n.bind(n,34604)),{loadableGenerated:{webpack:()=>[34604]}}),U=s()(()=>n.e(7384).then(n.bind(n,7384)),{loadableGenerated:{webpack:()=>[7384]}}),H=s()(()=>n.e(3764).then(n.bind(n,63764)),{loadableGenerated:{webpack:()=>[63764]}}),G=u.memo(function(e){let{inEditMode:t,isZoomActive:n,hotspotAreaRef:i,panAndZoomHotspotsRef:s,panAndZoomCursorRef:c,hotspotTippyRef:p,unifiedState:v}=e,g=(0,h.S)(),b=(0,h.S)().layout!==o.ViewerLayout.Default,y=(0,a.md)(w.F.viewerDemoMode),x=(0,m.T)(),k=(0,L.qM)(),C=(0,d._8)(),E=(0,d.Bq)(),{hotspots:j,animateFrom:S,cursor:N}=(0,T.useHotspotAnimations)(C,E,{enabled:!t,cursorEnabled:!t&&e.autoplayStatus!==P.mJ.Off}),O=(0,R.v)(v),A=(0,u.useMemo)(()=>y&&j.length>0&&!j.some(e=>{var t;return e.targetId!==(null==(t=j[0])?void 0:t.targetId)}),[y,j]);return g.width?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{ref:s,className:(0,r.cn)("".concat(I.Tw," relative select-none flex w-full h-full overflow-hidden"),{"cursor-pointer":A}),onClick:A?()=>!e.inEditMode&&e.onHotspotClick(j[0]):void 0,onDoubleClick:n=>{if(!t||!i.current)return;let l=i.current.getBoundingClientRect();if(!l)return;let{x:r,y:o}=(0,f.Af)(n.clientX,n.clientY,g,{top:l.top,left:l.left}),a={x:(0,f.FF)(r,g),y:(0,f.ki)(o,g)};O.enabled?e.splitVideo(O.time,O.duration,a):e.addHotspot({coords:a})},onContextMenu:async e=>{let n=e.target;(0,r.isImageStep)(C)&&t&&n.classList.contains(I.Tw)&&(e.preventDefault(),await (0,f.Fr)(C.url)&&F.Ay.success("Image copied to clipboard"))},children:j.map((r,o)=>{var a,s,d,c,m,f,h,v;let y=null!=(c=null==(a=S[o])?void 0:a.key)?c:r.id,w={callout:r,hotspotAreaRef:i,displayAsCaption:b&&!x,isZoomActive:n,hotspotTippyRef:p,animateFrom:null!=(m=null==(s=S[o])?void 0:s.hotspot)?m:null,animateDelay:.55*!!N,maxWidth:x&&(null!=(f=k.mobileLayout)?f:"wide")==="wide"?g.width:void 0},C={hotspot:r,displayAsCaption:b&&!x,hotspotAreaRef:i,isZoomActive:n,hotspotTippyRef:p,animateFrom:null!=(h=null==(d=S[o])?void 0:d.hotspot)?h:null,animateDelay:.55*!!N,maxWidth:x&&(null!=(v=k.mobileLayout)?v:"wide")==="wide"?g.width:void 0};return"area"===r.style?t?(0,l.jsx)(U,{...C,inEditMode:!0,updateHotspot:e.updateHotspot,deleteHotspot:e.deleteHotspot,setGridPos:e.setGridPos,readOnlyMode:e.readOnlyMode}):(0,l.jsx)(U,{...C,inEditMode:!1,navigationElementWithSound:e.navigationElementWithSound,enterNavigationElement:e.enterNavigationElement,leaveNavigationElement:e.leaveNavigationElement,onHotspotClick:e.onHotspotClick}):"callout"!==r.style||r.calloutArrowDirection&&"none"!==r.calloutArrowDirection?t?(0,u.createElement)(V,{...C,key:y,inEditMode:t,updateHotspot:e.updateHotspot,deleteHotspot:e.deleteHotspot,setGridPos:e.setGridPos,readOnlyMode:e.readOnlyMode}):(0,u.createElement)(W,{...C,key:y,inEditMode:t,navigationElementWithSound:e.navigationElementWithSound,enterNavigationElement:e.enterNavigationElement,leaveNavigationElement:e.leaveNavigationElement,onHotspotClick:e.onHotspotClick}):t?(0,u.createElement)(B,{...w,key:y,inEditMode:t,updateCallout:e.updateHotspot,deleteCallout:e.deleteHotspot,setGridPos:e.setGridPos,readOnlyMode:e.readOnlyMode}):(0,u.createElement)(D,{...w,key:y,inEditMode:t,navigationElementWithSound:e.navigationElementWithSound,enterNavigationElement:e.enterNavigationElement,leaveNavigationElement:e.leaveNavigationElement,onCalloutClick:e.onHotspotClick})})}),N&&!t?(0,l.jsx)("div",{className:(0,r.cn)("pointer-events-none select-none absolute top-0 left-0"),style:(0,M.O_)(M.Py.MagicCursor),ref:c,children:(0,l.jsx)(H,{...N,animateDuration:.75,stepDuration:e.stepDuration})}):null]}):null});var z=n(52996),q=n(9482),Y=n(3392),J=n(82412),Z=n(8420),$=n(18363),X=n(87750),K=n(15631);let Q=(e,t)=>{switch(null!=e?e:t?"right":"center"){case"left":return{x:-.2,y:0};case"right":return{x:.2,y:0};case"center":default:return{x:0,y:0};case"top":return{x:0,y:.2};case"bottom":return{x:0,y:-.2}}},ee=(e,t)=>{let n=(t.x-e.x)*100,l=(t.y-e.y)*100;return{x:"".concat(-n,"%"),y:"".concat(-l,"%")}},et=e=>{var t,n;let{flow:i,step:s,hotspotAreaRef:c,children:p,hotspotAreaDimensions:m,hotspotsArea:f,editMode:h,onEditMobileFrame:v,onMobileButtonClick:g}=e,b=(0,a.md)(w.F.noRoundedCorners),{fontFamily:y,customValues:x}=(0,u.useContext)(K.c),k=(0,d.Bq)(),C=null!=(t=s.mobileMediaAlignment)?t:s.description?"right":"center",E=Q(s.mobileMediaAlignment,!!s.description),j=()=>({className:(0,r.cn)("w-1/2",{"w-full":"top"===C||"bottom"===C||"center"===C}),style:{..."bottom"===s.mobileMediaAlignment?{position:"absolute",top:"-".concat(q.SCREEN_OFFSET,"px")}:{},..."top"===s.mobileMediaAlignment?{position:"absolute",bottom:"-".concat(q.SCREEN_OFFSET,"px")}:{}}}),S=k&&(0,r.isMediaStep)(k)?Q(k.mobileMediaAlignment,!!k.description):null,N=!h&&!!(0,r.isMediaStep)(k)&&"fit"!==i.mobileLayout&&m.layout!==o.ViewerLayout.MobileExpanded&&k.mobileMediaAlignment!==s.mobileMediaAlignment,O=N&&S?ee(S,E):{x:"0%",y:"0%"},M=(0,l.jsx)("div",{style:{height:m.height},className:(0,r.cn)("absolute left-0 w-full h-full",{"top-0":"top"===C,"bottom-0":"bottom"===C}),children:f}),_=(()=>{var e,t,n,a,u,d;switch(i.flowWrapper){case o.FlowWrapper.mobileDark:return(0,l.jsxs)(q.MobileFrame,{hotspotAreaRef:c,width:m.width,height:m.height,mobileMediaAlignment:(null!=(e=i.mobileLayout)?e:"wide")==="wide"?C:void 0,layout:m.layout,mobileLayout:null!=(t=i.mobileLayout)?t:"wide",chapterStep:!0,className:(0,r.cn)("",{"!mb-0":!(null==s?void 0:s.description)&&m.layout===o.ViewerLayout.MobileExpanded}),children:[p,M]});case o.FlowWrapper.none:return(0,l.jsxs)(q.EmptyMobileFrame,{hotspotAreaRef:c,width:m.width,height:m.height,mobileMediaAlignment:(null!=(n=i.mobileLayout)?n:"wide")==="wide"?C:void 0,layout:m.layout,mobileLayout:null!=(a=i.mobileLayout)?a:"wide",chapterStep:!0,noRoundedCorners:"fit"===i.mobileLayout&&m.layout===o.ViewerLayout.MobileInline||b,children:[p,M]});default:return(0,l.jsxs)(q.MobileFrame,{hotspotAreaRef:c,width:m.width,height:m.height,mobileMediaAlignment:(null!=(u=i.mobileLayout)?u:"wide")==="wide"?C:void 0,layout:m.layout,mobileLayout:null!=(d=i.mobileLayout)?d:"wide",chapterStep:!0,className:(0,r.cn)("",{"!mb-0":!(null==s?void 0:s.description)&&m.layout===o.ViewerLayout.MobileExpanded}),children:[p,M]})}})();return"fit"===i.mobileLayout?_:m.layout===o.ViewerLayout.MobileExpanded?(0,l.jsxs)("div",{className:"w-full h-full flex items-center flex-col overflow-auto",style:{zIndex:1},children:[(0,l.jsx)("div",{className:(0,r.cn)("w-full flex items-center justify-center",{"pt-14":null==s?void 0:s.description,"my-auto":!(null==s?void 0:s.description)}),children:_}),(null==s?void 0:s.description)&&(0,l.jsx)("div",{className:"fixed bottom-0 w-full bg-gradient-to-b from-transparent via-white/95 to-white my-auto font-medium text-sm text-center",children:(0,l.jsx)("div",{className:"w-full flex items-center justify-center p-6 pt-16",children:null==s?void 0:s.description})})]}):(0,l.jsxs)("div",{className:(0,r.cn)("w-full h-full flex items-center",{"justify-between":!C||"right"===C||"left"===C||"center"===C,"flex-row":"right"===C,"flex-row-reverse":"left"===C,"flex-col items-center justify-start":"top"===C||"bottom"===C,"flex-col-reverse":"bottom"===C}),children:[(0,l.jsxs)("div",{className:(0,r.cn)("flex flex-col gap-6 w-1/2 px-10 lg:px-14 xl:px-18",{"h-56 items-center text-center w-full max-w-[75%] px-0 lg:px-0 shrink-0 justify-center":"top"===C||"bottom"===C,"opacity-0 invisible":!(null==s?void 0:s.description),hidden:"center"===C}),children:[(0,l.jsx)("div",{className:(0,r.cn)("font-medium base-font-size",{"line-clamp-3":"top"===C||"bottom"===C,"cursor-pointer hover:opacity-70 transition-opacity":h&&v}),style:{color:null==s?void 0:s.textColor,fontFamily:y},onClick:()=>{h&&v&&v()},children:(0,l.jsx)(z.default,{markdown:(0,r.withCustomVariables)(null!=(n=null==s?void 0:s.description)?n:"",i.customVariables,x)})}),(null==s?void 0:s.description)&&s.mobileButton&&(0,l.jsx)(A.$n,{buttonType:A.EY.primary,className:"flex items-center gap-2 w-14 h-9 hover:opacity-70 transition-opacity",onClick:()=>{if(h){null==v||v();return}if(s.mobileButton&&g)try{null==g||g(s.mobileButton.targetId?{targetId:s.mobileButton.targetId}:void 0)}catch(e){console.error(e)}},style:{backgroundColor:s.mobileButton.color,borderColor:s.mobileButton.color},children:(0,l.jsx)(X.A,{className:"w-5 h-5 shrink-0"})})]}),N?(0,l.jsx)(Y.F,{features:J.l,children:(0,l.jsx)(Z.N,{mode:"wait",children:(0,l.jsx)($.m.div,{initial:{x:O.x,y:O.y},animate:{x:"0%",y:"0%"},transition:{type:"spring",stiffness:320,damping:30},...j(),children:_},s.id)})}):(0,l.jsx)("div",{...j(),children:_})]})};var en=n(12028),el=n(75275),er=n(88928),eo=n(12453),ea=n(31937);function ei(e){var t,n;let{magicCursor:a,inEditMode:i,registerSource:s}=e,{customCursor:c}=(0,L.qM)(),p=(0,d._8)(),m=(0,r.isVideoStep)(p),f=m?p.id:void 0,h=m?p.assetId:void 0,v=m?null!=(t=p.startTimeFrac)?t:0:void 0,g=m?null!=(n=p.endTimeFrac)?n:1:void 0,b=(0,u.useMemo)(()=>{if(!f||!a)return;let e=i?a.path:(0,r.getCursorPathForStep)(a,{assetId:h,startTimeFrac:v,endTimeFrac:g});if(e)return t=>{let n=t?new ea.WY(e,e=>e.time,e=>{t.style.top="".concat(100*e.y,"%"),t.style.left="".concat(100*e.x,"%"),t.style.transform="rotate(".concat(e.rotation,"deg)")}):null;s(S.W_.ActiveMagicCursor,n)}},[s,i,a,f,v,g,h]);return b?(0,l.jsx)("div",{className:(0,r.cn)("pointer-events-none select-none absolute top-0 left-0 magic-cursor transform-gpu"),ref:b,style:(0,M.O_)(M.Py.MagicCursor),children:c===o.CustomCursor.arcade?(0,l.jsx)(el.A,{className:"absolute w-[1.75em] -top-[0.15em] -left-[0.155em]"}):c===o.CustomCursor.mobile?(0,l.jsx)(eo.A,{className:"absolute w-[1.75em] -top-[0.15em] -left-[0.155em]"}):(0,l.jsx)(er.A,{className:"absolute w-[1.75em] -top-[0.15em] -left-[0.155em]"})}):null}let es=s()(()=>Promise.all([n.e(3771),n.e(3820)]).then(n.bind(n,63820)),{loadableGenerated:{webpack:()=>[63820]}}),eu=s()(()=>Promise.all([n.e(1078),n.e(2550),n.e(8826),n.e(9285)]).then(n.bind(n,38826)),{loadableGenerated:{webpack:()=>[38826]}}),ed=s()(()=>Promise.all([n.e(7963),n.e(748),n.e(9127)]).then(n.bind(n,39127)),{loadableGenerated:{webpack:()=>[39127]}}),ec=s()(()=>Promise.all([n.e(1078),n.e(8221),n.e(2244),n.e(1724)]).then(n.bind(n,71724)),{loadableGenerated:{webpack:()=>[71724]}}),ep=s()(()=>Promise.all([n.e(3771),n.e(3752)]).then(n.bind(n,53752)),{loadableGenerated:{webpack:()=>[53752]}}),em=s()(()=>Promise.all([n.e(2048),n.e(404)]).then(n.bind(n,90404)),{loadableGenerated:{webpack:()=>[90404]}}),ef=e=>{var t,n,i,s,g,T,F,L,P,R,I,B,D,V,W,U,H,z;let{flow:q,flowDimensions:Y,isWatermarkDisplayed:J=!0,inEditMode:Z,disableCTA:$=!1,disableNavigation:X=!0,disableTracking:K=!1,onClickStage:Q,registerSource:ee,magicCursor:el,unifiedState:er,isOnLastStep:eo,themeColors:ea}=e,ef=(0,u.useRef)(!1),ev=(0,u.useRef)(null),eg=(0,c.lM)(),eb=(0,p.Ml)(),ey=(0,d._8)(),ew=(0,d.lS)(),ex=(0,u.useRef)(null),ek=(0,a.md)(w.F.stageDimensions),eC=(0,h.S)(),eE=(0,m.T)(),[ej,eS]=(0,u.useState)(null),[eN,eO]=(0,a.fp)(w.F.firstStepContentIsReady),eM=(0,a.md)(w.F.viewerDemoMode),eA=(0,a.md)(er.sourcesAtom).get(S.W_.ActiveVideo),e_=null!=ey?ey:q.steps[0],{renderedSteps:eT,renderedInteractiveSteps:eF,onPreloadStep:eL,onLoadStep:eP}=(0,C.Ay)({steps:q.steps,activeStep:ey}),eR=(0,u.useCallback)(e=>{eP(e),eN||eO(!0)},[eN,eO,eP]),eI=(0,a.md)(w.F.zoomPreviewOn),eB=(0,a.Xr)(w.F.mouseIsOnTopOfHotspot),eD=(0,a.md)(w.F.isFullscreen),eV=(0,u.useCallback)(e=>{var t;return(null==(t=(0,r.getFirstNonEmptyStep)(q.steps))?void 0:t.id)===e},[q.steps]),eW=(0,u.useMemo)(()=>(0,r.isMediaStep)(e_)&&e_.hotspots?e_.hotspots[0]:void 0,[e_]);(0,u.useEffect)(()=>{ef.current||eV(e_.id)||(ef.current=!0)},[e_.id,eV]);let{buttonBgColor:eU}=(0,u.useMemo)(()=>(0,N.J)(q,ea),[q,ea]),eH=(0,r.isMediaStep)(ey)?ey.panAndZoom:void 0,eG=(0,u.useMemo)(()=>{var e,t;if((0,r.isVideoStep)(ey)&&(null==eA?void 0:eA.active))return Z?(0,E.QH)(null!=(e=ey.videoPanAndZooms)?e:[],eA.time,eA.duration):(0,E.yh)(null!=(t=ey.videoPanAndZooms)?t:[],eA.time,eA.duration,ey)},[ey,eA,Z]),ez=!!(null==eH?void 0:eH.enabled)||!!eG,{zoomBox:eq,isZoomActive:eY,stageScope:eJ,hotspotsScope:eZ,cursorScope:e$}=function(e){let{zoomLevel:t=v.DEFAULT_ZOOMED_IN_LEVEL,position:n,triggerOnChange:l,shouldZoom:r,containerDimensions:o,easing:i="Gentle",delay:s=0,playbackRate:d=x.P3}=e,[c,p]=(0,a.fp)(w.F.zoomBox),m=(0,a.Xr)(w.F.isPanAndZoomAnimationActive),f=(0,a.md)(w.F.zoomPreviewOn),[h,g]=(0,y.l)(),[C,E]=(0,y.l)(),[j,S]=(0,y.l)();(0,u.useEffect)(()=>p(e=>({...e,zoomLevel:t})),[p,t]);let N=(0,u.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;p({top:0,left:0,height:o.height,width:o.width,zoomLevel:e})},[o.height,o.width,p]),O=(0,u.useCallback)(()=>{let e=o.width,l=o.height,r=e/t,a=l/t;if(!b()(n.top)&&!b()(n.left)){let o=n.x,i=n.y,s=o<=1?o*e:o,u=i<=1?i*l:i,d=(s-r/2)*t,c=(u-a/2)*t;d=(d=d/t+r>e?d-s/2+(r*t-s):d)<0?0:d,p({top:-(c=(c=c/t+a>l?c-u/2+(a*t-u):c)<0?0:c),left:-d,height:a,width:r,zoomLevel:t})}b()(n.top)&&b()(n.left)&&p({top:n.top*l,left:n.left*e,height:a,width:r,zoomLevel:t})},[o.height,o.width,n.left,n.top,n.x,n.y,p,t]);(0,u.useEffect)(()=>O(),[l,O]);let M=(0,u.useMemo)(()=>!!(c.zoomLevel>1&&r),[r,c.zoomLevel]),A=(0,k.Z)(r);return(0,u.useEffect)(()=>{if(!A&&!r||f&&A===r)return;let e={y:r?c.top:0,x:r?c.left:0,scale:r?c.zoomLevel:1,originX:0,originY:0},t={ease:[.4,0,.2,1],duration:Math.min(.8*c.zoomLevel,2)/d},n={ease:[.4,0,.2,1],duration:Math.min(.4*c.zoomLevel,1)/d},l={ease:[.4,0,.2,1],duration:Math.min(1.5*c.zoomLevel,3)/d},o={..."Gentle"===i?t:"Quick"===i?n:l,delay:s};m(!0),Promise.allSettled([h.current&&g(h.current,e,o).then(()=>{}),C.current&&E(C.current,e,o).then(()=>{}),j.current&&S(j.current,e,o).then(()=>{})]).then(()=>m(!1))},[h,g,c.zoomLevel,c.left,c.top,r,m,f,E,C,S,j,i,s,c,A,d]),{zoomIn:O,zoomOut:N,setZoomBox:p,zoomLevel:t,zoomBox:c,isZoomActive:M,stageScope:h,hotspotsScope:C,cursorScope:j}}({position:{x:null!=(I=null==eW?void 0:eW.x)?I:0,y:null!=(B=null==eW?void 0:eW.y)?B:0,left:null==(n=null!=eH?eH:eG)||null==(t=n.position)?void 0:t.left,top:null==(s=null!=eH?eH:eG)||null==(i=s.position)?void 0:i.top},containerDimensions:{width:ek.width,height:ek.height},zoomLevel:null!=(D=null==(g=null!=eH?eH:eG)?void 0:g.zoomLevel)?D:1.5,triggerOnChange:ey,shouldZoom:ez&&(!Z||eI),easing:null!=(V=null==(T=null!=eH?eH:eG)?void 0:T.easing)?V:"Gentle",delay:Z?0:null!=(W=null==eH?void 0:eH.delay)?W:0,playbackRate:((0,r.isVideoStep)(ey)&&null!=(U=ey.playbackRate)?U:x.P3)*er.playbackRate}),eX=(0,u.useCallback)(e=>{var t,n;let{clientX:l,clientY:r}=e;if("undefined"==typeof document)return;let o=null==(t=(n=document).elementsFromPoint)?void 0:t.call(n,l,r);if((null==o?void 0:o.length)&&o.slice(0,10).find(e=>e instanceof HTMLElement&&"mouseoverOverrideEnabledOnPanandzoom"in e.dataset))return void eB(!0);eB(!1)},[eB]),eK=(0,u.useMemo)(()=>(0,r.getBackgroundStep)(e_,q.steps),[e_,q.steps]),eQ=(0,u.useCallback)(e=>{(null==ey?void 0:ey.id)&&ee(S.W_.ActiveVideo,e)},[ee,null==ey?void 0:ey.id]),e0=(0,l.jsx)(G,{isZoomActive:Z?eI:eY,hotspotAreaRef:ex,panAndZoomHotspotsRef:eZ,panAndZoomCursorRef:e$,hotspotTippyRef:ev,unifiedState:er,...Z?{inEditMode:!0,updateHotspot:e.updateHotspot,addHotspot:e.addHotspot,splitVideo:e.onSplitVideo,deleteHotspot:e.deleteHotspot,setGridPos:eS,readOnlyMode:e.stepLevelReadOnlyMode}:{inEditMode:!1,onHotspotClick:e.onHotspotClick,navigationElementWithSound:e.navigationElementWithSound,enterNavigationElement:e.enterNavigationElement,leaveNavigationElement:e.leaveNavigationElement,autoplayStatus:e.autoplayStatus,stepDuration:e.stepDuration}}),e1=(0,a.md)(w.F.isPreviewMobile),e2=(0,u.useMemo)(()=>{var e;if(!eE||(null!=(e=q.mobileLayout)?e:"wide")!=="wide")return{};if(!q.mobileBackground)return{background:"#FFFFFF"};if("string"!=typeof q.mobileBackground)return{};let t=function(e,t){let n='\n    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 820 515">\n      <g clip-path="url(#a)">\n        <g filter="url(#b)" opacity="'.concat(t?"0.6":"0.2",'">\n          <path fill="').concat(e,'" d="M808-36.484C808 125.62 642.051-1.21 422.518-1.21 202.985-1.21 13 125.62 13-36.484 13-198.59 190.967-330 410.5-330S808-198.588 808-36.484Z"/>\n        </g>\n        <g filter="url(#c)" opacity="').concat(t?"1":"0.6",'">\n          <path fill="').concat(e,'" d="M726 539.635c0-223.324-132.133-48.597-306.931-48.597C244.271 491.038 93 316.311 93 539.635 93 762.96 234.702 944 409.5 944S726 762.96 726 539.635Z"/>\n        </g>\n      </g>\n      <defs>\n        <filter id="b" width="1400.26" height="981.258" x="-289.629" y="-632.629" color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse">\n          <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n          <feBlend in="SourceGraphic" in2="BackgroundImageFix" result="shape"/>\n          <feGaussianBlur result="effect1_foregroundBlur_6015_38217" stdDeviation="110"/>\n        </filter>\n        <filter id="c" width="1088.91" height="973.911" x="-134.956" y="198.044" color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse">\n          <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n          <feBlend in="SourceGraphic" in2="BackgroundImageFix" result="shape"/>\n          <feGaussianBlur result="effect1_foregroundBlur_6015_38217" stdDeviation="80"/>\n        </filter>\n        <clipPath id="a">\n          <path fill="#fff" d="M0 0h820v514.884H0z"/>\n        </clipPath>\n      </defs>\n    </svg>\n  ');return"data:image/svg+xml,".concat(encodeURIComponent(n))}(q.mobileBackground,(0,r.isOverlayStep)(e_));return{background:'url("'.concat(t,'") #FFFFFF no-repeat center center/cover fixed')}},[q.mobileBackground,eE,q.mobileLayout,e_]);return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{ref:eE?null:ex,...(0,O.s)("flow-presenter"),className:(0,r.cn)("relative group flex w-full h-full backdrop-blur-0 overflow-hidden",{"base-font-size":!(eE&&"fit"===q.mobileLayout&&(!(e1||ek.layout===o.ViewerLayout.MobileExpanded)||q.flowWrapper===o.FlowWrapper.mobileDark))}),onClick:e=>{Q&&!eM&&Q(e)},onMouseMove:e=>Z&&eX(e),children:[(0,l.jsxs)("div",{ref:eJ,className:(0,r.cn)("absolute select-none z-0 flex w-full h-full"),children:[(0,l.jsxs)("div",{className:(0,r.cn)("relative flex w-full h-full"),style:{...Z?{}:{zIndex:"-1"},...e2},children:[eE&&"string"!=typeof q.mobileBackground&&(null==(F=q.mobileBackground)?void 0:F.url)&&(null!=(H=q.mobileLayout)?H:"wide")==="wide"&&(0,l.jsx)(en.A,{className:(0,r.cn)("select-none absolute top-0 left-0 transform-gpu transition-opacity duration-1000 w-full h-full"),src:(0,f.kU)((0,f.NY)(null==(L=q.mobileBackground)?void 0:L.url,"dpr",String(f.Bd?window.devicePixelRatio:1))),alt:"background",layout:"fill",objectPosition:"50% 50%",objectFit:"cover",placeholder:"blur",blurDataURL:(null==(P=q.mobileBackground)?void 0:P.blurhash)&&f.Bd?(0,f.S5)(q.mobileBackground.blurhash,100,100*x.Sn):x.OU}),eT.map(t=>{var n;let a=q.steps.findIndex(e=>e.id===t.id),i=t.id===e_.id,s=eE&&q.mobileBackground&&(null!=(n=q.mobileLayout)?n:"wide")==="wide",u=t.id===(null==eK?void 0:eK.id)&&!s,d=i||u,c=(()=>{var n,s,u,c,p,m,f;if(t.type===o.StepType.Image)return(0,l.jsx)(en.A,{src:t.url,alt:(0,r.getStepName)(t,a),"aria-label":"".concat(t.id===(null==(n=eT[eT.length-1])?void 0:n.id)?"Last step":"Step"+a+"1",":\n                        ").concat((null==(s=t.pageContext)?void 0:s.title)||(null==(u=t.clickContext)?void 0:u.text)||(0,r.getStepName)(t,a),"\n                      "),"aria-hidden":!i,role:"region","aria-live":"polite",layout:"fill",onLoadingComplete:()=>eR(t.id),className:(0,r.cn)("absolute top-0 w-full h-full flex transition-opacity duration-0 backface-hidden",{"-z-max":!d,"opacity-[.001]":!d,"opacity-100":d&&ef.current,...eE?{"object-cover":!0,"object-center":!0}:(0,r.coverAndFitClasses)(t)}),style:{backgroundColor:eD?eb?"transparent":"black":null!=(p=null==(c=t.coverAndFit)?void 0:c.bgColor)?p:"transparent"},blurhash:t.blurhash,priority:d,sizes:"(min-width: 1em) 100vw, 100vw"},"image-".concat(t.id));if(t.type===o.StepType.Video){let n=(0,r.cn)("w-full h-full flex absolute top-0 left-0 right-0 bottom-0 w-full cursor-pointer",d?"opacity-100":"opacity-0 -z-10 invisible"),o=(0,r.cn)("min-w-full max-h-full relative",eE?{"object-cover":!1,"object-center":!1}:(0,r.coverAndFitClasses)(t));return Z||e.previewContext!==S.oJ.Upload?(0,l.jsx)(ep,{register:i?eQ:void 0,"aria-hidden":!i,step:t,disableTracking:K,inEditMode:Z,wrapperClassName:n,videoClassName:o,videoStyle:{backgroundColor:eD?"black":null!=(f=null==(m=t.coverAndFit)?void 0:m.bgColor)?f:"white"},onCanPlayThrough:()=>eR(t.id),zIndexStyle:(0,M.LR)(M.Py.TargetForVideo)},"video-".concat(t.id)):(0,l.jsx)(eh,{videoThumbnailUrl:(0,r.getThumbnailUrlFromVideoStep)(t),className:(0,r.cn)(eE?{"object-cover":!1,"object-center":!1}:(0,r.coverAndFitClasses)(t)),isVisible:d,children:(0,l.jsx)("div",{className:(0,r.cn)("flex overflow-hidden",n),children:(0,l.jsx)("div",{className:"relative w-full h-full group/wrapper overflow-hidden pointer-events-none",children:(0,l.jsx)("video",{className:o,"data-id":t.id,ref:i?eQ:void 0,style:(0,M.LR)(M.Py.TargetForVideo),src:q.steps.find(r.isVideoStep).url,playsInline:!0,onCanPlayThrough:()=>eO(!0)})})})},"video-".concat(t.id))}})();return eE&&i?(0,l.jsx)("div",{className:"w-full h-full",style:{zIndex:1},children:(0,l.jsx)(et,{flow:q,step:t,hotspotAreaRef:ex,hotspotAreaDimensions:eC,hotspotsArea:e0,editMode:Z,onMobileButtonClick:Z?void 0:e.onMobileButtonClick,onEditMobileFrame:Z&&"mobile_frame"!==eg.type?e.onEditMobileFrame:void 0,children:c})},"mobile-".concat(t.id)):c})]}),(0,l.jsx)(ei,{magicCursor:el,inEditMode:Z,registerSource:ee})]}),eF.map(t=>{let n=t.id===(null==ey?void 0:ey.id);if(t.type===o.StepType.Overlay)return(0,l.jsx)(eu,{style:{...(0,M.O_)(M.Py.Overlay)},step:t,inEditMode:Z,isActive:n,"aria-hidden":!n,unifiedState:er,isSmallScreenOrTile:ek.layout===o.ViewerLayout.MobileInline,isOnLastStep:eo,...Z?{updateStep:e.updateStep,previewContext:S.oJ.Edit,readOnlyMode:e.stepLevelReadOnlyMode}:{onButtonClick:e.onButtonClick,onOverlayUrlClick:e.onOverlayUrlClick,navigationElementWithSound:e.navigationElementWithSound,enterNavigationElement:e.enterNavigationElement,leaveNavigationElement:e.leaveNavigationElement,previewContext:e.previewContext}},"overlay-".concat(t.id))}),eT.concat(eF).filter(r.isNonEmptyStep).map(t=>{var n;let r=t.id===e_.id,{cameraRecording:o,syntheticVoice:a,countdown:i}=Z&&r&&"voiceover"===eg.type?eg.voiceover:{...t,countdown:null};return(0,l.jsx)(es,{cameraRecording:o,syntheticVoice:a,countdown:i,registerSource:ee,unifiedState:e.unifiedState,unifiedControls:e.unifiedControls,inEditMode:Z,isActive:r,isFirstStep:eV(t.id),previewContext:Z?void 0:e.previewContext,cameraRecordingRef:Z&&null!=(n=e.liveCameraRecordingRef)?n:void 0},"voiceover-".concat(t.id))}),(e_.type===o.StepType.Image||e_.type===o.StepType.Video)&&!eE&&e0,(0,l.jsx)("div",{className:"_hotspot-tippy-container",ref:ev,style:(0,M.O_)(M.Py.HotspotTippyContainer)}),ez&&Z&&(0,r.isMediaStep)(ey)&&(0,l.jsx)(em,{readOnlyMode:e.stepLevelReadOnlyMode,...eq,step:ey,updatePanAndZoom:e.updatePanAndZoom,setGridPos:eS,previewOn:eI,currentTimeInVideo:null==eA?void 0:eA.time,videoDuration:null==eA?void 0:eA.duration,activePanAndZoom:null!=eH?eH:eG}),Z&&!e.stepLevelReadOnlyMode&&(0,r.isOverlayStep)(ey)&&("overlay"!==eg.type||!eg.isOpen)?(0,l.jsx)(A.$n,{buttonType:A.EY.secondary,className:(0,r.cn)("absolute top-4 right-4 transition-all border-none hover:border-none active:border-none shadow-menu hover:opacity-80",{"top-6 right-6":eE&&"fit"===q.mobileLayout,"top-8 right-8":eE&&"fit"===q.mobileLayout&&q.flowWrapper===o.FlowWrapper.mobileDark}),onClick:e.onEditOverlay,style:(0,M.O_)(M.Py.OverlayEditor),children:"Edit chapter"}):null,!Z||e.stepLevelReadOnlyMode||(0,r.isOverlayStep)(ey)||!eE||(null!=(z=q.mobileLayout)?z:"wide")!=="wide"||"mobile_frame"===eg.type&&eg.isOpen?null:(0,l.jsx)(A.$n,{buttonType:A.EY.secondary,className:"absolute top-4 right-4 transition-all border-none hover:border-none active:border-none shadow-menu hover:opacity-80",onClick:e.onEditMobileFrame,style:(0,M.O_)(M.Py.OverlayEditor),children:"Edit content"}),Z&&!e.stepLevelReadOnlyMode&&ej&&!eE?(0,l.jsx)(_.y,{stageDimensions:ek,flowDimensions:Y,...ej}):null,(0,r.isNonEmptyStep)(e_)&&(null==(R=e_.cta)?void 0:R.id)&&!$&&(0,l.jsx)(ed,{stepId:e_.id,cta:e_.cta,inEditMode:Z,onReplay:()=>{let[e]=q.steps;e&&ew(e.id)},updateCTA:Z?e.updateCTA:void 0}),!Z&&ek.layout!==o.ViewerLayout.MobileExpanded&&(0,l.jsx)(ec,{onPreloadStep:eL,indicatorColor:eU,navToStep:e.navToStepClick,isWatermarkDisplayed:J,setting:X?o.FlowNavSetting.Off:(0,j.OO)(q.showFlowNavIndicator),isZoomActive:eY,enterNavigationElement:e.enterNavigationElement,leaveNavigationElement:e.leaveNavigationElement,unifiedState:e.unifiedState,unifiedControls:e.unifiedControls,updateSound:e.updateSound,copyLink:e.copyLink,toggleCaptions:e.toggleCaptions,isCaptionOn:e.isCaptionOn,autoplayStatus:e.autoplayStatus,soundSetting:e.soundSetting})]})})};function eh(e){let{videoThumbnailUrl:t,isVisible:n,children:o,className:a}=e,[i,s]=(0,u.useState)(!1);(0,u.useEffect)(()=>{if(n){let e=setTimeout(()=>s(!0),500);return()=>{clearTimeout(e),s(!1)}}},[n]);let d=n&&!i;return(0,l.jsxs)(l.Fragment,{children:[o,(0,l.jsx)("img",{src:t,alt:"",...d?(0,M.LR)(M.Py.TargetForVideo):void 0,className:(0,r.cn)("absolute top-0 left-0 w-full h-full object-cover",{"-z-max opacity-[.01]":!d,"opacity-100":d,className:a})})]})}},60385:(e,t,n)=>{n.d(t,{A:()=>a});var l,r=n(55729);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)({}).hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e}).apply(null,arguments)}let a=function(e){return r.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e),l||(l=r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 15v1.2c0 1.68 0 2.52-.327 3.162a3 3 0 0 1-1.311 1.311C18.72 21 17.88 21 16.2 21H7.8c-1.68 0-2.52 0-3.162-.327a3 3 0 0 1-1.311-1.311C3 18.72 3 17.88 3 16.2V15m14-7-5-5m0 0L7 8m5-5v12",vectorEffect:"non-scaling-stroke"})))}},61364:(e,t,n)=>{n.d(t,{A:()=>i});var l,r,o=n(55729);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)({}).hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e}).apply(null,arguments)}let i=function(e){return o.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),l||(l=o.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9.222h-1.944a1.39 1.39 0 0 0-1.39 1.39v2.777a1.39 1.39 0 0 0 1.39 1.389H17m-6.667-5.556H8.39A1.39 1.39 0 0 0 7 10.612v2.777a1.39 1.39 0 0 0 1.389 1.389h1.944",vectorEffect:"non-scaling-stroke"})),r||(r=o.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16.444 2H7.556A5.556 5.556 0 0 0 2 7.556v8.889A5.556 5.556 0 0 0 7.556 22h8.888A5.556 5.556 0 0 0 22 16.445v-8.89A5.556 5.556 0 0 0 16.444 2",vectorEffect:"non-scaling-stroke"})))}},70370:(e,t,n)=>{n.d(t,{C:()=>o,V:()=>i});var l=n(55729),r=n(2631),o=function(e){return e.Unset="UNSET",e.On="ON",e.Off="OFF",e}({});let a="arcade_viewer_caption_setting";function i(e){var t;let{doNotTrack:n,captionsVisible:o}=e,i=(0,r.A)(),[s,u]=(0,l.useState)("UNSET"),[d,c]=(0,l.useState)(null),p=null!=(t=null!=d?d:o)?t:"ON"!==s;(0,l.useEffect)(()=>{if(!n)try{let e=localStorage.getItem(a);"true"===e&&c(!0),"false"===e&&c(!1)}catch(e){}},[n]);let m=(0,l.useCallback)(()=>{let e=!p;if(i.report("Caption Toggled",{isOn:e}),c(e),!n)try{localStorage.setItem(a,"".concat(e))}catch(e){}},[p,n,i]);return{soundSetting:s,isCaptionOn:p,updateSound:(0,l.useCallback)((e,t)=>{u(e),t&&i.report("Sound Toggled",{isOn:"ON"===e})},[i]),toggleCaptions:m}}},74493:(e,t,n)=>{n.d(t,{Wu:()=>i,_Q:()=>a});var l=n(70921),r=n(67549);let o=(0,l.eU)(!0);function a(){return(0,r.md)(o)}function i(){return(0,r.Xr)(o)}},75275:(e,t,n)=>{n.d(t,{A:()=>i});var l,r,o=n(55729);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)({}).hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e}).apply(null,arguments)}let i=function(e){return o.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 32"},e),l||(l=o.createElement("g",{clipPath:"url(#cursor-arcade_svg__a)"},o.createElement("g",{filter:"url(#cursor-arcade_svg__b)",opacity:.5},o.createElement("path",{fill:"#fff",d:"M4.536 1.85s-.377-.347-.659-.508c-.379-.217-.62-.36-1.056-.366-.625-.01-1.06.198-1.443.691-.268.345-.308.622-.377 1.053-.05.32-.017.831-.017.831l.126 20.702c.002.363.004.712.03.989.021.234.077.749.447 1.16a1.83 1.83 0 0 0 1.603.588c.548-.074.923-.43 1.091-.595.2-.195.426-.46.663-.735l5.659-6.59 8.682-.281c.363-.012.712-.023.988-.056.233-.028.747-.097 1.147-.477a1.83 1.83 0 0 0 .546-1.619c-.088-.546-.454-.911-.623-1.075-.2-.194-.47-.413-.752-.643z"}),o.createElement("path",{stroke:"#111827",strokeWidth:1.681,d:"M4.536 1.85s-.377-.347-.659-.508c-.379-.217-.62-.36-1.056-.366-.625-.01-1.06.198-1.443.691-.268.345-.308.622-.377 1.053-.05.32-.017.831-.017.831l.126 20.702c.002.363.004.712.03.989.021.234.077.749.447 1.16a1.83 1.83 0 0 0 1.603.588c.548-.074.923-.43 1.091-.595.2-.195.426-.46.663-.735l5.659-6.59 8.682-.281c.363-.012.712-.023.988-.056.233-.028.747-.097 1.147-.477a1.83 1.83 0 0 0 .546-1.619c-.088-.546-.454-.911-.623-1.075-.2-.194-.47-.413-.752-.643z"})),o.createElement("path",{fill:"url(#cursor-arcade_svg__c)",d:"M4.536 1.85c-.227-.185-.457-.372-.659-.508-.191-.13-.567-.363-1.056-.366a1.83 1.83 0 0 0-1.443.691c-.305.383-.357.823-.377 1.053-.02.242-.019.539-.017.831l.126 20.702c.002.363.004.712.03.989.021.234.076.749.447 1.16a1.83 1.83 0 0 0 1.603.588c.548-.074.923-.43 1.091-.595.199-.195.426-.46.663-.735l5.659-6.59 8.682-.281c.363-.012.712-.023.988-.056.233-.028.747-.097 1.147-.477a1.83 1.83 0 0 0 .546-1.619c-.088-.546-.454-.911-.623-1.075-.2-.193-.47-.413-.752-.643z"}),o.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"m3.882 2.645-.014-.012-.052-.041-.171-.137a8 8 0 0 0-.343-.26 1.4 1.4 0 0 0-.244-.126.77.77 0 0 0-.604-.008c-.06.029-.146.087-.264.238a.5.5 0 0 0-.093.17c-.025.08-.041.174-.08.413a2.5 2.5 0 0 0-.014.36 6 6 0 0 0 .008.228v.013l.002.03.126 20.77-.002.035v.003l-.001.014a4 4 0 0 0-.008.276c-.001.188.008.356.024.447l.015.084c.04.218.057.312.086.4.02.058.041.106.106.18.132.148.23.205.302.231s.183.047.38.019a.46.46 0 0 0 .197-.068c.08-.049.153-.11.324-.25l.066-.054c.072-.059.187-.181.308-.326a6 6 0 0 0 .172-.215l.009-.011v-.002l.022-.029 5.978-6.962 9.17-.296.036.002h.017a4 4 0 0 0 .276 0c.188-.003.356-.016.446-.035l.084-.018a3 3 0 0 0 .398-.096.46.46 0 0 0 .175-.11c.146-.136.2-.237.225-.308s.042-.185.008-.381a.5.5 0 0 0-.073-.195 3 3 0 0 0-.258-.317l-.056-.065a3 3 0 0 0-.333-.299 6 6 0 0 0-.22-.166L20 15.762H20l-.03-.022zm.654-.795L20.59 14.92s.499.35.752.642l.06.069c.285.328.486.559.563 1.006.114.658-.057 1.165-.546 1.619-.333.31-.632.37-1.058.459l-.09.018c-.377.08-.987.056-.987.056l-8.682.28-5.66 6.591s-.363.49-.662.735l-.07.058c-.336.277-.571.471-1.02.537-.66.097-1.163-.088-1.604-.588-.3-.341-.355-.642-.431-1.07l-.017-.09c-.069-.38-.03-.989-.03-.989L.985 3.551s-.034-.51.017-.831l.004-.024c.066-.417.11-.69.373-1.029.384-.493.818-.7 1.443-.69.436.006.865.236 1.056.365.202.136.659.508.659.508",clipRule:"evenodd"}))),r||(r=o.createElement("defs",null,o.createElement("linearGradient",{id:"cursor-arcade_svg__c",x1:10.281,x2:.705,y1:19.006,y2:-2.662,gradientUnits:"userSpaceOnUse"},o.createElement("stop",{stopColor:"#111827"}),o.createElement("stop",{offset:1,stopColor:"#6B7280"})),o.createElement("clipPath",{id:"cursor-arcade_svg__a"},o.createElement("path",{fill:"#fff",d:"M0 0h32v32H0z"})),o.createElement("filter",{id:"cursor-arcade_svg__b",width:38.697,height:43.711,x:-5.867,y:-5.865,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},o.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),o.createElement("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),o.createElement("feOffset",{dx:2,dy:2}),o.createElement("feGaussianBlur",{stdDeviation:4}),o.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),o.createElement("feColorMatrix",{values:"0 0 0 0 0.0666667 0 0 0 0 0.0941176 0 0 0 0 0.152941 0 0 0 0.1 0"}),o.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_3077_790"}),o.createElement("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),o.createElement("feOffset",{dx:2,dy:2}),o.createElement("feGaussianBlur",{stdDeviation:2}),o.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),o.createElement("feColorMatrix",{values:"0 0 0 0 0.0666667 0 0 0 0 0.0941176 0 0 0 0 0.152941 0 0 0 0.1 0"}),o.createElement("feBlend",{in2:"effect1_dropShadow_3077_790",result:"effect2_dropShadow_3077_790"}),o.createElement("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),o.createElement("feOffset",{dx:1.5,dy:1.5}),o.createElement("feGaussianBlur",{stdDeviation:1.5}),o.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),o.createElement("feColorMatrix",{values:"0 0 0 0 0.0666667 0 0 0 0 0.0941176 0 0 0 0 0.152941 0 0 0 0.15 0"}),o.createElement("feBlend",{in2:"effect2_dropShadow_3077_790",result:"effect3_dropShadow_3077_790"}),o.createElement("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),o.createElement("feOffset",{dx:1,dy:1}),o.createElement("feGaussianBlur",{stdDeviation:1}),o.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),o.createElement("feColorMatrix",{values:"0 0 0 0 0.0666667 0 0 0 0 0.0941176 0 0 0 0 0.152941 0 0 0 0.08 0"}),o.createElement("feBlend",{in2:"effect3_dropShadow_3077_790",result:"effect4_dropShadow_3077_790"}),o.createElement("feBlend",{in:"SourceGraphic",in2:"effect4_dropShadow_3077_790",result:"shape"})))))}},76211:(e,t,n)=>{n.d(t,{w:()=>a});var l=n(36413),r=n(4765),o=n(55729);function a(e){let{disabled:t=!1,fireOnMount:a=!1,watchBody:i=!1,observerOptions:s,onResize:u,debounce:d}=e,c=(0,o.useRef)(null),[p,m]=(0,o.useState)({width:void 0,height:void 0}),f=(0,o.useCallback)(e=>{u?u(e):m(e)},[u]),h=(0,l.Y)(e=>{u?u(e):m(e)},[u],d||0);return(0,o.useEffect)(()=>{let e;if("undefined"!=typeof document&&!t){if(a){let e=i?document.body:c.current;if(e){let{width:t,height:n}=e.getBoundingClientRect();d?h({width:t,height:n}):f({width:t,height:n})}}return(async()=>{try{window.ResizeObserver||(await n.e(6387).then(n.bind(n,86387))).install(),e=new window.ResizeObserver(e=>{e.forEach(e=>{let{width:t,height:n}=e&&e.contentRect||{};d?h({width:t,height:n}):f({width:t,height:n})})}),i?e.observe(document.body,s):c.current&&e.observe(c.current,s)}catch(e){(0,r.Cp)(e)}})(),()=>{null==e||e.disconnect()}}},[i,s,t,h,f,a,d,c]),{...p,ref:c}}},78388:(e,t,n)=>{n.d(t,{v:()=>d});var l=n(80411),r=n(67549),o=n(55729),a=n(42063),i=n(82092),s=n(27680),u=n(31937);function d(e){var t,n;let d=(0,a._8)(),c=(0,r.md)(e.sourcesAtom).get(s.W_.ActiveVideo),p=null!=(t=null==c?void 0:c.time)?t:0,m=null!=(n=null==c?void 0:c.duration)?n:0;return{enabled:(0,o.useMemo)(()=>{if(!(0,l.isVideoStep)(d)||!(null==c?void 0:c.active))return!1;let t=(0,i.cy)(d,!0),n=(0,i.J3)(d,!0);return!(p<t*m)&&!(p>n*m)&&e.status===u._s.Paused},[e.status,c,d,p,m]),time:p,duration:m}}},80182:(e,t,n)=>{n.d(t,{j6:()=>s,kf:()=>i,pn:()=>a});var l=n(6029),r=n(80411),o=n(86747);function a(e,t){return(0,r.cn)("flex p-1.5 items-center rounded-lg transition-all group cursor-pointer",{"text-gray-400 hover:bg-white/[.16]":e===o.FlowWrapper.browserDark,"text-gray-400 hover:bg-gray-900/[.08]":e===o.FlowWrapper.browserLight,"text-white bg-gray-900/30 backdrop-blur-sm group-hover/stage:bg-gray-900/50 hover:!bg-gray-900/70":e===o.FlowWrapper.none},t)}function i(e,t){return(0,r.cn)("w-3.5 h-3.5 transition-all shrink-0",{"group-hover:text-gray-600":e===o.FlowWrapper.browserLight,"group-hover:text-gray-200":e===o.FlowWrapper.browserDark},t)}function s(e,t,n){return{text:e,placement:"left",arrow:!0,offset:[0,12],animation:"shift-away",theme:"arcade-tooltip-browser",content:(0,l.jsx)("span",{ref:n,className:"cursor-pointer whitespace-nowrap",onClick:t,children:e})}}},82856:(e,t,n)=>{n.d(t,{A:()=>a});var l,r=n(55729);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)({}).hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e}).apply(null,arguments)}let a=function(e){return r.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24"},e),l||(l=r.createElement("path",{d:"M4.5 4.566c0-1.562 1.71-2.52 3.043-1.706l12.164 7.433c1.277.78 1.277 2.634 0 3.414L7.543 21.14c-1.333.815-3.043-.144-3.043-1.706z",vectorEffect:"non-scaling-stroke"})))}},83629:(e,t,n)=>{n.d(t,{A:()=>a});var l,r=n(55729);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)({}).hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e}).apply(null,arguments)}let a=function(e){return r.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),l||(l=r.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.748 5A11.95 11.95 0 0 1 22 12c0 2.612-.835 5.03-2.252 7M15.745 8A6.97 6.97 0 0 1 17 12a6.97 6.97 0 0 1-1.255 4M9.635 4.366 6.468 7.53c-.173.173-.26.26-.36.322a1 1 0 0 1-.29.12C5.704 8 5.582 8 5.337 8H3.6c-.56 0-.84 0-1.054.109a1 1 0 0 0-.437.437C2 8.76 2 9.04 2 9.6v4.8c0 .56 0 .84.109 1.054a1 1 0 0 0 .437.437C2.76 16 3.04 16 3.6 16h1.737c.245 0 .367 0 .482.028a1 1 0 0 1 .29.12c.1.061.187.148.36.32l3.165 3.166c.429.429.643.643.827.657a.5.5 0 0 0 .42-.174c.119-.14.119-.443.119-1.048V4.93c0-.606 0-.908-.12-1.049a.5.5 0 0 0-.42-.173c-.183.014-.397.228-.826.657",vectorEffect:"non-scaling-stroke"})))}},88928:(e,t,n)=>{n.d(t,{A:()=>s});var l,r,o,a=n(55729);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)({}).hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e}).apply(null,arguments)}let s=function(e){return a.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 21 30"},e),l||(l=a.createElement("g",{filter:"url(#cursor-default_svg__a)"},a.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"m11.09 26 2.456-1.332 2.129-1.115-3.386-6.398H18L3 2v21.275l4.371-4.279z",clipRule:"evenodd"}))),r||(r=a.createElement("path",{fill:"#000",fillRule:"evenodd",d:"m11.463 24.043 2.327-1.25-3.658-6.91h4.75L4.305 5.197V20.06l3.335-3.244z",clipRule:"evenodd"})),o||(o=a.createElement("defs",null,a.createElement("filter",{id:"cursor-default_svg__a",width:19.782,height:28.782,x:.609,y:.937,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},a.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),a.createElement("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),a.createElement("feOffset",{dy:1.328}),a.createElement("feGaussianBlur",{stdDeviation:1.196}),a.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.65 0"}),a.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_2176_1413"}),a.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_2176_1413",result:"shape"})))))}},89908:(e,t,n)=>{n.d(t,{r:()=>v});var l=n(6029),r=n(8467),o=n(80411),a=n(95669),i=n.n(a),s=n(6772),u=n.n(s),d=n(55729),c=n(10471),p=n(15631),m=n(82092),f=n(82834),h=n(8393);function v(e){let{demoBaseUrl:t,appBaseUrl:n,twitterCardHeight:a,teamName:s}=e,v=(0,c.qM)(),{customLink:g}=(0,d.useContext)(p.c),b=1920*v.aspectRatio,y=g?"/".concat(g.id):"",w=(0,o.withCustomVariables)(v.name,v.customVariables,null==g?void 0:g.variables),x=(0,o.withCustomVariables)(v.description,v.customVariables,null==g?void 0:g.variables),k=(0,f.$C)(v);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(i(),{children:[(0,l.jsx)("link",{rel:"iframely app",type:"text/html",href:"".concat(t,"/").concat(v.id).concat(y,"?embed"),media:"aspect-ratio: 1920/".concat(b,"; padding-bottom:").concat(r.BROWSER_BAR_OR_CAPTION_HEIGHT)}),(0,l.jsx)("link",{rel:"alternate",type:"application/json+oembed",href:"".concat((0,m.$_)(),"/api/oembed?url=").concat(encodeURI("".concat(n,"/share/").concat(v.id).concat(y))),title:w}),(0,l.jsx)("meta",{charSet:"UTF-8"}),(0,l.jsx)("meta",{name:"generator",content:"Powered by Arcade -- Creating interactive experiences. Visit us at https://arcade.software."}),(0,l.jsx)("meta",{content:"text/html; charset=UTF-8",httpEquiv:"Content-Type"}),(0,l.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,l.jsx)("meta",{name:"robots",content:"max-image-preview:large,noindex,nofollow"}),(0,l.jsx)("meta",{name:"description",content:x}),(0,l.jsx)("meta",{name:"author",content:s}),(0,l.jsx)("meta",{name:"copyright",content:"Arcade Software"}),(0,l.jsx)("meta",{name:"twitter:card",content:"player"}),(0,l.jsx)("meta",{name:"twitter:site",content:"@arcade_demo"}),(0,l.jsx)("meta",{name:"twitter:title",content:w}),(0,l.jsx)("meta",{name:"twitter:description",content:x}),(0,l.jsx)("meta",{name:"twitter:image:alt",content:x}),(0,l.jsx)("meta",{name:"twitter:image",content:k}),(0,l.jsx)("meta",{name:"twitter:player",content:"".concat(t,"/").concat(v.id).concat(y)}),(0,l.jsx)("meta",{name:"twitter:player:width",content:"".concat(h.o7)}),(0,l.jsx)("meta",{name:"twitter:player:height",content:"".concat(a)}),(0,l.jsx)("meta",{property:"og:locale",content:"en_US"}),(0,l.jsx)("meta",{property:"og:site_name",content:"Arcade"}),(0,l.jsx)("meta",{name:"title",property:"og:title",content:w}),(0,l.jsx)("meta",{name:"description",property:"og:description",content:x}),(0,l.jsx)("meta",{name:"image",property:"og:image",content:k}),(0,l.jsx)("meta",{property:"og:image:secure_url",content:k}),(0,l.jsx)("meta",{property:"og:url",content:"".concat(n,"/share/").concat(v.id).concat(y)}),(0,l.jsx)("meta",{property:"og:image:width",content:"".concat(h.o7)}),(0,l.jsx)("meta",{property:"og:image:height",content:"".concat(a)}),(0,l.jsx)("meta",{property:"og:type",content:"article"}),(0,l.jsx)("meta",{property:"article:modified_time",content:v.modified.toISOString()})]}),(0,l.jsx)(u(),{id:"ld-json",type:"application/ld+json",dangerouslySetInnerHTML:{__html:'{\n            "@context": "http://schema.org/",\n            "@type": "Article",\n            "mainEntityOfPage": {\n              "@type": "WebPage",\n              "@id": "'.concat(n,"/share/").concat(v.id).concat(y,'"\n            },\n            "author": {\n              "@type": "Organization",\n              "name": "').concat(s,'"\n            },\n            "publisher": {\n              "@type": "Organization",\n              "name": "Arcade Software",\n              "logo": {\n                "@type": "ImageObject",\n                "url": "https://cdn.arcade.software/images/button-logo-128.png"\n              }\n            },\n            "headline": "').concat(w,'",\n            "image": "').concat(k,'",\n            "datePublished": "').concat(v.created.toISOString(),'",\n            "dateModified": "').concat(v.modified.toISOString(),'"\n          }')}})]})}},93030:(e,t,n)=>{n.d(t,{A:()=>a});var l,r=n(55729);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)({}).hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e}).apply(null,arguments)}let a=function(e){return r.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),l||(l=r.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.19 12.906a4.53 4.53 0 0 0 5.205 1.531 4.5 4.5 0 0 0 1.62-1.042l2.715-2.718A4.533 4.533 0 0 0 16.514 3a4.52 4.52 0 0 0-3.183 1.272L11.774 5.82m2.036 5.273a4.53 4.53 0 0 0-5.205-1.531 4.5 4.5 0 0 0-1.62 1.042L4.27 13.323A4.533 4.533 0 0 0 7.486 21a4.52 4.52 0 0 0 3.183-1.272l1.548-1.549",vectorEffect:"non-scaling-stroke"})))}},97281:(e,t,n)=>{n.d(t,{A:()=>a});var l,r=n(55729);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)({}).hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e}).apply(null,arguments)}let a=function(e){return r.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),l||(l=r.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h14m-9-5-5 5m5 5-5-5",vectorEffect:"non-scaling-stroke"})))}},99151:(e,t,n)=>{n.d(t,{J:()=>a});var l=n(80411),r=n(49864),o=n(82092);let a=(e,t)=>{if(null==t?void 0:t.bgColor){var n;return{buttonBgColor:t.bgColor,buttonFgColor:null!=(n=t.fgColor)?n:(0,o.hB)(t.bgColor)}}if(e){for(let t of e.steps)if((0,l.isMediaStep)(t)&&t.hotspots){for(let e of t.hotspots)if(e&&e.bgColor)return{buttonBgColor:e.bgColor,buttonFgColor:e.textColor||r.defaultUserPrefs.textColor}}}return{buttonBgColor:r.defaultUserPrefs.bgColor,buttonFgColor:r.defaultUserPrefs.textColor}}}}]);